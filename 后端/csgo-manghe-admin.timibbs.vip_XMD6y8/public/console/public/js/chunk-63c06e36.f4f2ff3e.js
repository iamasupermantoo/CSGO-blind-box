(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63c06e36"],{"18d6":function(t,e,a){"use strict";a("dab6")},"2a82":function(t,e,a){},3716:function(t,e,a){"use strict";a("2a82")},"4faa":function(t,e,a){"use strict";var i={users:[]},s=(a("a1d1"),{SET_USERS:function(t,e){t.users=e},REMOVE_RECORD:function(t,e){var a=t.users.findIndex((function(t){return t.id===e}));t.users.splice(a,1)}}),n=a("bb36"),r={fetchUsers:function(t){var e=t.commit;return new Promise((function(t,a){n["a"].get("/api/user-management/users").then((function(a){e("SET_USERS",a.data),t(a)})).catch((function(t){a(t)}))}))},fetchUser:function(t,e){return new Promise((function(t,a){n["a"].get("/api/user-management/users/".concat(e)).then((function(e){t(e)})).catch((function(t){a(t)}))}))},removeRecord:function(t,e){var a=t.commit;return new Promise((function(t,i){n["a"].delete("/api/user-management/users/".concat(e)).then((function(i){a("REMOVE_RECORD",e),t(i)})).catch((function(t){i(t)}))}))}},o={};e["a"]={isRegistered:!1,namespaced:!0,state:i,mutations:s,actions:r,getters:o}},"5a21":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:""}},[a("vx-card",[a("div",{staticClass:"tabs-container px-6 pt-6",attrs:{slot:"no-body"},slot:"no-body"},[a("vs-tabs",{staticClass:"tab-action-btn-fill-conatiner",model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("vs-tab",{attrs:{label:"奖品信息","icon-pack":"feather",icon:"icon-info"}},[a("div",{staticClass:"tab-text"},[a("prizes",{attrs:{sidebarData:t.sidebarData}})],1)]),a("vs-tab",{attrs:{label:"玩家信息","icon-pack":"feather",icon:"icon-share-2"}},[a("div",{staticClass:"tab-text"},[a("player",{staticClass:"mt-4",attrs:{data:t.playerData}})],1)])],1)],1)])],1)},s=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page-user-list"}},[a("add-skin",{attrs:{addSkinActive:t.addSkinSidebar,data:t.sidebarData,free_room_id:t.free_room_id},on:{closeSidebar:function(e){t.addSkinSidebar=!1}}}),a("edit",{attrs:{editActive:t.editbar,data:t.editData},on:{closeEditbar:function(e){t.editbar=!1},get:t.getPrizes}}),a("div",{staticClass:"vx-card p-6"},[a("div",{staticClass:"flex flex-wrap items-center"},[a("div",{staticClass:"flex-grow"},[a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[t._v(t._s(t.currentPage*t.pageSize-(t.pageSize-1))+" - "+t._s(t.currentPage*t.pageSize)+" of "+t._s(t.total))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(e){t.pageSize=10}}},[a("span",[t._v("10")])]),a("vs-dropdown-item",{on:{click:function(e){t.pageSize=20}}},[a("span",[t._v("20")])]),a("vs-dropdown-item",{on:{click:function(e){t.pageSize=25}}},[a("span",[t._v("25")])]),a("vs-dropdown-item",{on:{click:function(e){t.pageSize=30}}},[a("span",[t._v("30")])])],1)],1),t._v("\n          总奖池：$"+t._s(t.pool)+"\n      ")],1),a("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",attrs:{placeholder:"Search..."},on:{input:t.updateSearchQuery},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),a("vs-button",{on:{click:t.addSkin}},[t._v("添加")])],1),a("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{components:t.components,gridOptions:t.gridOptions,columnDefs:t.columnDefs,defaultColDef:t.defaultColDef,rowData:t.list,rowSelection:"multiple",colResizeDefault:"shift",animateRows:!0,floatingFilter:!1,pagination:!0,pageSize:t.pageSize,suppressPaginationPanel:!0,enableRtl:t.$vs.rtl}}),a("vs-pagination",{attrs:{total:t.totalPages,max:7},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},r=[],o=(a("b06f"),a("bd58")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.addSkinActiveLocal,callback:function(e){t.addSkinActiveLocal=e},expression:"addSkinActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[t._v("\n      添加饰品\n    ")]),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.addSkinActiveLocal=!1}}})],1),a("vs-divider",{staticClass:"mb-0"}),a(t.scrollbarTag,{key:t.$vs.rtl,tag:"component",staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[a("div",{staticClass:"p-6"},[a("div",{staticClass:"data-list-container",attrs:{id:"data-list-list-view"}},[a("vs-table",{ref:"table",attrs:{multiple:"","max-items":t.pageSize,search:"",data:t.products},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return[a("tbody",t._l(i,(function(e,i){return a("vs-tr",{key:i,attrs:{data:e}},[a("vs-td",{staticClass:"img-container"},[a("img",{staticClass:"product-img",attrs:{src:e.imageUrl}})]),a("vs-td",[a("p",{staticClass:"product-name font-medium truncate"},[t._v(t._s(e.itemName))])]),a("vs-td",[a("p",{staticClass:"product-price"},[t._v("$"+t._s(e.price))])]),a("vs-td",[a("p",{staticClass:"product-category"},[t._v(t._s(e.rarityName))])]),a("vs-td",{staticClass:"whitespace-no-wrap"},[a("a",{on:{click:function(a){return a.stopPropagation(),t.addSkin(e)}}},[t._v("添加")])])],1)})),1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center data-list-btn-container"}),a("vs-dropdown",{staticClass:"cursor-pointer mb-4 mr-4 items-per-page-handler",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[t._v(t._s(t.currentPage*t.pageSize-(t.pageSize-1))+" - "+t._s(t.currentPage*t.pageSize)+" of "+t._s(t.total))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(e){t.pageSize=10}}},[a("span",[t._v("10")])]),a("vs-dropdown-item",{on:{click:function(e){t.pageSize=20}}},[a("span",[t._v("20")])]),a("vs-dropdown-item",{on:{click:function(e){t.pageSize=30}}},[a("span",[t._v("30")])]),a("vs-dropdown-item",{on:{click:function(e){t.pageSize=50}}},[a("span",[t._v("50")])])],1)],1)],1),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"imageUrl"}},[t._v("图片")]),a("vs-th",{attrs:{"sort-key":"itemName"}},[t._v("名称")]),a("vs-th",{attrs:{"sort-key":"priceInfo.price"}},[t._v("价格")]),a("vs-th",{attrs:{"sort-key":"rarityName"}},[t._v("分类")]),a("vs-th",[t._v("操作")])],1)],2)],1)])]),a("div",{staticClass:"flex flex-wrap items-center p-6 pagination",staticStyle:{display:"flex"},attrs:{slot:"footer"},slot:"footer"},[a("vs-button",{staticClass:"mr-6"},[t._v("提交")]),a("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(e){t.addSkinActiveLocal=!1}}},[t._v("取消")]),a("vs-pagination",{attrs:{total:t.totalPages,max:7},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},l=[],d=a("c322"),u=a.n(d),p={name:"AddSkin",props:{addSkinActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}},free_room_id:{type:String,default:null}},components:{VuePerfectScrollbar:u.a},data:function(){return{dataBoxId:null,settings:{maxScrollbarLength:60,wheelSpeed:.6},file:"",skinTypeList:[],selected:[],isMounted:!1,addNewDataSidebar:!1,sidebarData:{},products:[],total:0,currentPage:1,pageSize:10,totalPages:0,components:{}}},watch:{addSkinActive:function(t){this.getSkinList()},currentPage:{handler:function(t){var e=this;e.currentPage=t,e.getSkinList()},deep:!0},pageSize:{handler:function(t){var e=this;e.pageSize=t,e.getSkinList()},deep:!0}},computed:{addSkinActiveLocal:{get:function(){return this.addSkinActive},set:function(t){t||this.$emit("closeSidebar")}},isFormValid:function(){return!this.errors.any()&&this.dataName&&this.dataCategory&&this.dataPrice>0},scrollbarTag:function(){return this.$store.getters.scrollbarTag}},methods:{getSkinList:function(){var t=this;t.$axios({url:"/admin/all_skin/allSkinList",method:"post",data:{page:t.currentPage,pageSize:t.pageSize}}).then((function(e){t.products=e.data.data.list,t.total=e.data.data.total,t.totalPages=t.pageTotal(t.total,t.pageSize),console.log(t.total),console.log(t.currentPage)}))},addSkin:function(t){console.log(t);var e=this,a={free_room_id:e.free_room_id,skin_id:t.id};console.log(a),e.$axios({url:"/admin/Free/addSkinToRoom",method:"post",data:{data:a}}).then((function(t){1==t.data.status?(e.$emit("closeSidebar"),e.$parent.getPrizes(),e.$vs.notify({color:"success",title:"提示",text:t.data.msg})):e.$vs.notify({color:"warning",title:"提示",text:t.data.msg})}))},pageTotal:function(t,e){return null==t||""==t?0:0!=e&&t%e==0?parseInt(t/e):0!=e&&t%e!=0?parseInt(t/e)+1:void 0}},mounted:function(){}},f=p,m=(a("f263"),a("5d22")),g=Object(m["a"])(f,c,l,!1,null,"b3c3a2f8",null),v=g.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isEditActive,callback:function(e){t.isEditActive=e},expression:"isEditActive"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[t._v("设置")]),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isEditActive=!1}}})],1),a("vs-divider",{staticClass:"mb-0"}),a(t.scrollbarTag,{key:t.$vs.rtl,tag:"component",staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[a("div",{staticClass:"p-6"},[t.skinInfo.imageUrl?[a("div",{staticClass:"img-container w-64 mx-auto flex items-center justify-center"},[a("img",{staticClass:"responsive",attrs:{src:t.skinInfo.imageUrl,alt:"img"}})]),a("div",{staticClass:"modify-img flex justify-between mt-5"})]:t._e(),a("vs-input",{staticClass:"mt-5 w-full",attrs:{label:"饰品名称",disabled:""},model:{value:t.skinInfo.itemName,callback:function(e){t.$set(t.skinInfo,"itemName",e)},expression:"skinInfo.itemName"}}),a("vs-input",{staticClass:"mt-5 w-full",attrs:{label:"价格",disabled:""},model:{value:t.skinInfo.price,callback:function(e){t.$set(t.skinInfo,"price",e)},expression:"skinInfo.price"}}),a("vs-input",{staticClass:"mt-5 w-full",attrs:{label:"指定账号"},model:{value:t.skinInfo.appoint,callback:function(e){t.$set(t.skinInfo,"appoint",e)},expression:"skinInfo.appoint"}})],2)]),a("div",{staticClass:"flex flex-wrap items-center p-6",attrs:{slot:"footer"},slot:"footer"},[a("vs-button",{staticClass:"mr-6",on:{click:t.submitData}},[t._v("提交")]),a("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(e){t.isEditActive=!1}}},[t._v("关闭")])],1)],1)},b=[],k=(a("612f"),a("bd70"),{props:{editActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},components:{VuePerfectScrollbar:u.a},data:function(){return{dataImg:"",settings:{maxScrollbarLength:60,wheelSpeed:.6},skinInfo:{},skinInfoOption:[],conditionOption:[]}},watch:{editActive:function(t){t&&(console.log(this.data),0===Object.entries(this.data).length||(this.skinInfo=this.data,this.initValues()))}},computed:{isEditActive:{get:function(){return this.editActive},set:function(t){t||this.$emit("closeEditbar")}},scrollbarTag:function(){return this.$store.getters.scrollbarTag}},methods:{initValues:function(){this.data.id},submitData:function(){var t=this,e=this;console.log(e.skinInfo),e.$axios({url:"/admin/Free/appoint",method:"post",data:{free_skins_id:e.skinInfo.free_skins_id,skin_id:e.skinInfo.id,free_room_id:e.skinInfo.free_room_id,account:e.skinInfo.appoint}}).then((function(e){console.log(e),1==e.data.status?(t.$emit("closeEditbar"),t.initValues(),t.$emit("get"),t.$vs.notify({color:"success",title:"提示",text:e.data.msg})):t.$vs.notify({color:"danger",title:"提示",text:e.data.msg})}))}}}),_=k,S=(a("18d6"),Object(m["a"])(_,h,b,!1,null,"8e74a4d0",null)),w=S.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{direction:t.$vs.rtl?"rtl":"ltr"}},[a("feather-icon",{attrs:{icon:"Edit3Icon",svgClasses:"h-5 w-5 mr-4 hover:text-primary cursor-pointer"},on:{click:function(e){return t.editRecord(t.params)}}}),a("feather-icon",{attrs:{icon:"Trash2Icon",svgClasses:"h-5 w-5 hover:text-danger cursor-pointer"},on:{click:function(e){return t.confirmDeleteRecord(t.params)}}})],1)},x=[],C={name:"CellRendererActions",data:function(){return{delete_id:""}},methods:{editRecord:function(t){this.$parent.$parent.editSkin(t)},confirmDeleteRecord:function(t){this.delete_id=t.data.free_skins_id,this.$vs.dialog({type:"confirm",color:"danger",title:"提示",text:'确定删除 "'.concat(this.params.data.itemName,'"？'),accept:this.deleteRecord,acceptText:"确定",cancelText:"取消"})},deleteRecord:function(){var t=this;t.$axios({url:"/admin/Free/delSkin",method:"post",data:{id:t.delete_id}}).then((function(e){1==e.data.status&&(t.$parent.$parent.getPrizes(),t.showDeleteSuccess())}))},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"提示",text:"删除成功"})}}},P=C,z=Object(m["a"])(P,y,x,!1,null,null,null),D=z.exports,$=(a("4e06"),{components:{AgGridVue:o["AgGridVue"],AddSkin:v,CellRendererActions:D,Edit:w},props:{totalProbability:Number},data:function(){return{addNewDataSidebar:!1,addSkinSidebar:!1,editbar:!1,sidebarData:{},editData:{},searchQuery:"",list:[],skinTypeList:[],gridApi:null,gridOptions:{},defaultColDef:{sortable:!0,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:"名称",field:"itemName",filter:!0},{headerName:"饰品价格",field:"price",filter:TextTrackCue},{headerName:"指定账户",field:"appoint"},{headerName:"操作",field:"rem",cellRendererFramework:"CellRendererActions"}],total:0,currentPage:1,pageSize:10,totalPages:0,components:{CellRendererActions:D},searchKey:"",free_room_id:this.$route.query.id,pool:""}},watch:{addSkinActive:function(t){console.log(t)},currentPage:function(t){var e=this;e.currentPage=t,e.getPrizes()},pageSize:function(t){var e=this;e.pageSize=t,e.getPrizes()}},computed:{},methods:{activeSon:function(){console.log(11111111111111111e5)},getPrizes:function(){var t=this;t.$axios({url:"/admin/Free/prizeList",method:"post",data:{free_room_id:t.free_room_id,searchKey:t.searchKey,page:t.currentPage,pageSize:t.pageSize}}).then((function(e){t.list=e.data.data.list,t.pool=e.data.data.pool,t.total=e.data.data.total,t.totalPages=t.pageTotal(e.data.data.total,t.pageSize)}))},addSkin:function(){var t=this;t.addSkinSidebar=!0},editSkin:function(t){var e=this;e.editbar=!0,e.editData=t.data,e.editData.free_room_id=e.free_room_id},pageTotal:function(t,e){return null==t||""==t?0:0!=e&&t%e==0?parseInt(t/e):0!=e&&t%e!=0?parseInt(t/e)+1:void 0},updateSearchQuery:function(t){this.gridApi.setQuickFilter(t)}},mounted:function(){this.gridApi=this.gridOptions.api,this.getPrizes()},created:function(){}}),A=$,I=(a("3716"),Object(m["a"])(A,n,r,!1,null,null,null)),T=I.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page-user-list"}},[a("div",{staticClass:"vx-card p-6"},[a("div",{staticClass:"flex flex-wrap items-center"},[a("div",{staticClass:"flex-grow"},[a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[t._v(t._s(t.currentPage*t.pageSize-(t.pageSize-1))+" - "+t._s(t.currentPage*t.pageSize)+" of "+t._s(t.total))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(e){t.pageSize=10}}},[a("span",[t._v("10")])]),a("vs-dropdown-item",{on:{click:function(e){t.pageSize=20}}},[a("span",[t._v("20")])]),a("vs-dropdown-item",{on:{click:function(e){t.pageSize=25}}},[a("span",[t._v("25")])]),a("vs-dropdown-item",{on:{click:function(e){t.pageSize=30}}},[a("span",[t._v("30")])])],1)],1)],1)]),a("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{gridOptions:t.gridOptions,columnDefs:t.columnDefs,defaultColDef:t.defaultColDef,rowData:t.list,rowSelection:"multiple",colResizeDefault:"shift",animateRows:!0,floatingFilter:!1,pagination:!0,pageSize:t.pageSize,suppressPaginationPanel:!0,enableRtl:t.$vs.rtl}}),a("vs-pagination",{attrs:{total:t.totalPages,max:7},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])},E=[],O={components:{AgGridVue:o["AgGridVue"]},props:{totalProbability:Number},data:function(){return{addNewDataSidebar:!1,addSkinSidebar:!1,editbar:!1,sidebarData:{},playerData:{},editData:{},searchQuery:"",list:[],skinTypeList:[],gridApi:null,gridOptions:{},defaultColDef:{sortable:!0,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:"姓名",field:"name",filter:!0},{headerName:"账号",field:"mobile",filter:TextTrackCue}],total:0,currentPage:1,pageSize:10,totalPages:0,searchKey:"",free_room_id:this.$route.query.id}},watch:{addSkinActive:function(t){console.log(t)},currentPage:function(t){var e=this;e.currentPage=t,e.getPrizes()},pageSize:function(t){var e=this;e.pageSize=t,e.getPrizes()}},computed:{},methods:{getPrizes:function(){var t=this;t.$axios({url:"/admin/Free/players",method:"post",data:{free_room_id:t.free_room_id,searchKey:t.searchKey,page:t.currentPage,pageSize:t.pageSize}}).then((function(e){t.list=e.data.data.list,t.total=e.data.data.total,t.totalPages=t.pageTotal(e.data.data.total,t.pageSize)}))},addSkin:function(){var t=this;t.addSkinSidebar=!0},editSkin:function(t){var e=this;e.editbar=!0,e.editData=t.data,e.editData.free_room_id=e.free_room_id},pageTotal:function(t,e){return null==t||""==t?0:0!=e&&t%e==0?parseInt(t/e):0!=e&&t%e!=0?parseInt(t/e)+1:void 0},updateSearchQuery:function(t){this.gridApi.setQuickFilter(t)}},mounted:function(){this.gridApi=this.gridOptions.api,this.getPrizes()},created:function(){}},N=O,j=(a("917a"),Object(m["a"])(N,R,E,!1,null,null,null)),L=j.exports,F=(a("4faa"),{components:{Prizes:T,Player:L},data:function(){return{roon_not_found:!0,room_id:this.$route.query.id,activeTab:0,sidebarData:{},playerData:{}}},watch:{},methods:{getSkins:function(){var t=this,e=this;e.$axios({url:"/admin/Box/boxInfo",method:"post",data:{box_id:e.box_id}}).then((function(e){t.user_data=e.data.data,t.totalProbability=e.data.data.totalProbability,t.user_data.roleFilter={label:e.data.data.rarity_name,value:e.data.data.rarity}}))}},created:function(){console.log(this.$route)}}),V=F,Q=Object(m["a"])(V,i,s,!1,null,null,null);e["default"]=Q.exports},"8c0b":function(t,e,a){},"917a":function(t,e,a){"use strict";a("8c0b")},b0ca:function(t,e,a){},dab6:function(t,e,a){},f263:function(t,e,a){"use strict";a("b0ca")}}]);
//# sourceMappingURL=chunk-63c06e36.f4f2ff3e.js.map