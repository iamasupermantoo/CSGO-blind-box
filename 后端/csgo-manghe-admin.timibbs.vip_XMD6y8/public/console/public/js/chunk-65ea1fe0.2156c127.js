(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65ea1fe0"],{"0cd7":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},s=[],r=(a("b06f"),{name:"DelFrame",props:{delValide:{type:Boolean,required:!0},delStatus:{type:[String,Number],default:null},delMsg:{type:String,default:null}},watch:{delValide:{handler:function(e){e&&this.confirmDeleteRecord()},deep:!0},delStatus:{handler:function(e){1==e?this.showDeleteSuccess(this.delMsg):2==e&&this.showDeleteDefault(this.delMsg)},deep:!0}},data:function(){return{delete_id:""}},methods:{confirmDeleteRecord:function(e){this.$vs.dialog({type:"confirm",color:"danger",title:"提示",text:"确定删除？",accept:this.deleteRecord,cancel:this.cancel,acceptText:"确定",cancelText:"取消"})},deleteRecord:function(){var e=this;e.$emit("closeDel",!0),e.$parent.delValide=!1},cancel:function(){var e=this;e.$emit("closeDel",!1),e.$parent.delValide=!1},showDeleteSuccess:function(e){this.$vs.notify({color:"success",title:"提示",text:e||"删除成功"})},showDeleteDefault:function(e){this.$vs.notify({color:"danger",title:"提示",text:e||"删除失败"})}},mounted:function(){}}),n=r,o=a("5d22"),l=Object(o["a"])(n,i,s,!1,null,null,null);t["a"]=l.exports},"436e":function(e,t,a){},"5c13":function(e,t,a){"use strict";a("436e")},"6f4b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("del-frame",{attrs:{delValide:e.delValide,delStatus:e.delStatus},on:{closeDel:e.isDel}}),a("box-rarity-editer",{attrs:{isSidebarActive:e.addNewDataSidebar,data:e.sidebarData},on:{closeSidebar:e.toggleDataSidebar,reload:e.getBoxType}}),a("vx-card",{attrs:{"code-toggler":""}},[a("vs-dropdown",{staticClass:"cursor-pointer mb-4 mr-4 items-per-page-handler",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.pageSize-(e.pageSize-1))+" - "+e._s(e.currentPage*e.pageSize)+" of "+e._s(e.total))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(t){e.pageSize=10}}},[a("span",[e._v("10")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=20}}},[a("span",[e._v("20")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=30}}},[a("span",[e._v("30")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=50}}},[a("span",[e._v("50")])])],1)],1),a("div",{staticClass:"vx-card p-6"},[a("div",{staticClass:"flex flex-wrap items-center"},[a("vs-button",{on:{click:e.addNewData}},[e._v("添加")])],1)]),a("vs-table",{attrs:{stripe:"",data:e.users},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.data;return e._l(i,(function(t,i){return a("vs-tr",{key:i},[a("vs-td",[e._v("\n            "+e._s(t.id)+"\n          ")]),a("vs-td",[e._v("\n              "+e._s(t.type_name)+"\n          ")]),a("vs-td",[e._v("\n              "+e._s(t.order)+"\n          ")]),a("vs-td",[e._v("\n            "+e._s(t.create_time)+"\n          ")]),a("vs-td",[a("div",{style:{direction:e.$vs.rtl?"rtl":"ltr"}},[a("feather-icon",{attrs:{icon:"Edit3Icon",svgClasses:"h-5 w-5 mr-4 hover:text-primary cursor-pointer"},on:{click:function(a){return e.toEdit(t)}}}),a("feather-icon",{attrs:{icon:"Trash2Icon",svgClasses:"h-5 w-5 hover:text-danger cursor-pointer"},on:{click:function(a){return e.Delete(t.id)}}})],1)])],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[e._v("id")]),a("vs-th",[e._v("分类名称")]),a("vs-th",[e._v("排序")]),a("vs-th",[e._v("添加时间")]),a("vs-th",[e._v("操作")])],1)],2)],1),a("vs-pagination",{attrs:{total:e.totalPages,max:7},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)},s=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:e.isSidebarActiveLocal,callback:function(t){e.isSidebarActiveLocal=t},expression:"isSidebarActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[e._v("\n      "+e._s(0===Object.entries(this.data).length?"添加":"编辑")+" 分类\n    ")]),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(t){t.stopPropagation(),e.isSidebarActiveLocal=!1}}})],1),a("vs-divider",{staticClass:"mb-0"}),a(e.scrollbarTag,{key:e.$vs.rtl,tag:"component",staticClass:"scroll-area--data-list-add-new",attrs:{settings:e.settings}},[a("div",{staticClass:"p-6"},[a("vs-input",{staticClass:"mt-5 w-full",attrs:{label:"分类名称",name:"item-type_name"},model:{value:e.type_name,callback:function(t){e.type_name=t},expression:"type_name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("item-type_name"),expression:"errors.has('item-type_name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("item-type_name")))]),a("vs-input",{staticClass:"mt-5 w-full",attrs:{label:"排序",name:"item-order"},model:{value:e.order,callback:function(t){e.order=t},expression:"order"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("item-order"),expression:"errors.has('item-order')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("item-order")))])],1)]),a("div",{staticClass:"flex flex-wrap items-center p-6",attrs:{slot:"footer"},slot:"footer"},[a("vs-button",{staticClass:"mr-6",on:{click:e.submitData}},[e._v("提交")]),a("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(t){e.isSidebarActiveLocal=!1}}},[e._v("取消")])],1)],1)},n=[],o=(a("612f"),a("bd70"),a("c322")),l=a.n(o),d={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},components:{VuePerfectScrollbar:l.a},data:function(){return{boxId:null,type_name:"",order:"",settings:{maxScrollbarLength:60,wheelSpeed:.6},file:""}},watch:{isSidebarActive:function(e){if(e)if(console.log(this.data),0===Object.entries(this.data).length)this.initValues();else{var t=JSON.parse(JSON.stringify(this.data)),a=t.id,i=t.type_name,s=t.order;this.dataId=a,this.type_name=i,this.order=s}}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(e){e||this.$emit("closeSidebar")}},isFormValid:function(){return!this.errors.any()&&this.type_name},scrollbarTag:function(){return this.$store.getters.scrollbarTag}},methods:{initValues:function(){this.data.id||(this.dataId=null,this.type_name="",this.order="")},submitData:function(){var e=this,t=this,a={type_name:t.type_name,order:t.order};console.log(a);var i="/admin/Box/addBoxType";this.dataId>0&&(i="/admin/Box/editBoxType"),t.$axios({url:i,method:"post",data:{id:this.dataId,typeInfo:a}}).then((function(a){1==a.data.status?(t.$vs.notify({title:"提示",text:a.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"success"}),e.$emit("closeSidebar"),e.$emit("reload"),e.initValues()):t.$vs.notify({title:"提示",text:a.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},updateCurrImg:function(e){var t=this;if(e.target.files&&e.target.files[0]){var a=new FileReader;a.onload=function(e){t.dataImg=e.target.result},a.readAsDataURL(e.target.files[0]),this.file=e.target.files[0]}}}},c=d,u=(a("9e17"),a("5d22")),p=Object(u["a"])(c,r,n,!1,null,"a3417da6",null),f=p.exports,v=a("0cd7"),h={components:{BoxRarityEditer:f,DelFrame:v["a"]},data:function(){return{addNewDataSidebar:!1,sidebarData:{},users:[],total:0,totalPages:0,currentPage:1,pageSize:10,delValide:!1,delStatus:0,del_id:""}},computed:{},watch:{currentPage:{handler:function(e){this.getBoxType()}},pageSize:{handler:function(e){this.getBoxType()}}},methods:{getBoxType:function(){var e=this;e.$axios({url:"/admin/Box/boxType",method:"post",data:{page:e.currentPage,pageSize:e.pageSize}}).then((function(t){1==t.data.status?(e.users=t.data.data.list,e.total=t.data.data.total,e.totalPages=e.pageTotal(e.total,e.pageSize)):e.users=[]}))},pageTotal:function(e,t){return null==e||""==e?0:0!=t&&e%t==0?parseInt(e/t):0!=t&&e%t!=0?parseInt(e/t)+1:void 0},toEdit:function(e){this.sidebarData=e,this.toggleDataSidebar(!0)},addNewData:function(){this.sidebarData={},this.toggleDataSidebar(!0)},toggleDataSidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addNewDataSidebar=e},Delete:function(e){var t=this;t.del_id=e,t.closeDel()},closeDel:function(){var e=this;e.delValide=!0},isDel:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t=this;t.$axios({url:"/admin/Box/delBoxType",method:"post",data:{id:t.del_id}}).then((function(e){1==e.data.status?(t.getBoxType(),t.delStatus=1):t.delStatus=2}))}}},mounted:function(){this.getBoxType()}},m=h,g=(a("5c13"),Object(u["a"])(m,i,s,!1,null,null,null));t["default"]=g.exports},"9e17":function(e,t,a){"use strict";a("a2ea")},a2ea:function(e,t,a){}}]);
//# sourceMappingURL=chunk-65ea1fe0.2156c127.js.map