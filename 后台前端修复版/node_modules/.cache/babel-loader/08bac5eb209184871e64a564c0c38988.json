{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\store\\email\\moduleEmailMutations.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\store\\email\\moduleEmailMutations.js","mtime":1620826038000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":1663908471338}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\n\n/*=========================================================================================\r\n  File Name: moduleEmailMutations.js\r\n  Description: Email Module Mutations\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n==========================================================================================*/\nexport default {\n  SET_EMAIL_SEARCH_QUERY: function SET_EMAIL_SEARCH_QUERY(state, query) {\n    state.mailSearchQuery = query;\n  },\n  SET_MAILS: function SET_MAILS(state, mails) {\n    state.mails = mails;\n  },\n  SET_TAGS: function SET_TAGS(state, tags) {\n    state.mailTags = tags;\n  },\n  SET_META: function SET_META(state, meta) {\n    state.meta = meta;\n  },\n  UPDATE_MAIL_FILTER: function UPDATE_MAIL_FILTER(state, filterName) {\n    state.mail_filter = filterName;\n  },\n  UPDATE_LABELS: function UPDATE_LABELS(state, payload) {\n    payload.mails.forEach(function (mailId) {\n      var mailIndex = state.mails.findIndex(function (mail) {\n        return mail.id === mailId;\n      });\n      var index = state.mails[mailIndex].labels.indexOf(payload.label);\n      if (index === -1) state.mails[mailIndex].labels.push(payload.label);else state.mails[mailIndex].labels.splice(index, 1);\n    });\n  },\n  SET_LABELS: function SET_LABELS(state, payload) {\n    state.mails.find(function (mail) {\n      return mail.id === payload.mailId;\n    }).labels = payload.labels;\n  },\n  SET_UNREAD: function SET_UNREAD(state, payload) {\n    payload.emailIds.forEach(function (mailId) {\n      var mailIndex = state.mails.findIndex(function (mail) {\n        return mail.id === mailId;\n      });\n      if (mailIndex !== -1) state.mails[mailIndex].unread = payload.unreadFlag;\n    });\n  },\n  MOVE_MAILS_TO: function MOVE_MAILS_TO(state, payload) {\n    payload.emailIds.forEach(function (mailId) {\n      var mailIndex = state.mails.findIndex(function (mail) {\n        return mail.id === mailId;\n      }); // Update draft meta\n      // If moving from draft mailFolder decrease draft meta by removing mailId\n\n      if (state.mails[mailIndex].mailFolder === 'draft') {\n        state.meta.draftMails.splice(state.meta.draftMails.findIndex(function (i) {\n          return i === mailId;\n        }), 1);\n      } // Else increase by pushing mailId\n\n\n      if (payload.to === 'draft') {\n        state.meta.draftMails.push(mailId);\n      }\n\n      state.mails[mailIndex].mailFolder = payload.to;\n    });\n  },\n  TOGGLE_IS_MAIL_STARRED: function TOGGLE_IS_MAIL_STARRED(state, payload) {\n    state.mails.find(function (mail) {\n      return mail.id === payload.mailId;\n    }).isStarred = payload.value;\n  },\n  // If your process of fetching is different than ours. Please update action and mutation\n  // Maybe this mutation is redundant for you. Feel free to remove it.\n  UPDATE_UNREAD_META: function UPDATE_UNREAD_META(state, payload) {\n    var _loop = function _loop(folder) {\n      // If folder is same as current filter\n      if (folder === state.mail_filter) {\n        if (payload.unreadFlag) {\n          // If unread flag is true - increase count\n          payload.emailIds.forEach(function (mailId) {\n            if (state.meta.unreadMails.folder[folder].indexOf(mailId) === -1) state.meta.unreadMails.folder[folder].push(mailId);\n          });\n        } else {\n          // else reduce unread mails count\n          payload.emailIds.forEach(function (mailId) {\n            var mailIdIndex = state.meta.unreadMails.folder[folder].indexOf(mailId);\n            if (mailIdIndex !== -1) state.meta.unreadMails.folder[folder].splice(mailIdIndex, 1);\n          });\n        }\n      }\n    };\n\n    // Loop over email meta\n    for (var folder in state.meta.unreadMails.folder) {\n      _loop(folder);\n    }\n  },\n  UPDATE_UNREAD_META_ON_MOVE: function UPDATE_UNREAD_META_ON_MOVE(state, payload) {\n    // Updating Draft meta is handled by \"MOVE_MAILS_TO\" mutation\n    payload.emailIds.forEach(function (mailId) {\n      var mail = state.mails.find(function (mail) {\n        return mail.id === mailId;\n      });\n\n      if (mail.unread) {\n        var cf_unread_mails = state.meta.unreadMails.folder[state.mail_filter];\n\n        if (cf_unread_mails) {\n          cf_unread_mails.splice(cf_unread_mails.indexOf(mailId), 1);\n        }\n\n        if (state.meta.unreadMails.folder[payload.to]) state.meta.unreadMails.folder[payload.to].push(mailId);\n      }\n    });\n  }\n};",{"version":3,"names":["SET_EMAIL_SEARCH_QUERY","state","query","mailSearchQuery","SET_MAILS","mails","SET_TAGS","tags","mailTags","SET_META","meta","UPDATE_MAIL_FILTER","filterName","mail_filter","UPDATE_LABELS","payload","forEach","mailId","mailIndex","findIndex","mail","id","index","labels","indexOf","label","push","splice","SET_LABELS","find","SET_UNREAD","emailIds","unread","unreadFlag","MOVE_MAILS_TO","mailFolder","draftMails","i","to","TOGGLE_IS_MAIL_STARRED","isStarred","value","UPDATE_UNREAD_META","folder","unreadMails","mailIdIndex","UPDATE_UNREAD_META_ON_MOVE","cf_unread_mails"],"sources":["C:/Users/Administrator/Desktop/验收文件0516/后台前端/src/store/email/moduleEmailMutations.js"],"sourcesContent":["/*=========================================================================================\r\n  File Name: moduleEmailMutations.js\r\n  Description: Email Module Mutations\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n==========================================================================================*/\r\n\r\n\r\nexport default {\r\n  SET_EMAIL_SEARCH_QUERY (state, query) {\r\n    state.mailSearchQuery = query\r\n  },\r\n  SET_MAILS (state, mails) {\r\n    state.mails = mails\r\n  },\r\n  SET_TAGS (state, tags) {\r\n    state.mailTags = tags\r\n  },\r\n  SET_META (state, meta) {\r\n    state.meta = meta\r\n  },\r\n  UPDATE_MAIL_FILTER (state, filterName) {\r\n    state.mail_filter = filterName\r\n  },\r\n  UPDATE_LABELS (state, payload) {\r\n    payload.mails.forEach((mailId) => {\r\n      const mailIndex = state.mails.findIndex((mail) => mail.id === mailId)\r\n      const index = state.mails[mailIndex].labels.indexOf(payload.label)\r\n\r\n      if (index === -1) state.mails[mailIndex].labels.push(payload.label)\r\n      else state.mails[mailIndex].labels.splice(index, 1)\r\n    })\r\n  },\r\n  SET_LABELS (state, payload) {\r\n    state.mails.find((mail) => mail.id === payload.mailId).labels = payload.labels\r\n  },\r\n  SET_UNREAD (state, payload) {\r\n    payload.emailIds.forEach((mailId) => {\r\n      const mailIndex = state.mails.findIndex((mail) => mail.id === mailId)\r\n      if (mailIndex !== -1) state.mails[mailIndex].unread = payload.unreadFlag\r\n    })\r\n  },\r\n\r\n  MOVE_MAILS_TO (state, payload) {\r\n    payload.emailIds.forEach((mailId) => {\r\n      const mailIndex = state.mails.findIndex((mail) => mail.id === mailId)\r\n\r\n      // Update draft meta\r\n      // If moving from draft mailFolder decrease draft meta by removing mailId\r\n      if (state.mails[mailIndex].mailFolder === 'draft') {\r\n        state.meta.draftMails.splice(state.meta.draftMails.findIndex(i => i === mailId), 1)\r\n      }\r\n      // Else increase by pushing mailId\r\n      if (payload.to === 'draft') {\r\n        state.meta.draftMails.push(mailId)\r\n      }\r\n\r\n      state.mails[mailIndex].mailFolder = payload.to\r\n    })\r\n  },\r\n\r\n  TOGGLE_IS_MAIL_STARRED (state, payload) {\r\n    state.mails.find((mail) => mail.id === payload.mailId).isStarred = payload.value\r\n  },\r\n\r\n  // If your process of fetching is different than ours. Please update action and mutation\r\n  // Maybe this mutation is redundant for you. Feel free to remove it.\r\n  UPDATE_UNREAD_META (state, payload) {\r\n\r\n    // Loop over email meta\r\n    for (const folder in state.meta.unreadMails.folder) {\r\n\r\n      // If folder is same as current filter\r\n      if (folder === state.mail_filter) {\r\n\r\n        if (payload.unreadFlag) {\r\n\r\n          // If unread flag is true - increase count\r\n          payload.emailIds.forEach((mailId) => {\r\n            if (state.meta.unreadMails.folder[folder].indexOf(mailId) === -1) state.meta.unreadMails.folder[folder].push(mailId)\r\n          })\r\n        } else {\r\n\r\n          // else reduce unread mails count\r\n          payload.emailIds.forEach((mailId) => {\r\n            const mailIdIndex = state.meta.unreadMails.folder[folder].indexOf(mailId)\r\n            if (mailIdIndex !== -1) state.meta.unreadMails.folder[folder].splice(mailIdIndex, 1)\r\n          })\r\n        }\r\n\r\n      }\r\n    }\r\n  },\r\n  UPDATE_UNREAD_META_ON_MOVE (state, payload) {\r\n\r\n    // Updating Draft meta is handled by \"MOVE_MAILS_TO\" mutation\r\n\r\n    payload.emailIds.forEach((mailId) => {\r\n      const mail = state.mails.find((mail) => mail.id === mailId)\r\n\r\n      if (mail.unread) {\r\n        const cf_unread_mails = state.meta.unreadMails.folder[state.mail_filter]\r\n        if (cf_unread_mails) {\r\n          cf_unread_mails.splice(cf_unread_mails.indexOf(mailId), 1)\r\n        }\r\n        if (state.meta.unreadMails.folder[payload.to]) state.meta.unreadMails.folder[payload.to].push(mailId)\r\n      }\r\n    })\r\n  }\r\n}\r\n"],"mappings":"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"}]}