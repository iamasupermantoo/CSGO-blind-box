{"remainingRequest":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\pages\\KnowledgeBase.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\pages\\KnowledgeBase.vue","mtime":1652617567671},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DataViewSidebar from \"./DataViewSidebar.vue\";\nimport moduleDataList from \"@/store/data-list/moduleDataList.js\";\nexport default {\n  components: {\n    DataViewSidebar: DataViewSidebar\n  },\n  data: function data() {\n    return {\n      selected: [],\n      // products: [],\n      itemsPerPage: 10,\n      isMounted: false,\n      addNewDataSidebar: false,\n      sidebarData: {},\n      data: [],\n      url: './room-component/NavMenu',\n      free_room_id: '',\n      currentPage: 1,\n      pageSize: 10,\n      totalPages: 0,\n      total: 0\n    };\n  },\n  computed: {// currentPage() {\n    //   if (this.isMounted) {\n    //     return this.$refs.table.currentx;\n    //   }\n    //   return 0;\n    // },\n    // products() {\n    //   return this.$store.state.dataList.products;\n    // },\n    // queriedItems() {\n    //   return this.$refs.table\n    //     ? this.$refs.table.queriedResults.length\n    //     : this.products.length;\n    // },\n  },\n  watch: {\n    'currentPage': {\n      handler: function handler(val) {\n        // console.log(val);\n        this.getRoomList();\n      }\n    },\n    'queriedItems': {\n      handler: function handler(val) {// console.log(val);\n      }\n    }\n  },\n  methods: {\n    getRoomList: function getRoomList() {\n      var _this = this;\n\n      _this.$axios({\n        url: \"/admin/Free/freeRoomList\",\n        method: \"post\",\n        data: {\n          page: _this.currentPage,\n          pageSize: _this.pageSize\n        }\n      }).then(function (res) {\n        // console.log(res)\n        if (res.data.status == 1) {\n          _this.data = res.data.data.list;\n          _this.total = res.data.data.total;\n          _this.totalPages = _this.pageTotal(_this.total, _this.pageSize);\n        } else {\n          _this.data = [];\n          _this.total = 0;\n          _this.totalPages = 0;\n        }\n      });\n    },\n    //\"总条数\"：rowCount，\"每页总条数\"：pageSize\n    pageTotal: function pageTotal(rowCount, pageSize) {\n      if (rowCount == null || rowCount == \"\") {\n        return 0;\n      } else {\n        if (pageSize != 0 && rowCount % pageSize == 0) {\n          return parseInt(rowCount / pageSize);\n        }\n\n        if (pageSize != 0 && rowCount % pageSize != 0) {\n          return parseInt(rowCount / pageSize) + 1;\n        }\n      }\n    },\n    del: function del(id) {\n      var _this = this;\n\n      _this.free_room_id = id;\n      this.$vs.dialog({\n        type: 'confirm',\n        title: '提示',\n        text: \"\\u786E\\u5B9A\\u5220\\u9664\\uFF1F\",\n        accept: _this.delRoom,\n        cancel: _this.cancel,\n        acceptText: '确定',\n        cancelText: '取消'\n      });\n    },\n    delRoom: function delRoom() {\n      var _this = this;\n\n      _this.$axios({\n        url: \"/admin/Free/delRoom\",\n        method: \"post\",\n        data: {\n          id: _this.free_room_id\n        }\n      }).then(function (res) {\n        if (res.data.status == 1) {\n          _this.notify(res.data.msg, 'success');\n\n          _this.getRoomList();\n        } else {\n          _this.notify(res.data.msg, 'danger');\n        }\n      });\n    },\n    open: function open(id) {\n      var _this = this;\n\n      _this.free_room_id = id;\n      this.$vs.dialog({\n        type: 'confirm',\n        // color: 'danger',\n        title: '提示',\n        text: \"\\u786E\\u5B9A\\u64CD\\u4F5C\\u5F00\\u5956\\uFF1F\",\n        accept: _this.sure,\n        cancel: _this.cancel,\n        acceptText: '确定',\n        cancelText: '取消'\n      });\n    },\n    sure: function sure(id) {\n      var _this = this;\n\n      _this.$axios({\n        url: \"/index/Free/getSkin\",\n        method: \"post\",\n        data: {\n          free_room_id: _this.free_room_id\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.status == 1) {\n          _this.getRoomList();\n\n          _this.$vs.notify({\n            title: '提示',\n            text: res.data.msg,\n            iconPack: 'feather',\n            icon: 'icon-alert-circle',\n            color: 'success'\n          });\n        } else {\n          _this.$vs.notify({\n            title: '提示',\n            text: res.data.msg,\n            iconPack: 'feather',\n            icon: 'icon-alert-circle',\n            color: 'danger'\n          });\n        }\n      });\n    },\n    notify: function notify(msg, color) {\n      var _this = this;\n\n      _this.$vs.notify({\n        title: '提示',\n        text: msg,\n        iconPack: 'feather',\n        icon: 'icon-alert-circle',\n        color: color\n      });\n    },\n    addNewData: function addNewData() {\n      this.sidebarData = {};\n      this.toggleDataSidebar(true);\n    },\n    deleteData: function deleteData(id) {\n      this.$store.dispatch(\"dataList/removeItem\", id).catch(function (err) {\n        console.error(err);\n      });\n    },\n    editNewData: function editNewData(data) {\n      // this.sidebarData = JSON.parse(JSON.stringify(this.blankData))\n      this.sidebarData = data;\n      this.toggleDataSidebar(true);\n    },\n    detail: function detail(id) {\n      var _this = this;\n\n      console.log(id);\n\n      _this.$router.push({\n        path: _this.url,\n        query: {\n          id: id\n        }\n      });\n    },\n    getOrderStatusColor: function getOrderStatusColor(status) {\n      if (status == \"1\") return \"success\";\n      if (status == \"2\") return \"danger\";\n      return \"primary\";\n    },\n    getPopularityColor: function getPopularityColor(num) {\n      if (num > 90) return \"success\";\n      if (num > 70) return \"primary\";\n      if (num >= 50) return \"warning\";\n      if (num < 50) return \"danger\";\n      return \"primary\";\n    },\n    toggleDataSidebar: function toggleDataSidebar() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.addNewDataSidebar = val;\n    }\n  },\n  created: function created() {\n    if (!moduleDataList.isRegistered) {\n      this.$store.registerModule(\"dataList\", moduleDataList);\n      moduleDataList.isRegistered = true;\n    }\n\n    this.$store.dispatch(\"dataList/fetchDataListItems\");\n  },\n  mounted: function mounted() {\n    this.isMounted = true;\n    this.getRoomList();\n  }\n};",{"version":3,"sources":["KnowledgeBase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA,OAAA,eAAA;AACA,OAAA,cAAA,MAAA,qCAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,eAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA;AACA,MAAA,YAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA,KAJA;AAKA,MAAA,iBAAA,EAAA,KALA;AAMA,MAAA,WAAA,EAAA,EANA;AAOA,MAAA,IAAA,EAAA,EAPA;AAQA,MAAA,GAAA,EAAA,0BARA;AASA,MAAA,YAAA,EAAA,EATA;AAWA,MAAA,WAAA,EAAA,CAXA;AAYA,MAAA,QAAA,EAAA,EAZA;AAaA,MAAA,UAAA,EAAA,CAbA;AAcA,MAAA,KAAA,EAAA;AAdA,KAAA;AAgBA,GArBA;AAsBA,EAAA,QAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA,GAtBA;AAsCA,EAAA,KAAA,EAAA;AACA,mBAAA;AACA,MAAA,OADA,mBACA,GADA,EACA;AACA;AACA,aAAA,WAAA;AACA;AAJA,KADA;AAOA,oBAAA;AACA,MAAA,OADA,mBACA,GADA,EACA,CACA;AACA;AAHA;AAPA,GAtCA;AAmDA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,GAAA,EAAA,0BADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA,CAAA,WADA;AAEA,UAAA,QAAA,EAAA,KAAA,CAAA;AAFA;AAHA,OAAA,EAOA,IAPA,CAOA,UAAA,GAAA,EAAA;AACA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,KAAA,EAAA,KAAA,CAAA,QAAA,CAAA;AACA,SAJA,MAIA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,CAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,CAAA;AACA;AAEA,OAnBA;AAoBA,KAvBA;AAwBA;AACA,IAAA,SAzBA,qBAyBA,QAzBA,EAyBA,QAzBA,EAyBA;AACA,UAAA,QAAA,IAAA,IAAA,IAAA,QAAA,IAAA,EAAA,EAAA;AACA,eAAA,CAAA;AACA,OAFA,MAEA;AACA,YAAA,QAAA,IAAA,CAAA,IAAA,QAAA,GAAA,QAAA,IAAA,CAAA,EAAA;AACA,iBAAA,QAAA,CAAA,QAAA,GAAA,QAAA,CAAA;AACA;;AACA,YAAA,QAAA,IAAA,CAAA,IAAA,QAAA,GAAA,QAAA,IAAA,CAAA,EAAA;AACA,iBAAA,QAAA,CAAA,QAAA,GAAA,QAAA,CAAA,GAAA,CAAA;AACA;AACA;AACA,KApCA;AAqCA,IAAA,GArCA,eAqCA,EArCA,EAqCA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,YAAA,GAAA,EAAA;AACA,WAAA,GAAA,CAAA,MAAA,CAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA,IAFA;AAGA,QAAA,IAAA,kCAHA;AAIA,QAAA,MAAA,EAAA,KAAA,CAAA,OAJA;AAKA,QAAA,MAAA,EAAA,KAAA,CAAA,MALA;AAMA,QAAA,UAAA,EAAA,IANA;AAOA,QAAA,UAAA,EAAA;AAPA,OAAA;AASA,KAjDA;AAkDA,IAAA,OAlDA,qBAkDA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,GAAA,EAAA,qBADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,EAAA,EAAA,KAAA,CAAA;AADA;AAHA,OAAA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,EAAA,SAAA;;AACA,UAAA,KAAA,CAAA,WAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,EAAA,QAAA;AACA;AACA,OAbA;AAcA,KAlEA;AAmEA,IAAA,IAnEA,gBAmEA,EAnEA,EAmEA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,YAAA,GAAA,EAAA;AACA,WAAA,GAAA,CAAA,MAAA,CAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA;AACA,QAAA,KAAA,EAAA,IAHA;AAIA,QAAA,IAAA,8CAJA;AAKA,QAAA,MAAA,EAAA,KAAA,CAAA,IALA;AAMA,QAAA,MAAA,EAAA,KAAA,CAAA,MANA;AAOA,QAAA,UAAA,EAAA,IAPA;AAQA,QAAA,UAAA,EAAA;AARA,OAAA;AAUA,KAhFA;AAiFA,IAAA,IAjFA,gBAiFA,EAjFA,EAiFA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,GAAA,EAAA,qBADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,YAAA,EAAA,KAAA,CAAA;AADA;AAHA,OAAA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,WAAA;;AACA,UAAA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AACA,YAAA,KAAA,EAAA,IADA;AAEA,YAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,GAFA;AAGA,YAAA,QAAA,EAAA,SAHA;AAIA,YAAA,IAAA,EAAA,mBAJA;AAKA,YAAA,KAAA,EAAA;AALA,WAAA;AAOA,SATA,MASA;AACA,UAAA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AACA,YAAA,KAAA,EAAA,IADA;AAEA,YAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,GAFA;AAGA,YAAA,QAAA,EAAA,SAHA;AAIA,YAAA,IAAA,EAAA,mBAJA;AAKA,YAAA,KAAA,EAAA;AALA,WAAA;AAOA;AACA,OA1BA;AA2BA,KA9GA;AA+GA,IAAA,MA/GA,kBA+GA,GA/GA,EA+GA,KA/GA,EA+GA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,GAFA;AAGA,QAAA,QAAA,EAAA,SAHA;AAIA,QAAA,IAAA,EAAA,mBAJA;AAKA,QAAA,KAAA,EAAA;AALA,OAAA;AAOA,KAxHA;AAyHA,IAAA,UAzHA,wBAyHA;AACA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,iBAAA,CAAA,IAAA;AACA,KA5HA;AA6HA,IAAA,UA7HA,sBA6HA,EA7HA,EA6HA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,qBAAA,EAAA,EAAA,EAAA,KAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,GAAA;AACA,OAFA;AAGA,KAjIA;AAkIA,IAAA,WAlIA,uBAkIA,IAlIA,EAkIA;AACA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,iBAAA,CAAA,IAAA;AACA,KAtIA;AAuIA,IAAA,MAvIA,kBAuIA,EAvIA,EAuIA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,EAAA;;AACA,MAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,KAAA,CAAA,GADA;AAEA,QAAA,KAAA,EAAA;AAAA,UAAA,EAAA,EAAA;AAAA;AAFA,OAAA;AAIA,KA9IA;AA+IA,IAAA,mBA/IA,+BA+IA,MA/IA,EA+IA;AACA,UAAA,MAAA,IAAA,GAAA,EAAA,OAAA,SAAA;AACA,UAAA,MAAA,IAAA,GAAA,EAAA,OAAA,QAAA;AACA,aAAA,SAAA;AACA,KAnJA;AAoJA,IAAA,kBApJA,8BAoJA,GApJA,EAoJA;AACA,UAAA,GAAA,GAAA,EAAA,EAAA,OAAA,SAAA;AACA,UAAA,GAAA,GAAA,EAAA,EAAA,OAAA,SAAA;AACA,UAAA,GAAA,IAAA,EAAA,EAAA,OAAA,SAAA;AACA,UAAA,GAAA,GAAA,EAAA,EAAA,OAAA,QAAA;AACA,aAAA,SAAA;AACA,KA1JA;AA2JA,IAAA,iBA3JA,+BA2JA;AAAA,UAAA,GAAA,uEAAA,KAAA;AACA,WAAA,iBAAA,GAAA,GAAA;AACA;AA7JA,GAnDA;AAkNA,EAAA,OAlNA,qBAkNA;AACA,QAAA,CAAA,cAAA,CAAA,YAAA,EAAA;AACA,WAAA,MAAA,CAAA,cAAA,CAAA,UAAA,EAAA,cAAA;AACA,MAAA,cAAA,CAAA,YAAA,GAAA,IAAA;AACA;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,6BAAA;AACA,GAxNA;AAyNA,EAAA,OAzNA,qBAyNA;AACA,SAAA,SAAA,GAAA,IAAA;AACA,SAAA,WAAA;AACA;AA5NA,CAAA","sourcesContent":["<!-- =========================================================================================\r\n  File Name: DataListThumbView.vue\r\n  Description: Data List - Thumb View\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n========================================================================================== -->\r\n\r\n<template>\r\n  <div id=\"data-list-thumb-view\" class=\"data-list-container\">\r\n    <data-view-sidebar\r\n      :isSidebarActive=\"addNewDataSidebar\"\r\n      @closeSidebar=\"toggleDataSidebar\"\r\n      @get=\"getRoomList\"\r\n      :data=\"sidebarData\"\r\n    />\r\n\r\n    <div\r\n      slot=\"header\"\r\n      class=\"flex flex-wrap-reverse items-center flex-grow justify-between\"\r\n    >\r\n      <div class=\"flex flex-wrap-reverse items-center\">\r\n        <!-- ADD NEW -->\r\n        <div\r\n          class=\"p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary\"\r\n          @click=\"addNewData\"\r\n        >\r\n          <feather-icon icon=\"PlusIcon\" svgClasses=\"h-4 w-4\" />\r\n          <span class=\"ml-2 text-base text-primary\">添加房间</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <vs-table\r\n      ref=\"table\"\r\n      v-model=\"selected\"\r\n     \r\n      :max-items=\"itemsPerPage\"\r\n      :data=\"data\"\r\n    >\r\n      <template slot=\"thead\">\r\n        <vs-th>房间主图</vs-th>\r\n        <vs-th sort-key=\"room_name\">房间标题</vs-th>\r\n        <vs-th sort-key=\"desc\">房间描述</vs-th>\r\n        <!-- <vs-th sort-key=\"password\">房间密码</vs-th> -->\r\n       \r\n         <vs-th sort-key=\"condition_type\">参加方式</vs-th>\r\n        <vs-th sort-key=\"type\">类型</vs-th>\r\n        <vs-th sort-key=\"run_lottery_time\">开奖时间</vs-th>\r\n        <vs-th sort-key=\"status\">房间状态</vs-th>\r\n        <vs-th sort-key=\"\">房间详情</vs-th>\r\n        <vs-th sort-key=\"\">操作</vs-th>\r\n      </template>\r\n\r\n      <template slot-scope=\"{ data }\">\r\n        <tbody>\r\n          <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n            <vs-td class=\"img-container\">\r\n              <img :src=\"tr.img\" class=\"product-img\" />\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <p class=\"product-name font-medium truncate\" @click=\"editNewData(tr)\">{{ tr.room_name }}</p>\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <p class=\"product-category\">{{ tr.desc }}</p>\r\n            </vs-td>\r\n\r\n            <!-- <vs-td>\r\n              <p class=\"product-category\">{{ tr.password }}</p>\r\n            </vs-td> -->\r\n\r\n            <vs-td>\r\n              <p>{{ tr.type == 1 ? '官方' : '主播' }}</p>\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <p style=\"white-space:nowrap;\">{{ tr.condition_type == 1 ? '口令' : (tr.condition_type == 2 ? '充值' : '口令+充值' ) }}</p>\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <p style=\"white-space:nowrap;\">{{ tr.run_lottery_time }}</p>\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <vs-chip\r\n                :color=\"getOrderStatusColor(tr.status)\"\r\n                class=\"product-order-status\"\r\n                >{{ tr.status == 1 ? '未开奖' : '已结束' | title }}</vs-chip\r\n              >\r\n            </vs-td>\r\n\r\n            <vs-td >\r\n              <div style=\"display:flex;\" class=\"opp\">\r\n                <p @click=\"detail(tr.id)\">查看</p>\r\n                <p style=\"margin-left:10px;\" @click=\"open(tr.id)\">开奖</p>\r\n              </div>\r\n              <!-- <router-link :to=\"url\"  class=\"text-inherit hover:text-primary\" @click.native=\"detail(tr.id)\">查看</router-link> -->\r\n            </vs-td>\r\n\r\n             <vs-td >\r\n              <div style=\"display:flex;\" class=\"opp\">\r\n                <p @click=\"del(tr.id)\">删除</p>\r\n              </div>\r\n            </vs-td>\r\n\r\n          </vs-tr>\r\n        </tbody>\r\n      </template>\r\n    \r\n    </vs-table>\r\n    <div>\r\n        <vs-pagination\r\n        :total=\"totalPages\"\r\n        :max=\"7\"\r\n        v-model=\"currentPage\" />\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DataViewSidebar from \"./DataViewSidebar.vue\";\r\nimport moduleDataList from \"@/store/data-list/moduleDataList.js\";\r\n\r\nexport default {\r\n  components: {\r\n    DataViewSidebar,\r\n  },\r\n  data() {\r\n    return {\r\n      selected: [],\r\n      // products: [],\r\n      itemsPerPage: 10,\r\n      isMounted: false,\r\n      addNewDataSidebar: false,\r\n      sidebarData: {},\r\n      data: [],\r\n      url:'./room-component/NavMenu',\r\n      free_room_id:'',\r\n\r\n      currentPage:1,\r\n      pageSize:10,\r\n      totalPages:0,\r\n      total:0\r\n    };\r\n  },\r\n  computed: {\r\n    // currentPage() {\r\n    //   if (this.isMounted) {\r\n    //     return this.$refs.table.currentx;\r\n    //   }\r\n    //   return 0;\r\n    // },\r\n    // products() {\r\n    //   return this.$store.state.dataList.products;\r\n    // },\r\n    // queriedItems() {\r\n    //   return this.$refs.table\r\n    //     ? this.$refs.table.queriedResults.length\r\n    //     : this.products.length;\r\n    // },\r\n  },\r\n  watch:{\r\n    'currentPage':{\r\n      handler(val){\r\n        // console.log(val);\r\n        this.getRoomList();\r\n      }\r\n    },\r\n    'queriedItems':{\r\n      handler(val){\r\n        // console.log(val);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getRoomList(){\r\n      let _this = this;\r\n      _this.$axios({\r\n        url: \"/admin/Free/freeRoomList\",\r\n        method: \"post\",\r\n        data: {\r\n          page:_this.currentPage,\r\n          pageSize:_this.pageSize\r\n        }\r\n      }).then(res => {\r\n        // console.log(res)\r\n\t\tif(res.data.status==1){\r\n\t\t\t_this.data = res.data.data.list;\r\n\t\t\t_this.total = res.data.data.total;\r\n\t\t\t_this.totalPages = _this.pageTotal(_this.total,_this.pageSize)\r\n\t\t}else{\r\n\t\t\t_this.data = []\r\n\t\t\t_this.total = 0\r\n\t\t\t_this.totalPages = 0\r\n\t\t}\r\n        \r\n      })\r\n    },\r\n      //\"总条数\"：rowCount，\"每页总条数\"：pageSize\r\n    pageTotal(rowCount, pageSize) {\r\n      if (rowCount == null || rowCount == \"\") {\r\n            return 0;\r\n      } else {\r\n            if (pageSize != 0 && rowCount % pageSize == 0) {\r\n                    return parseInt(rowCount / pageSize)\r\n            }\r\n            if (pageSize != 0 && rowCount % pageSize != 0) {\r\n                    return parseInt(rowCount / pageSize) + 1;\r\n            }\r\n        }\r\n    },\r\n    del(id){\r\n      let _this = this;\r\n      _this.free_room_id = id;\r\n      this.$vs.dialog({\r\n        type: 'confirm',\r\n        title: '提示',\r\n        text: `确定删除？`,\r\n        accept: _this.delRoom,\r\n        cancel: _this.cancel,\r\n        acceptText: '确定',\r\n        cancelText:'取消'\r\n      })\r\n    },\r\n    delRoom(){\r\n      let _this = this;\r\n      _this.$axios({\r\n        url: \"/admin/Free/delRoom\",\r\n        method: \"post\",\r\n        data: {\r\n          id:_this.free_room_id\r\n        }\r\n      }).then(res =>{\r\n        if(res.data.status == 1){\r\n          _this.notify(res.data.msg,'success');\r\n          _this.getRoomList();\r\n        }else{\r\n          _this.notify(res.data.msg,'danger');\r\n        }\r\n      })\r\n    },\r\n    open(id){\r\n      let _this = this;\r\n      _this.free_room_id = id;\r\n      this.$vs.dialog({\r\n        type: 'confirm',\r\n        // color: 'danger',\r\n        title: '提示',\r\n        text: `确定操作开奖？`,\r\n        accept: _this.sure,\r\n        cancel: _this.cancel,\r\n        acceptText: '确定',\r\n        cancelText:'取消'\r\n      })\r\n    },\r\n    sure(id){\r\n      let _this = this;\r\n      _this.$axios({\r\n        url: \"/index/Free/getSkin\",\r\n        method: \"post\",\r\n        data: {\r\n          free_room_id:_this.free_room_id\r\n        }\r\n      }).then(res => {\r\n        console.log(res);\r\n        if(res.data.status == 1){\r\n          _this.getRoomList();\r\n           _this.$vs.notify({\r\n            title: '提示',\r\n            text: res.data.msg,\r\n            iconPack: 'feather',\r\n            icon: 'icon-alert-circle',\r\n            color: 'success'\r\n          })\r\n        }else{\r\n           _this.$vs.notify({\r\n            title: '提示',\r\n            text: res.data.msg,\r\n            iconPack: 'feather',\r\n            icon: 'icon-alert-circle',\r\n            color: 'danger'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    notify(msg,color){\r\n      let _this = this;\r\n      _this.$vs.notify({\r\n        title: '提示',\r\n        text: msg,\r\n        iconPack: 'feather',\r\n        icon: 'icon-alert-circle',\r\n        color: color\r\n      })\r\n    },\r\n    addNewData() {\r\n      this.sidebarData = {};\r\n      this.toggleDataSidebar(true);\r\n    },\r\n    deleteData(id) {\r\n      this.$store.dispatch(\"dataList/removeItem\", id).catch((err) => {\r\n        console.error(err);\r\n      });\r\n    },\r\n    editNewData(data) {\r\n      // this.sidebarData = JSON.parse(JSON.stringify(this.blankData))\r\n      this.sidebarData = data;\r\n      this.toggleDataSidebar(true);\r\n    },\r\n    detail(id){\r\n      let _this = this;\r\n      console.log(id);\r\n      _this.$router.push({\r\n        path:_this.url,\r\n        query: {id:id}\r\n      })\r\n    },\r\n    getOrderStatusColor(status) {\r\n      if (status == \"1\") return \"success\";\r\n      if (status == \"2\") return \"danger\";\r\n      return \"primary\";\r\n    },\r\n    getPopularityColor(num) {\r\n      if (num > 90) return \"success\";\r\n      if (num > 70) return \"primary\";\r\n      if (num >= 50) return \"warning\";\r\n      if (num < 50) return \"danger\";\r\n      return \"primary\";\r\n    },\r\n    toggleDataSidebar(val = false) {\r\n      this.addNewDataSidebar = val;\r\n    },\r\n  },\r\n  created() {\r\n    if (!moduleDataList.isRegistered) {\r\n      this.$store.registerModule(\"dataList\", moduleDataList);\r\n      moduleDataList.isRegistered = true;\r\n    }\r\n    this.$store.dispatch(\"dataList/fetchDataListItems\");\r\n  },\r\n  mounted() {\r\n    this.isMounted = true;\r\n    this.getRoomList();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#data-list-thumb-view {\r\n  .vs-con-table {\r\n    .product-name {\r\n      max-width: 23rem;\r\n    }\r\n\r\n    .vs-table--header {\r\n      display: flex;\r\n      flex-wrap: wrap-reverse;\r\n      margin-left: 1.5rem;\r\n      margin-right: 1.5rem;\r\n      > span {\r\n        display: flex;\r\n        flex-grow: 1;\r\n      }\r\n\r\n      .vs-table--search {\r\n        padding-top: 0;\r\n\r\n        .vs-table--search-input {\r\n          padding: 0.9rem 2.5rem;\r\n          font-size: 1rem;\r\n\r\n          & + i {\r\n            left: 1rem;\r\n          }\r\n\r\n          &:focus + i {\r\n            left: 1rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .vs-table {\r\n      border-collapse: separate;\r\n      border-spacing: 0 1.3rem;\r\n      padding: 0 1rem;\r\n\r\n      tr {\r\n        box-shadow: 0 4px 20px 0 rgba(0, 0, 0, 0.05);\r\n        td {\r\n          padding: 10px;\r\n          &:first-child {\r\n            border-top-left-radius: 0.5rem;\r\n            border-bottom-left-radius: 0.5rem;\r\n          }\r\n          &:last-child {\r\n            border-top-right-radius: 0.5rem;\r\n            border-bottom-right-radius: 0.5rem;\r\n          }\r\n          &.img-container {\r\n            // width: 1rem;\r\n            // background: #fff;\r\n\r\n            span {\r\n              display: flex;\r\n              justify-content: flex-start;\r\n            }\r\n\r\n            .product-img {\r\n              height: 110px;\r\n            }\r\n          }\r\n        }\r\n        td.td-check {\r\n          padding: 20px !important;\r\n        }\r\n      }\r\n    }\r\n\r\n    .vs-table--thead {\r\n      th {\r\n        padding-top: 0;\r\n        padding-bottom: 0;\r\n\r\n        .vs-table-text {\r\n          text-transform: uppercase;\r\n          font-weight: 600;\r\n        }\r\n      }\r\n      th.td-check {\r\n        padding: 0 15px !important;\r\n      }\r\n      tr {\r\n        background: none;\r\n        box-shadow: none;\r\n      }\r\n    }\r\n\r\n    .vs-table--pagination {\r\n      justify-content: center;\r\n    }\r\n  }\r\n}\r\n.product-order-status, .opp p{\r\n  white-space: nowrap;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/pages"}]}