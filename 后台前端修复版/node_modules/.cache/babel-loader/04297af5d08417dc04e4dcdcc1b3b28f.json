{"remainingRequest":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\ui-elements\\data-list\\thumb-view\\DataListThumbView.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\ui-elements\\data-list\\thumb-view\\DataListThumbView.vue","mtime":1638688547000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DataViewSidebar from \"../DataViewSidebar.vue\";\nimport DelFrame from \"../DelFrame.vue\";\nimport moduleDataList from '@/store/data-list/moduleDataList.js';\nimport vSelect from 'vue-select';\nexport default {\n  components: {\n    DataViewSidebar: DataViewSidebar,\n    DelFrame: DelFrame,\n    vSelect: vSelect\n  },\n  data: function data() {\n    return {\n      selected: [],\n      // products: [],\n      isMounted: false,\n      addNewDataSidebar: false,\n      delValide: false,\n      delStatus: 0,\n      sidebarData: {},\n      products: [],\n      //列表\n      total: 0,\n      currentPage: 1,\n      pageSize: 10,\n      totalPages: 0,\n      skinType: [],\n      skinOptions: [],\n      roleOptions: [{\n        label: '所有',\n        value: ''\n      }, {\n        label: '商城饰品',\n        value: 'sale'\n      }, {\n        label: '幸运饰品',\n        value: 'lucky'\n      }],\n      roleFilter: {\n        label: '所有',\n        value: '1'\n      },\n      typeValue: '',\n      searchKey: ''\n    };\n  },\n  computed: {},\n  watch: {\n    \"currentPage\": {\n      handler: function handler(val) {\n        var _this = this;\n\n        _this.currentPage = val;\n\n        _this.getProducts();\n      },\n      deep: true\n    },\n    'pageSize': {\n      handler: function handler(val) {\n        var _this = this;\n\n        _this.pageSize = val;\n\n        _this.getProducts();\n      },\n      deep: true\n    },\n    \"roleFilter\": {\n      handler: function handler(val) {\n        console.log(val);\n        this.typeValue = val.value;\n        this.getProducts();\n      }\n    }\n  },\n  methods: {\n    sync: function sync() {\n      var _this = this; // console.log(_this.selected);\n      // let datas = [];\n      // _this.selected.forEach(e=>{\n      //   let data = {};\n      //   data.id = e.id;\n      //   data.itemId = e.itemId;\n      //   data.itemName = e.itemName;\n      //   data.market_price = e.market_price;\n      //   datas.push(data)\n      // })\n      // console.log(datas);\n      // if(_this.selected.length<=0){\n      //   _this.$vs.notify({\n      //     title: '提示',\n      //     text: '请勾选要同步饰品',\n      //     iconPack: 'feather',\n      //     icon: 'icon-alert-circle',\n      //     color: 'danger'\n      //   })\n      //   return\n      // }\n\n\n      _this.$axios({\n        url: \"/admin/Box/sync\",\n        method: \"post\",\n        data: {}\n      }).then(function (res) {\n        if (res.data.status == 1) {\n          _this.getProducts();\n\n          _this.selected = [];\n\n          _this.$vs.notify({\n            title: '提示',\n            text: res.data.msg,\n            iconPack: 'feather',\n            icon: 'icon-alert-circle',\n            color: 'success'\n          });\n        } else {\n          _this.$vs.notify({\n            title: '提示',\n            text: res.data.msg,\n            iconPack: 'feather',\n            icon: 'icon-alert-circle',\n            color: 'danger'\n          });\n        }\n      });\n    },\n    getProducts: function getProducts() {\n      var _this = this;\n\n      _this.$axios({\n        url: \"/admin/All_Skin/allSkinList\",\n        method: \"post\",\n        data: {\n          page: _this.currentPage,\n          pageSize: _this.pageSize,\n          value: _this.typeValue,\n          searchKey: _this.searchKey\n        }\n      }).then(function (res) {\n        // console.log(res.data.data.list);\n        if (res.data.status == 1) {\n          _this.total = res.data.data.total;\n          _this.totalPages = _this.pageTotal(_this.total, _this.pageSize);\n          _this.products = res.data.data.list;\n        } else {\n          _this.total = 0;\n          _this.totalPages = 0;\n          _this.products = [];\n        }\n      });\n    },\n    //幸运饰品分类\n    getLuckySkinType: function getLuckySkinType() {\n      var _this = this;\n\n      _this.$axios({\n        url: \"/admin/Lucky/skinType\",\n        method: \"post\",\n        data: {}\n      }).then(function (res) {\n        // console.log(res.data.data.list);\n        _this.skinType = res.data.data.list;\n      });\n    },\n    //\"总条数\"：rowCount，\"每页总条数\"：pageSize\n    pageTotal: function pageTotal(rowCount, pageSize) {\n      if (rowCount == null || rowCount == \"\") {\n        return 0;\n      } else {\n        if (pageSize != 0 && rowCount % pageSize == 0) {\n          return parseInt(rowCount / pageSize);\n        }\n\n        if (pageSize != 0 && rowCount % pageSize != 0) {\n          return parseInt(rowCount / pageSize) + 1;\n        }\n      }\n    },\n    addNewData: function addNewData() {\n      this.sidebarData = {};\n      this.toggleDataSidebar(true);\n    },\n    deleteData: function deleteData(id) {\n      var _this = this;\n\n      _this.del_id = id;\n\n      _this.closeDel();\n    },\n    closeDel: function closeDel() {\n      var _this = this;\n\n      _this.delValide = true;\n    },\n    isDel: function isDel() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      console.log(val);\n\n      if (val) {\n        var _this = this;\n\n        _this.$axios({\n          url: \"/admin/all_skin/delSkin\",\n          method: \"post\",\n          data: {\n            id: _this.del_id\n          }\n        }).then(function (res) {\n          if (res.data.status == 1) {\n            _this.getProducts();\n\n            _this.delStatus = 1;\n          } else {\n            _this.delStatus = 2;\n          }\n        });\n      }\n    },\n    editData: function editData(data) {\n      console.log(data);\n      this.sidebarData = data;\n      this.toggleDataSidebar(true);\n    },\n    getOrderStatusColor: function getOrderStatusColor(status) {\n      if (status === 'on_hold') return 'warning';\n      if (status === 'delivered') return 'success';\n      if (status === 'canceled') return 'danger';\n      return 'primary';\n    },\n    getPopularityColor: function getPopularityColor(num) {\n      if (num > 90) return 'success';\n      if (num > 70) return 'primary';\n      if (num >= 50) return 'warning';\n      if (num < 50) return 'danger';\n      return 'primary';\n    },\n    toggleDataSidebar: function toggleDataSidebar() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.addNewDataSidebar = val;\n    },\n    resetColFilters: function resetColFilters() {\n      // Reset Grid Filter\n      this.gridApi.setFilterModel(null);\n      this.gridApi.onFilterChanged(); // Reset Filter Options\n\n      this.roleFilter = this.statusFilter = this.isVerifiedFilter = this.departmentFilter = {\n        label: 'All',\n        value: 'all'\n      };\n      this.$refs.filterCard.removeRefreshAnimation();\n    }\n  },\n  created: function created() {\n    if (!moduleDataList.isRegistered) {\n      this.$store.registerModule('dataList', moduleDataList);\n      moduleDataList.isRegistered = true;\n    }\n\n    this.$store.dispatch('dataList/fetchDataListItems');\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    _this.getProducts();\n\n    _this.getLuckySkinType();\n\n    _this.isMounted = true;\n  }\n};",{"version":3,"sources":["DataListThumbView.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- =========================================================================================\r\n  File Name: DataListThumbView.vue\r\n  Description: Data List - Thumb View\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n========================================================================================== -->\r\n\r\n<template>\r\n  <div id=\"data-list-thumb-view\" class=\"data-list-container\">\r\n\r\n     <vx-card ref=\"filterCard\" title=\"条件搜索\" class=\"user-list-filters mb-8\" actionButtons @refresh=\"resetColFilters\" @remove=\"resetColFilters\">\r\n      <div class=\"vx-row\">\r\n        <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <label class=\"text-sm opacity-75\">饰品类型</label>\r\n          <v-select :options=\"roleOptions\" :clearable=\"false\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" v-model=\"roleFilter\" class=\"mb-4 md:mb-0\" />\r\n        </div>\r\n        <!-- <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <label class=\"text-sm opacity-75\">额外概率</label>\r\n          <v-select :options=\"statusOptions\" :clearable=\"false\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" v-model=\"statusFilter\" class=\"mb-4 md:mb-0\" />\r\n        </div> -->\r\n        <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <label class=\"text-sm opacity-75\">关键字搜索</label>\r\n          <vs-input\r\n            class=\"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4\"\r\n            v-model=\"searchKey\"\r\n            placeholder=\"关键字\"\r\n          />\r\n        </div>\r\n        <vs-button class=\"s-a\" @click=\"getProducts\">搜索</vs-button>\r\n        <vs-button class=\"s-a\" @click=\"sync()\"  style=\"margin-left:15px;\">一键同步</vs-button>\r\n        <vs-button class=\"s-a\" @click=\"addNewData\">添加商品</vs-button>\r\n      </div>\r\n\r\n\r\n    </vx-card>\r\n\r\n    <data-view-sidebar\r\n      :isSidebarActive=\"addNewDataSidebar\"\r\n      @closeSidebar=\"toggleDataSidebar\"\r\n      @reload=\"getProducts\"\r\n      :data=\"sidebarData\"\r\n      :skinType='skinType'/>\r\n    <del-frame :delValide=\"delValide\" @closeDel=\"isDel\" :delStatus='delStatus'></del-frame>\r\n\r\n    <vs-table ref=\"table\" multiple v-model=\"selected\" :max-items=\"pageSize\" :data=\"products\">\r\n\r\n      <div slot=\"header\" class=\"flex flex-wrap-reverse items-center flex-grow justify-between\">\r\n\r\n        <div class=\"flex flex-wrap-reverse items-center\">\r\n\r\n          <!-- ACTION - DROPDOWN -->\r\n\r\n\r\n          <!-- ADD NEW -->\r\n          <!-- <div class=\"p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary\" @click=\"addNewData\">\r\n              <feather-icon icon=\"PlusIcon\" svgClasses=\"h-4 w-4\" />\r\n              <span class=\"ml-2 text-base text-primary\">添加</span>\r\n          </div> -->\r\n        </div>\r\n\r\n\r\n        <!-- ITEMS PER PAGE -->\r\n        <vs-dropdown vs-trigger-click class=\"cursor-pointer mb-4 mr-4\">\r\n          <div class=\"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\">\r\n            <span class=\"mr-2\">{{ currentPage * pageSize - (pageSize - 1) }} - {{ currentPage * pageSize }} of {{ total }}</span>\r\n            <feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" />\r\n          </div>\r\n          <!-- <vs-button class=\"btn-drop\" type=\"line\" color=\"primary\" icon-pack=\"feather\" icon=\"icon-chevron-down\"></vs-button> -->\r\n          <vs-dropdown-menu>\r\n\r\n            <vs-dropdown-item @click=\"pageSize=10\">\r\n              <span>10</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=20\">\r\n              <span>20</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=30\">\r\n              <span>30</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=50\">\r\n              <span>50</span>\r\n            </vs-dropdown-item>\r\n          </vs-dropdown-menu>\r\n        </vs-dropdown>\r\n      </div>\r\n\r\n      <template slot=\"thead\">\r\n        <vs-th >图片</vs-th>\r\n        <vs-th sort-key=\"name\">名称</vs-th>\r\n        <vs-th sort-key=\"market_price\">扎比特价格</vs-th>\r\n        <vs-th sort-key=\"price\">平台价</vs-th>\r\n        <vs-th sort-key=\"lucky\">幸运饰品</vs-th>\r\n        <vs-th sort-key=\"sale\">是否售卖</vs-th>\r\n        <vs-th sort-key=\"category\">类型</vs-th>\r\n        <vs-th sort-key=\"is_exist\">是否在售(扎比特)</vs-th>\r\n        <vs-th>操作</vs-th>\r\n      </template>\r\n\r\n      <template slot-scope=\"{data}\">\r\n        <tbody>\r\n          <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n\r\n            <vs-td class=\"img-container\">\r\n              <img :src=\"tr.imageUrl\" class=\"product-img\" />\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <p class=\"product-name font-medium truncate\">{{ tr.itemName }}</p>\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <p class=\"product-price\">${{ tr.market_price }}</p>\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <p class=\"product-price\">{{ tr.price }}</p>\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n                <p class=\"product-price\" v-if=\"tr.lucky == 1\">是</p>\r\n                <p class=\"product-price\" v-else>否</p>\r\n            </vs-td>\r\n\r\n             <vs-td>\r\n                <div style=\"display:flex\">\r\n                  <p class=\"product-price\">{{ tr.sale == 1 ? '是' : '否' }}</p>\r\n                  <p v-if=\"tr.sale == 1\" class=\"product-price\">({{tr.stock}})</p>\r\n                </div>\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <p class=\"product-category\">{{ tr.typeName }}</p>\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <p>{{ tr.is_exist == 0 ? '无货或不在售' : '是' }}</p>\r\n            </vs-td>\r\n\r\n\r\n\r\n            <vs-td class=\"whitespace-no-wrap\">\r\n              <feather-icon icon=\"EditIcon\" svgClasses=\"w-5 h-5 hover:text-primary stroke-current\" @click.stop=\"editData(tr)\" />\r\n              <!-- <feather-icon icon=\"TrashIcon\" svgClasses=\"w-5 h-5 hover:text-danger stroke-current\" class=\"ml-2\" @click.stop=\"deleteData(tr.id)\" /> -->\r\n            </vs-td>\r\n\r\n          </vs-tr>\r\n        </tbody>\r\n      </template>\r\n    </vs-table>\r\n     <vs-pagination :total=\"totalPages\" :max=\"7\" v-model=\"currentPage\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DataViewSidebar from '../DataViewSidebar.vue'\r\nimport DelFrame from '../DelFrame.vue'\r\nimport moduleDataList from '@/store/data-list/moduleDataList.js'\r\nimport vSelect from 'vue-select'\r\n\r\nexport default {\r\n  components: {\r\n    DataViewSidebar,\r\n    DelFrame,\r\n    vSelect\r\n  },\r\n  data () {\r\n    return {\r\n      selected: [],\r\n      // products: [],\r\n      isMounted: false,\r\n      addNewDataSidebar: false,\r\n      delValide:false,\r\n      delStatus:0,\r\n      sidebarData: {},\r\n\r\n      products:[],                //列表\r\n\r\n      total:0,\r\n      currentPage:1,\r\n      pageSize: 10,\r\n      totalPages:0,\r\n      skinType:[],\r\n      skinOptions:[],\r\n      roleOptions:[\r\n        { label: '所有', value: '' },\r\n        { label: '商城饰品', value: 'sale' },\r\n        { label: '幸运饰品', value: 'lucky' }\r\n      ],\r\n      roleFilter: { label: '所有', value: '1' },\r\n      typeValue:'',\r\n      searchKey:''\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  watch:{\r\n    \"currentPage\":{\r\n      handler(val){\r\n        let _this = this;\r\n        _this.currentPage = val;\r\n        _this.getProducts();\r\n      },\r\n      deep:true\r\n    },\r\n    'pageSize':{\r\n      handler(val){\r\n        let _this = this;\r\n        _this.pageSize = val;\r\n        _this.getProducts();\r\n      },\r\n      deep:true\r\n    },\r\n    \"roleFilter\":{\r\n      handler(val){\r\n        console.log(val);\r\n        this.typeValue = val.value;\r\n        this.getProducts();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    sync(){\r\n      let _this = this;\r\n      // console.log(_this.selected);\r\n      // let datas = [];\r\n      // _this.selected.forEach(e=>{\r\n      //   let data = {};\r\n      //   data.id = e.id;\r\n      //   data.itemId = e.itemId;\r\n      //   data.itemName = e.itemName;\r\n      //   data.market_price = e.market_price;\r\n      //   datas.push(data)\r\n      // })\r\n      // console.log(datas);\r\n      // if(_this.selected.length<=0){\r\n      //   _this.$vs.notify({\r\n      //     title: '提示',\r\n      //     text: '请勾选要同步饰品',\r\n      //     iconPack: 'feather',\r\n      //     icon: 'icon-alert-circle',\r\n      //     color: 'danger'\r\n      //   })\r\n      //   return\r\n      // }\r\n      _this.$axios({\r\n        url: \"/admin/Box/sync\",\r\n        method: \"post\",\r\n        data:{},\r\n      }).then(res=>{\r\n        if(res.data.status == 1){\r\n          _this.getProducts();\r\n          _this.selected = []\r\n          _this.$vs.notify({\r\n            title: '提示',\r\n            text: res.data.msg,\r\n            iconPack: 'feather',\r\n            icon: 'icon-alert-circle',\r\n            color: 'success'\r\n          })\r\n        }else{\r\n          _this.$vs.notify({\r\n            title: '提示',\r\n            text: res.data.msg,\r\n            iconPack: 'feather',\r\n            icon: 'icon-alert-circle',\r\n            color: 'danger'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    getProducts(){\r\n      let _this = this;\r\n      _this.$axios({\r\n        url: \"/admin/All_Skin/allSkinList\",\r\n        method: \"post\",\r\n        data:{\r\n            page:_this.currentPage,\r\n            pageSize:_this.pageSize,\r\n            value:_this.typeValue,\r\n            searchKey:_this.searchKey\r\n          },\r\n      }).then(res => {\r\n        // console.log(res.data.data.list);\r\n        if(res.data.status == 1){\r\n          _this.total = res.data.data.total;\r\n          _this.totalPages = _this.pageTotal(_this.total,_this.pageSize);\r\n          _this.products     = res.data.data.list;\r\n        }else{\r\n           _this.total = 0;\r\n           _this.totalPages = 0;\r\n           _this.products = [];\r\n        }\r\n      })\r\n    },\r\n    //幸运饰品分类\r\n    getLuckySkinType(){\r\n      let _this = this;\r\n      _this.$axios({\r\n        url: \"/admin/Lucky/skinType\",\r\n        method: \"post\",\r\n        data:{},\r\n      }).then(res => {\r\n        // console.log(res.data.data.list);\r\n        _this.skinType = res.data.data.list\r\n      })\r\n    },\r\n    //\"总条数\"：rowCount，\"每页总条数\"：pageSize\r\n    pageTotal(rowCount, pageSize) {\r\n      if (rowCount == null || rowCount == \"\") {\r\n            return 0;\r\n      } else {\r\n            if (pageSize != 0 && rowCount % pageSize == 0) {\r\n                    return parseInt(rowCount / pageSize)\r\n            }\r\n            if (pageSize != 0 && rowCount % pageSize != 0) {\r\n                    return parseInt(rowCount / pageSize) + 1;\r\n            }\r\n        }\r\n    },\r\n    addNewData () {\r\n      this.sidebarData = {};\r\n      this.toggleDataSidebar(true);\r\n    },\r\n    deleteData (id) {\r\n      let _this = this;\r\n      _this.del_id = id;\r\n      _this.closeDel();\r\n    },\r\n    closeDel(){\r\n      let _this = this;\r\n      _this.delValide = true;\r\n    },\r\n    isDel(val = false){\r\n      console.log(val);\r\n      if(val){\r\n        let _this = this;\r\n        _this.$axios({\r\n          url: \"/admin/all_skin/delSkin\",\r\n          method: \"post\",\r\n          data:{\r\n            id:_this.del_id\r\n          },\r\n        }).then(res => {\r\n          if(res.data.status == 1){\r\n            _this.getProducts();\r\n            _this.delStatus = 1;\r\n          }else{\r\n            _this.delStatus = 2;\r\n          }\r\n        })\r\n      }\r\n    },\r\n    editData (data) {\r\n      console.log(data);\r\n      this.sidebarData = data;\r\n      this.toggleDataSidebar(true);\r\n    },\r\n    getOrderStatusColor (status) {\r\n      if (status === 'on_hold')   return 'warning'\r\n      if (status === 'delivered') return 'success'\r\n      if (status === 'canceled')  return 'danger'\r\n      return 'primary'\r\n    },\r\n    getPopularityColor (num) {\r\n      if (num > 90)  return 'success'\r\n      if (num > 70)  return 'primary'\r\n      if (num >= 50) return 'warning'\r\n      if (num < 50)  return 'danger'\r\n      return 'primary'\r\n    },\r\n    toggleDataSidebar (val = false) {\r\n      this.addNewDataSidebar = val\r\n    },\r\n    resetColFilters () {\r\n      // Reset Grid Filter\r\n      this.gridApi.setFilterModel(null)\r\n      this.gridApi.onFilterChanged()\r\n\r\n      // Reset Filter Options\r\n      this.roleFilter = this.statusFilter = this.isVerifiedFilter = this.departmentFilter = { label: 'All', value: 'all' }\r\n\r\n      this.$refs.filterCard.removeRefreshAnimation()\r\n    },\r\n  },\r\n  created () {\r\n    if (!moduleDataList.isRegistered) {\r\n      this.$store.registerModule('dataList', moduleDataList)\r\n      moduleDataList.isRegistered = true\r\n    }\r\n    this.$store.dispatch('dataList/fetchDataListItems')\r\n  },\r\n  mounted () {\r\n    let _this = this;\r\n    _this.getProducts();\r\n    _this.getLuckySkinType();\r\n    _this.isMounted = true;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#data-list-thumb-view {\r\n  .vs-con-table {\r\n\r\n    .product-name {\r\n      max-width: 23rem;\r\n    }\r\n\r\n    .vs-table--header {\r\n      display: flex;\r\n      flex-wrap: wrap-reverse;\r\n      margin-left: 1.5rem;\r\n      margin-right: 1.5rem;\r\n      > span {\r\n        display: flex;\r\n        flex-grow: 1;\r\n      }\r\n\r\n      .vs-table--search{\r\n        padding-top: 0;\r\n\r\n        .vs-table--search-input {\r\n          padding: 0.9rem 2.5rem;\r\n          font-size: 1rem;\r\n\r\n          &+i {\r\n            left: 1rem;\r\n          }\r\n\r\n          &:focus+i {\r\n            left: 1rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .vs-table {\r\n      border-collapse: separate;\r\n      border-spacing: 0 1.3rem;\r\n      padding: 0 1rem;\r\n\r\n\r\n      tr{\r\n          box-shadow: 0 4px 20px 0 rgba(0,0,0,.05);\r\n          td{\r\n            padding: 10px;\r\n            &:first-child{\r\n              border-top-left-radius: .5rem;\r\n              border-bottom-left-radius: .5rem;\r\n            }\r\n            &:last-child{\r\n              border-top-right-radius: .5rem;\r\n              border-bottom-right-radius: .5rem;\r\n            }\r\n            &.img-container {\r\n              // width: 1rem;\r\n              // background: #fff;\r\n\r\n              span {\r\n                display: flex;\r\n                justify-content: flex-start;\r\n              }\r\n\r\n              .product-img {\r\n                height: 110px;\r\n              }\r\n            }\r\n          }\r\n          td.td-check{\r\n            padding: 20px !important;\r\n          }\r\n      }\r\n    }\r\n\r\n    .vs-table--thead{\r\n      th {\r\n        padding-top: 0;\r\n        padding-bottom: 0;\r\n\r\n        .vs-table-text{\r\n          text-transform: uppercase;\r\n          font-weight: 600;\r\n        }\r\n      }\r\n      th.td-check{\r\n        padding: 0 15px !important;\r\n      }\r\n      tr{\r\n        background: none;\r\n        box-shadow: none;\r\n      }\r\n    }\r\n\r\n    .vs-table--pagination {\r\n      justify-content: center;\r\n    }\r\n  }\r\n}\r\n.search{\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n<style>\r\n.vx-row{\r\n  /* justify-content: space-between; */\r\n}\r\n.s-a{\r\n  margin-left: 15px;\r\n  float: left;\r\n  height: 37px;\r\n  margin-top: 20px;\r\n  margin-right: 20px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/ui-elements/data-list/thumb-view"}]}