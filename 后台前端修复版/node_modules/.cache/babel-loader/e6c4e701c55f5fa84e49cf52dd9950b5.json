{"remainingRequest":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\ui-elements\\data-list\\list-view\\DataListListView.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\ui-elements\\data-list\\list-view\\DataListListView.vue","mtime":1620826038000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { AgGridVue } from \"ag-grid-vue\";\nimport \"@/assets/scss/vuexy/extraComponents/agGridStyleOverride.scss\";\nimport vSelect from \"vue-select\";\nimport moduleDataList from '@/store/data-list/moduleDataList.js';\nexport default {\n  components: {\n    AgGridVue: AgGridVue,\n    vSelect: vSelect\n  },\n  data: function data() {\n    return {\n      selected: [],\n      // products: [],\n      isMounted: false,\n      // Data Sidebar\n      addNewDataSidebar: false,\n      sidebarData: {},\n      products: [],\n      total: 0,\n      currentPage: 1,\n      pageSize: 10,\n      totalPages: 0,\n      roleOptions: [],\n      roleFilter: {\n        label: \"所有\",\n        value: \"\"\n      },\n      keyword: ''\n    };\n  },\n  computed: {// currentPage () {\n    //   if (this.isMounted) {\n    //     console.log(this.$refs.table);\n    //     return this.$refs.table.currentx\n    //   }\n    //   return 0\n    // },\n    // products () {\n    //   return this.$store.state.dataList.products\n    // },\n    // total () {\n    //   return this.$refs.table ? this.$refs.table.queriedResults.length : this.products.length\n    // }\n  },\n  watch: {\n    \"currentPage\": {\n      handler: function handler(val) {\n        var _this = this;\n\n        _this.currentPage = val;\n\n        _this.getSkinList();\n      },\n      deep: true\n    },\n    'pageSize': {\n      handler: function handler(val) {\n        var _this = this;\n\n        _this.pageSize = val;\n\n        _this.getSkinList();\n      },\n      deep: true\n    },\n    'keyword': {\n      handler: function handler(val) {\n        var _this = this;\n\n        _this.keyword = val;\n\n        if (!_this.keyword) {\n          _this.getSkinList();\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    search: function search() {\n      var _this = this;\n\n      if (_this.keyword) {\n        _this.getSkinList();\n      }\n    },\n    getSkinList: function getSkinList() {\n      var _this = this;\n\n      _this.$axios({\n        url: \"/admin/Box/skinList\",\n        method: \"post\",\n        data: {\n          keyword: _this.keyword,\n          page: _this.currentPage,\n          pageSize: _this.pageSize\n        }\n      }).then(function (res) {\n        if (res.data.success == false) {\n          _this.$vs.notify({\n            color: 'danger',\n            title: '提示',\n            text: res.data.errorMsg\n          });\n        } else {\n          _this.products = res.data.data.list;\n          _this.total = res.data.data.total;\n          _this.totalPages = res.data.data.pages;\n        }\n      });\n    },\n    addSkin: function addSkin(row) {\n      var _this = this;\n\n      _this.$axios({\n        url: \"/admin/Box/addSkin\",\n        method: \"post\",\n        data: row\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.status == 1) {\n          _this.$vs.notify({\n            color: 'success',\n            title: '提示',\n            text: res.data.msg\n          });\n        } else {\n          _this.$vs.notify({\n            color: 'danger',\n            title: '提示',\n            text: res.data.msg\n          });\n        }\n      });\n    },\n    addNewData: function addNewData() {\n      this.sidebarData = {};\n      this.toggleDataSidebar(true);\n    },\n    deleteData: function deleteData(id) {\n      this.$store.dispatch('dataList/removeItem', id).catch(function (err) {\n        console.error(err);\n      });\n    },\n    editData: function editData(data) {\n      // this.sidebarData = JSON.parse(JSON.stringify(this.blankData))\n      this.sidebarData = data;\n      this.toggleDataSidebar(true);\n    },\n    getOrderStatusColor: function getOrderStatusColor(status) {\n      if (status === 'on_hold') return 'warning';\n      if (status === 'delivered') return 'success';\n      if (status === 'canceled') return 'danger';\n      return 'primary';\n    },\n    getPopularityColor: function getPopularityColor(num) {\n      if (num > 90) return 'success';\n      if (num > 70) return 'primary';\n      if (num >= 50) return 'warning';\n      if (num < 50) return 'danger';\n      return 'primary';\n    },\n    toggleDataSidebar: function toggleDataSidebar() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.addNewDataSidebar = val;\n    },\n    resetColFilters: function resetColFilters() {\n      // Reset Grid Filter\n      this.gridApi.setFilterModel(null);\n      this.gridApi.onFilterChanged(); // Reset Filter Options\n\n      this.roleFilter = this.statusFilter = this.isVerifiedFilter = this.departmentFilter = {\n        label: \"All\",\n        value: \"all\"\n      };\n      this.$refs.filterCard.removeRefreshAnimation();\n    }\n  },\n  created: function created() {\n    if (!moduleDataList.isRegistered) {\n      this.$store.registerModule('dataList', moduleDataList);\n      moduleDataList.isRegistered = true;\n    }\n\n    this.$store.dispatch('dataList/fetchDataListItems');\n  },\n  mounted: function mounted() {\n    this.isMounted = true;\n    this.getSkinList();\n  }\n};",{"version":3,"sources":["DataListListView.vue"],"names":[],"mappings":"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","sourcesContent":["\r\n<template>\r\n\r\n  <div id=\"data-list-list-view\" class=\"data-list-container\">\r\n\r\n    <!-- <skin-list :isSidebarActive=\"addNewDataSidebar\" @closeSidebar=\"toggleDataSidebar\" :data=\"sidebarData\" /> -->\r\n\r\n    <vx-card\r\n      ref=\"filterCard\"\r\n      title=\"条件搜索\"\r\n      class=\"user-list-filters mb-8\"\r\n      actionButtons\r\n      @refresh=\"resetColFilters\"\r\n      @remove=\"resetColFilters\"\r\n    >\r\n      <div class=\"vx-row\">\r\n        <!-- <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <label class=\"text-sm opacity-75\">箱子类型</label>\r\n          <v-select\r\n            :options=\"roleOptions\"\r\n            :clearable=\"false\"\r\n            :dir=\"$vs.rtl ? 'rtl' : 'ltr'\"\r\n            v-model=\"roleFilter\"\r\n            class=\"mb-4 md:mb-0\"\r\n          />\r\n        </div> -->\r\n\r\n        <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <label class=\"text-sm opacity-75\">关键字</label>\r\n          <div style=\"display:flex\">\r\n            <vs-input v-model=\"keyword\"/>\r\n            <vs-button class=\"search\" @click=\"search\">搜索</vs-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      \r\n    </vx-card>\r\n\r\n    <vs-table ref=\"table\" multiple v-model=\"selected\" :max-items=\"pageSize\" :data=\"products\">\r\n\r\n      <div slot=\"header\" class=\"flex flex-wrap-reverse items-center flex-grow justify-between\">\r\n\r\n        <div class=\"flex flex-wrap-reverse items-center data-list-btn-container\">\r\n\r\n          <!-- ACTION - DROPDOWN -->\r\n          <!-- <vs-dropdown vs-trigger-click class=\"dd-actions cursor-pointer mr-4 mb-4\">\r\n\r\n            <div class=\"p-4 shadow-drop rounded-lg d-theme-dark-bg cursor-pointer flex items-center justify-center text-lg font-medium w-32 w-full\">\r\n              <span class=\"mr-2\">Actions</span>\r\n              <feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" />\r\n            </div>\r\n\r\n            <vs-dropdown-menu>\r\n\r\n              <vs-dropdown-item>\r\n                <span class=\"flex items-center\">\r\n                  <feather-icon icon=\"TrashIcon\" svgClasses=\"h-4 w-4\" class=\"mr-2\" />\r\n                  <span>Delete</span>\r\n                </span>\r\n              </vs-dropdown-item>\r\n\r\n              <vs-dropdown-item>\r\n                <span class=\"flex items-center\">\r\n                  <feather-icon icon=\"ArchiveIcon\" svgClasses=\"h-4 w-4\" class=\"mr-2\" />\r\n                  <span>Archive</span>\r\n                </span>\r\n              </vs-dropdown-item>\r\n\r\n              <vs-dropdown-item>\r\n                <span class=\"flex items-center\">\r\n                  <feather-icon icon=\"FileIcon\" svgClasses=\"h-4 w-4\" class=\"mr-2\" />\r\n                  <span>Print</span>\r\n                </span>\r\n              </vs-dropdown-item>\r\n\r\n              <vs-dropdown-item>\r\n                <span class=\"flex items-center\">\r\n                  <feather-icon icon=\"SaveIcon\" svgClasses=\"h-4 w-4\" class=\"mr-2\" />\r\n                  <span>Another Action</span>\r\n                </span>\r\n              </vs-dropdown-item>\r\n\r\n            </vs-dropdown-menu>\r\n          </vs-dropdown> -->\r\n\r\n          <!-- ADD NEW -->\r\n          <!-- <div class=\"btn-add-new p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-center text-lg font-medium text-base text-primary border border-solid border-primary\" @click=\"addNewData\">\r\n              <feather-icon icon=\"PlusIcon\" svgClasses=\"h-4 w-4\" />\r\n              <span class=\"ml-2 text-base text-primary\">新增</span>\r\n          </div> -->\r\n        </div>\r\n\r\n          \r\n\r\n        <!-- ITEMS PER PAGE -->\r\n        <vs-dropdown vs-trigger-click class=\"cursor-pointer mb-4 mr-4 items-per-page-handler\">\r\n          <div class=\"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\">\r\n            <span class=\"mr-2\">{{ currentPage * pageSize - (pageSize - 1) }} - {{  currentPage * pageSize }} of {{ total }}</span>\r\n            <feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" />\r\n          </div>\r\n          <!-- <vs-button class=\"btn-drop\" type=\"line\" color=\"primary\" icon-pack=\"feather\" icon=\"icon-chevron-down\"></vs-button> -->\r\n          <vs-dropdown-menu>\r\n            <vs-dropdown-item @click=\"pageSize=10\">\r\n              <span>10</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=20\">\r\n              <span>20</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=30\">\r\n              <span>30</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=50\">\r\n              <span>50</span>\r\n            </vs-dropdown-item>\r\n          </vs-dropdown-menu>\r\n        </vs-dropdown>\r\n      </div>\r\n\r\n      <template slot=\"thead\">\r\n        <vs-th sort-key=\"imageUrl\">图片</vs-th>\r\n        <vs-th sort-key=\"itemName\">名称</vs-th>\r\n        <vs-th sort-key=\"priceInfo.price\">价格</vs-th>\r\n        <vs-th sort-key=\"rarityName\">分类</vs-th>\r\n        <!-- <vs-th sort-key=\"order_status\">Order Status</vs-th> -->\r\n        \r\n        <vs-th>操作</vs-th>\r\n      </template>\r\n\r\n        <template slot-scope=\"{data}\">\r\n          <tbody>\r\n            <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n\r\n              <vs-td class=\"img-container\">\r\n                <img :src=\"tr.imageUrl\" class=\"product-img\" />\r\n              </vs-td>\r\n\r\n              <vs-td>\r\n                <p class=\"product-name font-medium truncate\">{{ tr.itemName }}</p>\r\n              </vs-td>\r\n\r\n              <vs-td>\r\n                <p class=\"product-price\">$ {{ tr.priceInfo ? tr.priceInfo.price : 0 }}</p>\r\n              </vs-td>\r\n\r\n              <vs-td>\r\n                <p class=\"product-category\">{{ tr.rarityName }}</p>\r\n              </vs-td>\r\n\r\n              <!-- <vs-td>\r\n                <vs-progress :percent=\"Number(tr.popularity)\" :color=\"getPopularityColor(Number(tr.popularity))\" class=\"shadow-md\" />\r\n              </vs-td> -->\r\n\r\n              <!-- <vs-td>\r\n                <vs-chip :color=\"getOrderStatusColor(tr.order_status)\" class=\"product-order-status\">{{ tr.order_status | title }}</vs-chip>\r\n              </vs-td> -->\r\n\r\n              \r\n\r\n              <vs-td class=\"whitespace-no-wrap\">\r\n                <a @click.stop=\"addSkin(tr)\">添加</a>\r\n              </vs-td>\r\n\r\n            </vs-tr>\r\n          </tbody>\r\n          \r\n        </template>\r\n        \r\n    </vs-table>\r\n    <vs-pagination :total=\"totalPages\" :max=\"7\" v-model=\"currentPage\" />\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport { AgGridVue } from \"ag-grid-vue\";\r\nimport \"@/assets/scss/vuexy/extraComponents/agGridStyleOverride.scss\";\r\nimport vSelect from \"vue-select\";\r\nimport moduleDataList from '@/store/data-list/moduleDataList.js'\r\nexport default {\r\n  components:{\r\n    AgGridVue,\r\n    vSelect\r\n  },\r\n  data () {\r\n    return {\r\n      selected: [],\r\n      // products: [],\r\n      \r\n      isMounted: false,\r\n\r\n      // Data Sidebar\r\n      addNewDataSidebar: false,\r\n      sidebarData: {},\r\n      products:[],\r\n      total:0,\r\n      currentPage:1,\r\n      pageSize: 10,\r\n      totalPages:0,\r\n      roleOptions:[],\r\n      roleFilter: { label: \"所有\", value: \"\" },\r\n      keyword:''\r\n    }\r\n  },\r\n  computed: {\r\n    // currentPage () {\r\n    //   if (this.isMounted) {\r\n    //     console.log(this.$refs.table);\r\n    //     return this.$refs.table.currentx\r\n    //   }\r\n    //   return 0\r\n    // },\r\n    // products () {\r\n    //   return this.$store.state.dataList.products\r\n    // },\r\n    // total () {\r\n    //   return this.$refs.table ? this.$refs.table.queriedResults.length : this.products.length\r\n    // }\r\n  },\r\n  watch:{\r\n    \"currentPage\":{\r\n      handler(val){\r\n        let _this = this;\r\n        _this.currentPage = val;\r\n        _this.getSkinList();\r\n      },\r\n      deep:true\r\n    },\r\n    'pageSize':{\r\n      handler(val){\r\n        let _this = this;\r\n        _this.pageSize = val;\r\n        _this.getSkinList();\r\n      },\r\n      deep:true\r\n    },\r\n    'keyword':{\r\n      handler(val){\r\n        let _this = this;\r\n        _this.keyword = val;\r\n        if(!_this.keyword){\r\n          _this.getSkinList();\r\n        }\r\n      },\r\n      deep:true\r\n    },\r\n  },\r\n  methods: {\r\n    search(){\r\n      let _this = this;\r\n      if(_this.keyword){\r\n        _this.getSkinList();\r\n      }\r\n    },\r\n    getSkinList(){\r\n      let _this = this;\r\n      _this.$axios({\r\n          url: \"/admin/Box/skinList\",\r\n          method: \"post\",\r\n          data:{\r\n            keyword:_this.keyword,\r\n            page:_this.currentPage,\r\n            pageSize:_this.pageSize\r\n          },\r\n        }).then((res) => {\r\n          if(res.data.success == false){\r\n            _this.$vs.notify({\r\n              color: 'danger',\r\n              title: '提示',\r\n              text: res.data.errorMsg\r\n            })\r\n          }else{\r\n            _this.products = res.data.data.list;\r\n            _this.total =  res.data.data.total;\r\n            _this.totalPages = res.data.data.pages;\r\n          }\r\n        });\r\n    },\r\n    addSkin(row){\r\n       let _this = this;\r\n      _this.$axios({\r\n          url: \"/admin/Box/addSkin\",\r\n          method: \"post\",\r\n          data:row,\r\n        }).then((res) => {\r\n          console.log(res);\r\n          if(res.data.status == 1){\r\n            _this.$vs.notify({\r\n              color: 'success',\r\n              title: '提示',\r\n              text: res.data.msg\r\n            })\r\n          }else{\r\n            _this.$vs.notify({\r\n              color: 'danger',\r\n              title: '提示',\r\n              text: res.data.msg\r\n            })\r\n          }\r\n        });\r\n    },\r\n    addNewData () {\r\n      this.sidebarData = {}\r\n      this.toggleDataSidebar(true)\r\n    },\r\n    deleteData (id) {\r\n      this.$store.dispatch('dataList/removeItem', id).catch(err => { console.error(err) })\r\n    },\r\n    editData (data) {\r\n      // this.sidebarData = JSON.parse(JSON.stringify(this.blankData))\r\n      this.sidebarData = data\r\n      this.toggleDataSidebar(true)\r\n    },\r\n    getOrderStatusColor (status) {\r\n      if (status === 'on_hold')   return 'warning'\r\n      if (status === 'delivered') return 'success'\r\n      if (status === 'canceled')  return 'danger'\r\n      return 'primary'\r\n    },\r\n    getPopularityColor (num) {\r\n      if (num > 90)  return 'success'\r\n      if (num > 70)  return 'primary'\r\n      if (num >= 50) return 'warning'\r\n      if (num < 50)  return 'danger'\r\n      return 'primary'\r\n    },\r\n    toggleDataSidebar (val = false) {\r\n      this.addNewDataSidebar = val\r\n    },\r\n    resetColFilters() {\r\n      // Reset Grid Filter\r\n      this.gridApi.setFilterModel(null);\r\n      this.gridApi.onFilterChanged();\r\n\r\n      // Reset Filter Options\r\n      this.roleFilter = this.statusFilter = this.isVerifiedFilter = this.departmentFilter = {\r\n        label: \"All\",\r\n        value: \"all\",\r\n      };\r\n      this.$refs.filterCard.removeRefreshAnimation();\r\n    },\r\n  },\r\n  created () {\r\n    if (!moduleDataList.isRegistered) {\r\n      this.$store.registerModule('dataList', moduleDataList)\r\n      moduleDataList.isRegistered = true\r\n    }\r\n    this.$store.dispatch('dataList/fetchDataListItems')\r\n  },\r\n  mounted () {\r\n    this.isMounted = true;\r\n    this.getSkinList();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#data-list-list-view {\r\n  .vs-con-table {\r\n\r\n    /*\r\n      Below media-queries is fix for responsiveness of action buttons\r\n      Note: If you change action buttons or layout of this page, Please remove below style\r\n    */\r\n    @media (max-width: 689px) {\r\n      .vs-table--search {\r\n        margin-left: 0;\r\n        max-width: unset;\r\n        width: 100%;\r\n\r\n        .vs-table--search-input {\r\n          width: 100%;\r\n        }\r\n      }\r\n    }\r\n\r\n    @media (max-width: 461px) {\r\n      .items-per-page-handler {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 341px) {\r\n      .data-list-btn-container {\r\n        width: 100%;\r\n\r\n        .dd-actions,\r\n        .btn-add-new {\r\n          width: 100%;\r\n          margin-right: 0 !important;\r\n        }\r\n      }\r\n    }\r\n\r\n    .product-name {\r\n      max-width: 23rem;\r\n    }\r\n\r\n    .vs-table--header {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      margin-left: 1.5rem;\r\n      margin-right: 1.5rem;\r\n      > span {\r\n        display: flex;\r\n        flex-grow: 1;\r\n      }\r\n\r\n      .vs-table--search{\r\n        padding-top: 0;\r\n\r\n        .vs-table--search-input {\r\n          padding: 0.9rem 2.5rem;\r\n          font-size: 1rem;\r\n\r\n          &+i {\r\n            left: 1rem;\r\n          }\r\n\r\n          &:focus+i {\r\n            left: 1rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .vs-table {\r\n      border-collapse: separate;\r\n      border-spacing: 0 1.3rem;\r\n      padding: 0 1rem;\r\n\r\n      tr{\r\n          box-shadow: 0 4px 20px 0 rgba(0,0,0,.05);\r\n          td{\r\n            padding: 20px;\r\n            &:first-child{\r\n              border-top-left-radius: .5rem;\r\n              border-bottom-left-radius: .5rem;\r\n            }\r\n            &:last-child{\r\n              border-top-right-radius: .5rem;\r\n              border-bottom-right-radius: .5rem;\r\n            }\r\n          }\r\n          td.td-check{\r\n            padding: 20px !important;\r\n          }\r\n      }\r\n    }\r\n\r\n    .vs-table--thead{\r\n      th {\r\n        padding-top: 0;\r\n        padding-bottom: 0;\r\n\r\n        .vs-table-text{\r\n          text-transform: uppercase;\r\n          font-weight: 600;\r\n        }\r\n      }\r\n      th.td-check{\r\n        padding: 0 15px !important;\r\n      }\r\n      tr{\r\n        background: none;\r\n        box-shadow: none;\r\n      }\r\n    }\r\n\r\n    .vs-table--pagination {\r\n      justify-content: center;\r\n    }\r\n  }\r\n  .user-list-filters {\r\n    .vs__actions {\r\n      position: absolute;\r\n      right: 0;\r\n      top: 50%;\r\n      transform: translateY(-58%);\r\n    }\r\n  }\r\n}\r\n.img-container {\r\n              // width: 1rem;\r\n              // background: #fff;\r\n\r\n              span {\r\n                display: flex;\r\n                justify-content: flex-start;\r\n              }\r\n\r\n              .product-img {\r\n                height: 110px;\r\n              }\r\n            }\r\n #data-list-list-view .vs-con-table .vs-table tr td {\r\n    padding: 5px 0;\r\n}\r\n.search{\r\n  height: 36px;\r\n  width: 60px;\r\n  margin-left: 6px;\r\n  padding: 0!important;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/ui-elements/data-list/list-view"}]}