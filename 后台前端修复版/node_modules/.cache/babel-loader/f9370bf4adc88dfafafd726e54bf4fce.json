{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\views\\apps\\user\\user-list\\UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\views\\apps\\user\\user-list\\UserList.vue","mtime":1638538051000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1664268237683},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":1663908471338},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":1664268237964}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.string.anchor\";\nimport { AgGridVue } from 'ag-grid-vue';\nimport '@/assets/scss/vuexy/extraComponents/agGridStyleOverride.scss';\nimport vSelect from 'vue-select'; // Store Module\n\nimport moduleUserManagement from '@/store/user-management/moduleUserManagement.js'; // Cell Renderer\n\nimport CellRendererLink from \"./cell-renderer/CellRendererLink.vue\";\nimport CellRendererStatus from \"./cell-renderer/CellRendererStatus.vue\";\nimport CellRendererVerified from \"./cell-renderer/CellRendererVerified.vue\";\nimport CellRendererActions from \"./cell-renderer/CellRendererActions.vue\";\nexport default {\n  components: {\n    AgGridVue: AgGridVue,\n    vSelect: vSelect,\n    // Cell Renderer\n    CellRendererLink: CellRendererLink,\n    CellRendererStatus: CellRendererStatus,\n    CellRendererVerified: CellRendererVerified,\n    CellRendererActions: CellRendererActions\n  },\n  data: function data() {\n    return {\n      // Filter Options\n      roleFilter: {\n        label: '正常玩家',\n        value: '1'\n      },\n      roleOptions: [{\n        label: '所有',\n        value: ''\n      }, {\n        label: '正常玩家',\n        value: '1'\n      }, {\n        label: '机器人',\n        value: '2'\n      }],\n      statusFilter: {\n        label: '所有',\n        value: ''\n      },\n      statusOptions: [{\n        label: '所有',\n        value: ''\n      }, {\n        label: '否',\n        value: '0'\n      }, {\n        label: '是',\n        value: '1'\n      }],\n      vipFilter: {\n        label: '所有',\n        value: ''\n      },\n      vipOptions: [{\n        label: '所有',\n        value: ''\n      }, {\n        label: '否',\n        value: '0'\n      }, {\n        label: '是',\n        value: '1'\n      }],\n      anchorFilter: {\n        label: '所有',\n        value: ''\n      },\n      anchorOptions: [{\n        label: '所有',\n        value: ''\n      }, {\n        label: '否',\n        value: '0'\n      }, {\n        label: '是',\n        value: '1'\n      }],\n      searchQuery: '',\n      // AgGrid\n      gridApi: null,\n      gridOptions: {},\n      defaultColDef: {\n        sortable: true,\n        resizable: true,\n        suppressMenu: true\n      },\n      usersData: [],\n      columnDefs: [// {\n      //   headerName: 'ID',\n      //   field: 'id',\n      //   width: 125,\n      //   filter: true,\n      //   checkboxSelection: true,\n      //   headerCheckboxSelectionFilteredOnly: true,\n      //   headerCheckboxSelection: true\n      // },\n      {\n        headerName: '昵称',\n        field: 'name',\n        filter: true,\n        width: 180,\n        cellRendererFramework: 'CellRendererLink'\n      }, {\n        headerName: '账号',\n        field: 'mobile',\n        filter: true,\n        width: 150\n      }, {\n        headerName: '余额',\n        field: 'total_amount',\n        filter: true,\n        width: 180\n      }, {\n        headerName: '状态',\n        field: 'status',\n        filter: true,\n        width: 125\n      }, {\n        headerName: '允许取回',\n        field: 'allow',\n        filter: true,\n        width: 125,\n        cellRendererFramework: 'CellRendererStatus'\n      }, {\n        headerName: '概率组',\n        field: 'group',\n        filter: true,\n        width: 100,\n        cellRendererFramework: 'CellRendererStatus'\n      }, {\n        headerName: 'Vip',\n        field: 'group_vip',\n        filter: true,\n        width: 100,\n        cellRendererFramework: 'CellRendererStatus'\n      }, {\n        headerName: '主播',\n        field: 'anchor',\n        filter: true,\n        width: 100,\n        cellRendererFramework: 'CellRendererStatus'\n      }, {\n        headerName: '类型',\n        field: 'type',\n        filter: true,\n        width: 125 // cellRendererFramework: 'CellRendererVerified',\n        // cellClass: 'text-center'\n\n      }, {\n        headerName: '注册时间',\n        field: 'create_time',\n        filter: true,\n        width: 180\n      }, {\n        headerName: '操作',\n        // field: 'create_time',\n        // filter: true,\n        width: 120,\n        cellRendererFramework: 'CellRendererActions',\n        cellClass: 'text-center'\n      }],\n      // Cell Renderer Components\n      components: {\n        CellRendererLink: CellRendererLink,\n        CellRendererStatus: CellRendererStatus,\n        CellRendererVerified: CellRendererVerified,\n        CellRendererActions: CellRendererActions\n      },\n      group: '',\n      vip: '',\n      anchor: '',\n      total: 0,\n      totalPages: 0,\n      currentPage: 1,\n      pageSize: 10\n    };\n  },\n  watch: {\n    \"currentPage\": {\n      handler: function handler(val) {\n        this.getUsersData();\n      }\n    },\n    \"pageSize\": {\n      handler: function handler(val) {\n        this.getUsersData();\n      }\n    },\n    roleFilter: function roleFilter(obj) {// this.setColumnFilter('role', obj.value)\n    },\n    statusFilter: function statusFilter(obj) {\n      // this.setColumnFilter('status', obj.value)\n      console.log(obj);\n      this.group = obj.value;\n      this.currentPage = 1;\n      this.getUsersData();\n    },\n    vipFilter: function vipFilter(obj) {\n      this.vip = obj.value;\n      this.currentPage = 1;\n      this.getUsersData();\n    },\n    anchorFilter: function anchorFilter(obj) {\n      this.anchor = obj.value;\n      this.currentPage = 1;\n      this.getUsersData();\n    },\n    isVerifiedFilter: function isVerifiedFilter(obj) {\n      var val = obj.value === 'all' ? 'all' : obj.value === 'yes' ? 'true' : 'false';\n      this.setColumnFilter('is_verified', val);\n    },\n    departmentFilter: function departmentFilter(obj) {\n      this.setColumnFilter('department', obj.value);\n    }\n  },\n  computed: {\n    // usersData () {\n    //  // console.log(JSON.stringify(this.$store.state.userManagement.users) );\n    //   return this.$store.state.userManagement.users\n    // },\n    paginationPageSize: function paginationPageSize() {\n      if (this.gridApi) return this.gridApi.paginationGetPageSize();else return 10;\n    } // totalPages () {\n    //   if (this.gridApi) return this.gridApi.paginationGetTotalPages()\n    //   else return 0\n    // },\n    // currentPage: {\n    //   get () {\n    //     if (this.gridApi) return this.gridApi.paginationGetCurrentPage() + 1\n    //     else return 1\n    //   },\n    //   set (val) {\n    //     this.gridApi.paginationGoToPage(val - 1)\n    //   }\n    // }\n\n  },\n  methods: {\n    getUsersData: function getUsersData() {\n      var _this = this; // usersData\n\n\n      _this.$axios({\n        url: \"/admin/user/playerList\",\n        method: \"post\",\n        data: {\n          page: _this.currentPage,\n          pageSize: _this.pageSize,\n          group: _this.group,\n          vip: _this.vip,\n          anchor: _this.anchor,\n          searchKey: _this.searchQuery\n        }\n      }).then(function (res) {\n        // console.log(res);\n        if (res.data.status == 1) {\n          res.data.data.list.forEach(function (element) {\n            // console.log(element);\n            element['status'] = element['status'] == 1 ? '正常' : '冻结';\n            element['type'] = element['type'] == 1 ? '正常玩家' : '非正常玩家'; // element['allow']  = element['allow']  == 1 ? '是' : '否';\n          });\n          _this.usersData = res.data.data.list;\n          _this.total = res.data.data.total;\n          _this.totalPages = _this.pageTotal(_this.total, _this.pageSize);\n        } else {\n          _this.usersData = [];\n        }\n      });\n    },\n    //\"总条数\"：rowCount，\"每页总条数\"：pageSize\n    pageTotal: function pageTotal(rowCount, pageSize) {\n      if (rowCount == null || rowCount == \"\") {\n        return 0;\n      } else {\n        if (pageSize != 0 && rowCount % pageSize == 0) {\n          return parseInt(rowCount / pageSize);\n        }\n\n        if (pageSize != 0 && rowCount % pageSize != 0) {\n          return parseInt(rowCount / pageSize) + 1;\n        }\n      }\n    },\n    search: function search() {\n      // this.status = this.roleFilter.value;\n      this.currentPage = 1;\n      this.getUsersData();\n    },\n    clear: function clear() {\n      this.searchQuery = '';\n      this.statusFilter = {\n        label: '所有',\n        value: ''\n      }, this.vipFilter = {\n        label: '所有',\n        value: ''\n      }, this.currentPage = 1;\n      this.getUsersData();\n    },\n    setColumnFilter: function setColumnFilter(column, val) {\n      var filter = this.gridApi.getFilterInstance(column);\n      var modelObj = null;\n\n      if (val !== 'all') {\n        modelObj = {\n          type: 'equals',\n          filter: val\n        };\n      }\n\n      filter.setModel(modelObj);\n      this.gridApi.onFilterChanged();\n    },\n    resetColFilters: function resetColFilters() {\n      console.log(this.statusFilter); // Reset Grid Filter\n\n      this.gridApi.setFilterModel(null);\n      this.gridApi.onFilterChanged(); // Reset Filter Options\n      // this.roleFilter = this.statusFilter = this.isVerifiedFilter = this.departmentFilter = { label: '所有', value: '' }\n\n      this.roleFilter = this.isVerifiedFilter = this.departmentFilter = this.statusFilter;\n      this.$refs.filterCard.removeRefreshAnimation();\n      this.getUsersData();\n    },\n    updateSearchQuery: function updateSearchQuery(val) {\n      this.gridApi.setQuickFilter(val);\n    }\n  },\n  mounted: function mounted() {\n    this.getUsersData();\n    this.gridApi = this.gridOptions.api;\n    /* =================================================================\r\n      NOTE:\r\n      Header is not aligned properly in RTL version of agGrid table.\r\n      However, we given fix to this issue. If you want more robust solution please contact them at gitHub\r\n    ================================================================= */\n\n    if (this.$vs.rtl) {\n      var header = this.$refs.agGridTable.$el.querySelector('.ag-header-container');\n      header.style.left = \"-\".concat(String(Number(header.style.transform.slice(11, -3)) + 9), \"px\");\n    }\n  },\n  created: function created() {\n    if (!moduleUserManagement.isRegistered) {\n      this.$store.registerModule('userManagement', moduleUserManagement);\n      moduleUserManagement.isRegistered = true;\n    }\n\n    this.$store.dispatch('userManagement/fetchUsers').catch(function (err) {\n      console.error(err);\n    });\n  }\n};",{"version":3,"mappings":"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","names":["components","AgGridVue","vSelect","CellRendererLink","CellRendererStatus","CellRendererVerified","CellRendererActions","data","roleFilter","label","value","roleOptions","statusFilter","statusOptions","vipFilter","vipOptions","anchorFilter","anchorOptions","searchQuery","gridApi","gridOptions","defaultColDef","sortable","resizable","suppressMenu","usersData","columnDefs","headerName","field","filter","width","cellRendererFramework","cellClass","group","vip","anchor","total","totalPages","currentPage","pageSize","watch","handler","val","obj","console","isVerifiedFilter","departmentFilter","computed","paginationPageSize","methods","getUsersData","_this","url","method","page","searchKey","then","res","element","pageTotal","rowCount","search","clear","setColumnFilter","column","modelObj","type","resetColFilters","updateSearchQuery","mounted","header","created","moduleUserManagement"],"sourceRoot":"src/views/apps/user/user-list","sources":["UserList.vue"],"sourcesContent":["<!-- =========================================================================================\r\n  File Name: UserList.vue\r\n  Description: User List page\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n========================================================================================== -->\r\n\r\n<template>\r\n\r\n  <div id=\"page-user-list\">\r\n    <vx-card ref=\"filterCard\" title=\"条件搜索\" class=\"user-list-filters mb-8\" actionButtons @refresh=\"resetColFilters\" @remove=\"resetColFilters\">\r\n      <div class=\"vx-row\">\r\n        <!-- <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <label class=\"text-sm opacity-75\">用户类型</label>\r\n          <v-select :options=\"roleOptions\" :clearable=\"false\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" v-model=\"roleFilter\" class=\"mb-4 md:mb-0\" />\r\n        </div> -->\r\n        <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <label class=\"text-sm opacity-75\">额外概率</label>\r\n          <v-select :options=\"statusOptions\" :clearable=\"false\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" v-model=\"statusFilter\" class=\"mb-4 md:mb-0\" />\r\n        </div>\r\n\r\n        <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <label class=\"text-sm opacity-75\">Vip</label>\r\n          <v-select :options=\"vipOptions\" :clearable=\"false\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" v-model=\"vipFilter\" class=\"mb-4 md:mb-0\" />\r\n        </div>\r\n\r\n        <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <label class=\"text-sm opacity-75\">主播</label>\r\n          <v-select :options=\"anchorOptions\" :clearable=\"false\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" v-model=\"anchorFilter\" class=\"mb-4 md:mb-0\" />\r\n        </div>\r\n\r\n        <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <label class=\"text-sm opacity-75\">关键字搜索</label>\r\n          <vs-input\r\n            class=\"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4\"\r\n            v-model=\"searchQuery\"\r\n            placeholder=\"关键字\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"vx-col md:w-1/4 sm:w-1/2 w-full\">\r\n          <vs-button class=\"search\" @click=\"search\">搜索</vs-button>\r\n          <vs-button class=\"search\" @click=\"clear\">清空</vs-button>\r\n        </div>\r\n      </div>\r\n    </vx-card>\r\n\r\n    <div class=\"vx-card p-6\">\r\n\r\n      <div class=\"flex flex-wrap items-center\">\r\n\r\n        <!-- ITEMS PER PAGE -->\r\n        <div class=\"flex-grow\">\r\n          <vs-dropdown vs-trigger-click class=\"cursor-pointer\">\r\n            <div class=\"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\">\r\n              <span class=\"mr-2\">{{ currentPage * paginationPageSize - (paginationPageSize - 1) }} - {{ currentPage * paginationPageSize }} of {{ total }}</span>\r\n              <feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" />\r\n            </div>\r\n            <!-- <vs-button class=\"btn-drop\" type=\"line\" color=\"primary\" icon-pack=\"feather\" icon=\"icon-chevron-down\"></vs-button> -->\r\n            <vs-dropdown-menu>\r\n\r\n              <vs-dropdown-item @click=\"pageSize = 10\">\r\n                <span>10</span>\r\n              </vs-dropdown-item>\r\n              <vs-dropdown-item @click=\"pageSize = 20\">\r\n                <span>20</span>\r\n              </vs-dropdown-item>\r\n              <vs-dropdown-item @click=\"pageSize = 30\">\r\n                <span>30</span>\r\n              </vs-dropdown-item>\r\n              <vs-dropdown-item @click=\"pageSize = 50\">\r\n                <span>50</span>\r\n              </vs-dropdown-item>\r\n            </vs-dropdown-menu>\r\n          </vs-dropdown>\r\n        </div>\r\n\r\n        <!-- TABLE ACTION COL-2: SEARCH & EXPORT AS CSV -->\r\n          <!-- <vs-input class=\"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4\" v-model=\"searchQuery\" @input=\"updateSearchQuery\" placeholder=\"搜索\" /> -->\r\n          <!-- <vs-button class=\"mb-4 md:mb-0\" @click=\"gridApi.exportDataAsCsv()\">Export as CSV</vs-button> -->\r\n\r\n          <!-- ACTION - DROPDOWN -->\r\n          <vs-dropdown vs-trigger-click class=\"cursor-pointer\">\r\n\r\n            <!-- <div class=\"p-3 shadow-drop rounded-lg d-theme-dark-light-bg cursor-pointer flex items-end justify-center text-lg font-medium w-32\">\r\n              <span class=\"mr-2 leading-none\">批量操作</span>\r\n              <feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" />\r\n            </div> -->\r\n\r\n            <!-- <vs-dropdown-menu>\r\n              <vs-dropdown-item>\r\n                <span class=\"flex items-center w-32\" >\r\n                  <feather-icon icon=\"ArchiveIcon\" svgClasses=\"h-4 w-4\" class=\"mr-2\" />\r\n                  <span >修改金额</span>\r\n                </span>\r\n              </vs-dropdown-item> -->\r\n\r\n              <!-- <vs-dropdown-item>\r\n                <span class=\"flex items-center w-32\">\r\n                  <feather-icon icon=\"FileIcon\" svgClasses=\"h-4 w-4\" class=\"mr-2\" />\r\n                  <span>冻结/解冻</span>\r\n                </span>\r\n              </vs-dropdown-item> -->\r\n\r\n              <!-- <vs-dropdown-item>\r\n                <span class=\"flex items-center w-32\">\r\n                  <feather-icon icon=\"SaveIcon\" svgClasses=\"h-4 w-4\" class=\"mr-2\" />\r\n                  <span>取回</span>\r\n                </span>\r\n              </vs-dropdown-item> -->\r\n\r\n            <!-- </vs-dropdown-menu> -->\r\n          </vs-dropdown>\r\n      </div>\r\n\r\n\r\n      <!-- AgGrid Table -->\r\n      <ag-grid-vue\r\n        ref=\"agGridTable\"\r\n        :components=\"components\"\r\n        :gridOptions=\"gridOptions\"\r\n        class=\"ag-theme-material w-100 my-4 ag-grid-table\"\r\n        :columnDefs=\"columnDefs\"\r\n        :defaultColDef=\"defaultColDef\"\r\n        :rowData=\"usersData\"\r\n        rowSelection=\"multiple\"\r\n        colResizeDefault=\"shift\"\r\n\r\n        :pagination=\"true\"\r\n        :paginationPageSize=\"paginationPageSize\"\r\n        :suppressPaginationPanel=\"true\"\r\n        :enableRtl=\"$vs.rtl\">\r\n      </ag-grid-vue>\r\n\r\n      <vs-pagination\r\n        :total=\"totalPages\"\r\n        :max=\"7\"\r\n        v-model=\"currentPage\" />\r\n\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { AgGridVue } from 'ag-grid-vue'\r\nimport '@/assets/scss/vuexy/extraComponents/agGridStyleOverride.scss'\r\nimport vSelect from 'vue-select'\r\n\r\n// Store Module\r\nimport moduleUserManagement from '@/store/user-management/moduleUserManagement.js'\r\n\r\n// Cell Renderer\r\nimport CellRendererLink from './cell-renderer/CellRendererLink.vue'\r\nimport CellRendererStatus from './cell-renderer/CellRendererStatus.vue'\r\nimport CellRendererVerified from './cell-renderer/CellRendererVerified.vue'\r\nimport CellRendererActions from './cell-renderer/CellRendererActions.vue'\r\n\r\n\r\nexport default {\r\n  components: {\r\n    AgGridVue,\r\n    vSelect,\r\n\r\n    // Cell Renderer\r\n    CellRendererLink,\r\n    CellRendererStatus,\r\n    CellRendererVerified,\r\n    CellRendererActions\r\n  },\r\n  data () {\r\n    return {\r\n\r\n      // Filter Options\r\n      roleFilter: { label: '正常玩家', value: '1' },\r\n      roleOptions: [\r\n        { label: '所有', value: '' },\r\n        { label: '正常玩家', value: '1' },\r\n        { label: '机器人', value: '2' },\r\n      ],\r\n\r\n      statusFilter: { label: '所有', value: '' },\r\n      statusOptions: [\r\n        { label: '所有', value: '' },\r\n        { label: '否', value: '0' },\r\n        { label: '是', value: '1' },\r\n      ],\r\n      vipFilter:{ label: '所有', value: ''},\r\n      vipOptions: [\r\n        { label: '所有', value: '' },\r\n        { label: '否', value: '0' },\r\n        { label: '是', value: '1' },\r\n      ],\r\n\r\n      anchorFilter : { label : '所有' , value : '' } ,\r\n      anchorOptions : [\r\n        { label : '所有' , value : '' } ,\r\n        { label : '否' , value : '0' } ,\r\n        { label : '是' , value : '1' } ,\r\n      ] ,\r\n\r\n      searchQuery: '',\r\n\r\n      // AgGrid\r\n      gridApi: null,\r\n      gridOptions: {},\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        suppressMenu: true\r\n      },\r\n      usersData:[],\r\n      columnDefs: [\r\n        // {\r\n        //   headerName: 'ID',\r\n        //   field: 'id',\r\n        //   width: 125,\r\n        //   filter: true,\r\n        //   checkboxSelection: true,\r\n        //   headerCheckboxSelectionFilteredOnly: true,\r\n        //   headerCheckboxSelection: true\r\n        // },\r\n        {\r\n          headerName: '昵称',\r\n          field: 'name',\r\n          filter: true,\r\n          width: 180,\r\n          cellRendererFramework: 'CellRendererLink'\r\n        },\r\n        {\r\n          headerName: '账号',\r\n          field: 'mobile',\r\n          filter: true,\r\n          width: 150\r\n        },\r\n        {\r\n          headerName: '余额',\r\n          field: 'total_amount',\r\n          filter: true,\r\n          width: 180\r\n        },\r\n        {\r\n          headerName: '状态',\r\n          field: 'status',\r\n          filter: true,\r\n          width: 125\r\n        },\r\n        {\r\n          headerName: '允许取回',\r\n          field: 'allow',\r\n          filter: true,\r\n          width: 125,\r\n          cellRendererFramework: 'CellRendererStatus'\r\n        },\r\n        {\r\n          headerName: '概率组',\r\n          field: 'group',\r\n          filter: true,\r\n          width: 100,\r\n          cellRendererFramework: 'CellRendererStatus'\r\n        },\r\n        {\r\n          headerName: 'Vip',\r\n          field: 'group_vip',\r\n          filter: true,\r\n          width: 100,\r\n          cellRendererFramework: 'CellRendererStatus'\r\n        },\r\n        {\r\n          headerName: '主播',\r\n          field: 'anchor',\r\n          filter: true,\r\n          width: 100,\r\n          cellRendererFramework: 'CellRendererStatus'\r\n        },\r\n        {\r\n          headerName: '类型',\r\n          field: 'type',\r\n          filter: true,\r\n          width: 125,\r\n          // cellRendererFramework: 'CellRendererVerified',\r\n          // cellClass: 'text-center'\r\n        },\r\n        {\r\n          headerName: '注册时间',\r\n          field: 'create_time',\r\n          filter: true,\r\n          width: 180\r\n        },\r\n        {\r\n          headerName: '操作',\r\n          // field: 'create_time',\r\n          // filter: true,\r\n          width: 120,\r\n          cellRendererFramework: 'CellRendererActions',\r\n          cellClass: 'text-center'\r\n        },\r\n      ],\r\n\r\n      // Cell Renderer Components\r\n      components: {\r\n        CellRendererLink,\r\n        CellRendererStatus,\r\n        CellRendererVerified,\r\n        CellRendererActions\r\n      },\r\n      group:'',\r\n      vip:'',\r\n      anchor:'',\r\n      total:0,\r\n      totalPages:0,\r\n      currentPage:1,\r\n      pageSize:10\r\n    }\r\n  },\r\n  watch: {\r\n    \"currentPage\":{\r\n      handler(val){\r\n        this.getUsersData();\r\n      }\r\n    },\r\n    \"pageSize\":{\r\n      handler(val){\r\n        this.getUsersData();\r\n      }\r\n    },\r\n    roleFilter (obj) {\r\n      // this.setColumnFilter('role', obj.value)\r\n    },\r\n    statusFilter (obj) {\r\n      // this.setColumnFilter('status', obj.value)\r\n      console.log(obj);\r\n      this.group = obj.value;\r\n      this.currentPage = 1;\r\n      this.getUsersData();\r\n    },\r\n    vipFilter(obj){\r\n      this.vip = obj.value;\r\n      this.currentPage = 1;\r\n      this.getUsersData();\r\n    },\r\n    anchorFilter(obj){\r\n      this.anchor = obj.value;\r\n      this.currentPage = 1;\r\n      this.getUsersData();\r\n    },\r\n    isVerifiedFilter (obj) {\r\n      const val = obj.value === 'all' ? 'all' : obj.value === 'yes' ? 'true' : 'false'\r\n      this.setColumnFilter('is_verified', val)\r\n    },\r\n    departmentFilter (obj) {\r\n      this.setColumnFilter('department', obj.value)\r\n    }\r\n  },\r\n  computed: {\r\n    // usersData () {\r\n    //  // console.log(JSON.stringify(this.$store.state.userManagement.users) );\r\n    //   return this.$store.state.userManagement.users\r\n    // },\r\n    paginationPageSize () {\r\n      if (this.gridApi) return this.gridApi.paginationGetPageSize()\r\n      else return 10\r\n    },\r\n    // totalPages () {\r\n    //   if (this.gridApi) return this.gridApi.paginationGetTotalPages()\r\n    //   else return 0\r\n    // },\r\n    // currentPage: {\r\n    //   get () {\r\n    //     if (this.gridApi) return this.gridApi.paginationGetCurrentPage() + 1\r\n    //     else return 1\r\n    //   },\r\n    //   set (val) {\r\n    //     this.gridApi.paginationGoToPage(val - 1)\r\n    //   }\r\n    // }\r\n  },\r\n  methods: {\r\n    getUsersData(){\r\n      let _this = this;\r\n      // usersData\r\n      _this.$axios({\r\n        url: \"/admin/user/playerList\",\r\n        method: \"post\",\r\n        data: {\r\n          page:_this.currentPage,\r\n          pageSize:_this.pageSize,\r\n          group:_this.group,\r\n          vip:_this.vip,\r\n          anchor:_this.anchor,\r\n          searchKey:_this.searchQuery\r\n        }\r\n      }).then(res => {\r\n        // console.log(res);\r\n        if(res.data.status == 1){\r\n            res.data.data.list.forEach(element => {\r\n            // console.log(element);\r\n            element['status'] = element['status'] == 1 ? '正常' : '冻结';\r\n            element['type']   = element['type']   == 1 ? '正常玩家' : '非正常玩家';\r\n            // element['allow']  = element['allow']  == 1 ? '是' : '否';\r\n          });\r\n          _this.usersData  = res.data.data.list;\r\n          _this.total      = res.data.data.total;\r\n          _this.totalPages = _this.pageTotal(_this.total,_this.pageSize);\r\n        }else{\r\n          _this.usersData = [];\r\n        }\r\n      })\r\n    },\r\n      //\"总条数\"：rowCount，\"每页总条数\"：pageSize\r\n    pageTotal(rowCount, pageSize) {\r\n      if (rowCount == null || rowCount == \"\") {\r\n        return 0;\r\n      } else {\r\n        if (pageSize != 0 && rowCount % pageSize == 0) {\r\n          return parseInt(rowCount / pageSize)\r\n        }\r\n        if (pageSize != 0 && rowCount % pageSize != 0) {\r\n          return parseInt(rowCount / pageSize) + 1;\r\n        }\r\n      }\r\n    },\r\n    search(){\r\n      // this.status = this.roleFilter.value;\r\n      this.currentPage = 1;\r\n      this.getUsersData()\r\n    },\r\n    clear(){\r\n      this.searchQuery = '';\r\n      this.statusFilter = { label: '所有', value: '' },\r\n      this.vipFilter = { label: '所有', value: '' },\r\n      this.currentPage = 1;\r\n      this.getUsersData()\r\n    },\r\n    setColumnFilter (column, val) {\r\n      const filter = this.gridApi.getFilterInstance(column)\r\n      let modelObj = null\r\n\r\n      if (val !== 'all') {\r\n        modelObj = { type: 'equals', filter: val }\r\n      }\r\n\r\n      filter.setModel(modelObj)\r\n      this.gridApi.onFilterChanged()\r\n    },\r\n    resetColFilters () {\r\n      console.log(this.statusFilter);\r\n      // Reset Grid Filter\r\n      this.gridApi.setFilterModel(null)\r\n      this.gridApi.onFilterChanged()\r\n\r\n      // Reset Filter Options\r\n      // this.roleFilter = this.statusFilter = this.isVerifiedFilter = this.departmentFilter = { label: '所有', value: '' }\r\n      this.roleFilter = this.isVerifiedFilter = this.departmentFilter = this.statusFilter\r\n\r\n      this.$refs.filterCard.removeRefreshAnimation()\r\n      this.getUsersData();\r\n    },\r\n    updateSearchQuery (val) {\r\n      this.gridApi.setQuickFilter(val)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getUsersData();\r\n    this.gridApi = this.gridOptions.api\r\n    /* =================================================================\r\n      NOTE:\r\n      Header is not aligned properly in RTL version of agGrid table.\r\n      However, we given fix to this issue. If you want more robust solution please contact them at gitHub\r\n    ================================================================= */\r\n    if (this.$vs.rtl) {\r\n      const header = this.$refs.agGridTable.$el.querySelector('.ag-header-container')\r\n      header.style.left = `-${  String(Number(header.style.transform.slice(11, -3)) + 9)  }px`\r\n    }\r\n  },\r\n  created () {\r\n    if (!moduleUserManagement.isRegistered) {\r\n      this.$store.registerModule('userManagement', moduleUserManagement)\r\n      moduleUserManagement.isRegistered = true\r\n    }\r\n    this.$store.dispatch('userManagement/fetchUsers').catch(err => { console.error(err) })\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#page-user-list {\r\n  .user-list-filters {\r\n    .vs__actions {\r\n      position: absolute;\r\n      right: 0;\r\n      top: 50%;\r\n      transform: translateY(-58%);\r\n    }\r\n  }\r\n}\r\n.search{\r\n  height: 36px;\r\n  width: 60px;\r\n  margin-top: 20px;\r\n  padding: 0!important;\r\n}\r\n.search:nth-child(2){\r\n  margin-left: 5px;\r\n}\r\n</style>\r\n"]}]}