{"remainingRequest":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\pages\\activity\\Active.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\pages\\activity\\Active.vue","mtime":1638592256000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DataEditer from \"./DataEditer.vue\";\nimport DelFrame from \"@/components/DelFrame.vue\";\nexport default {\n  components: {\n    DataEditer: DataEditer,\n    DelFrame: DelFrame\n  },\n  data: function data() {\n    return {\n      addNewDataSidebar: false,\n      sidebarData: {},\n      users: [],\n      total: 0,\n      totalPages: 0,\n      currentPage: 1,\n      pageSize: 10,\n      //删除------ + isDel方法\n      delValide: false,\n      delStatus: 0,\n      del_id: '' //----------\n\n    };\n  },\n  computed: {},\n  watch: {\n    \"currentPage\": {\n      handler: function handler(val) {\n        this.getActiveList();\n      }\n    },\n    \"pageSize\": {\n      handler: function handler(val) {\n        this.getActiveList();\n      }\n    }\n  },\n  methods: {\n    chipColor: function chipColor(value) {\n      return value == '1' || value == '是' ? 'success' : 'danger';\n    },\n    getActiveList: function getActiveList() {\n      var _this = this;\n\n      _this.$axios({\n        url: \"/admin/Activity/rechargeActivity\",\n        method: \"post\",\n        data: {\n          page: _this.currentPage,\n          pageSize: _this.pageSize\n        }\n      }).then(function (res) {\n        if (res.data.status == 1) {\n          _this.users = res.data.data.list;\n          _this.total = res.data.data.total;\n          _this.totalPages = _this.pageTotal(_this.total, _this.pageSize);\n        } else {\n          _this.users = [];\n        }\n      });\n    },\n    //\"总条数\"：rowCount，\"每页总条数\"：pageSize\n    pageTotal: function pageTotal(rowCount, pageSize) {\n      if (rowCount == null || rowCount == \"\") {\n        return 0;\n      } else {\n        if (pageSize != 0 && rowCount % pageSize == 0) {\n          return parseInt(rowCount / pageSize);\n        }\n\n        if (pageSize != 0 && rowCount % pageSize != 0) {\n          return parseInt(rowCount / pageSize) + 1;\n        }\n      }\n    },\n    toEdit: function toEdit(row) {\n      console.log(row);\n      this.sidebarData = row;\n      this.toggleDataSidebar(true);\n    },\n    //添加分组\n    addNewData: function addNewData() {\n      this.sidebarData = {};\n      this.toggleDataSidebar(true);\n    },\n    toggleDataSidebar: function toggleDataSidebar() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.addNewDataSidebar = val;\n    },\n    //删除\n    Delete: function Delete(id) {\n      var _this = this;\n\n      _this.del_id = id;\n\n      _this.closeDel();\n    },\n    closeDel: function closeDel() {\n      var _this = this;\n\n      _this.delValide = true;\n    },\n    isDel: function isDel() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (val) {\n        var _this = this;\n\n        _this.$axios({\n          url: \"/admin/Activity/delRechargeActivity\",\n          method: \"post\",\n          data: {\n            id: _this.del_id\n          }\n        }).then(function (res) {\n          if (res.data.status == 1) {\n            _this.getActiveList();\n\n            _this.delStatus = 1;\n          } else {\n            _this.delStatus = 2;\n          }\n        });\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.getActiveList();\n  }\n};",{"version":3,"sources":["Active.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <del-frame :delValide=\"delValide\" @closeDel=\"isDel\" :delStatus='delStatus'></del-frame>\r\n    <data-editer\r\n      :isSidebarActive=\"addNewDataSidebar\"\r\n      @closeSidebar=\"toggleDataSidebar\"\r\n      @get='getActiveList'\r\n      :data=\"sidebarData\"\r\n    />\r\n\r\n\r\n\r\n\r\n\r\n    <vx-card code-toggler>\r\n\r\n      <!-- ITEMS PER PAGE -->\r\n      <vs-dropdown vs-trigger-click class=\"cursor-pointer mb-4 mr-4 items-per-page-handler\">\r\n        <div class=\"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\">\r\n            <span class=\"mr-2\">{{ currentPage * pageSize - (pageSize - 1) }} - {{  currentPage * pageSize }} of {{ total }}</span>\r\n            <feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" />\r\n        </div>\r\n        <vs-dropdown-menu>\r\n            <vs-dropdown-item @click=\"pageSize=10\">\r\n            <span>10</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=20\">\r\n            <span>20</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=30\">\r\n            <span>30</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=50\">\r\n            <span>50</span>\r\n            </vs-dropdown-item>\r\n        </vs-dropdown-menu>\r\n      </vs-dropdown>\r\n\r\n      <div class=\"vx-card p-6\">\r\n        <div class=\"flex flex-wrap items-center\">\r\n          <!-- <vs-button class=\"mb-4 md:mb-0\" @click=\"gridApi.exportDataAsCsv()\">Export as CSV</vs-button> -->\r\n          <vs-button @click=\"addNewData\">添加</vs-button>\r\n        </div>\r\n      </div>\r\n\r\n      <vs-table stripe :data=\"users\">\r\n        <template slot=\"thead\">\r\n          <vs-th>id</vs-th>\r\n          <vs-th>活动类型</vs-th>\r\n          <vs-th style=\"width:60px;\">描述</vs-th>\r\n          <vs-th>首页推荐</vs-th>\r\n          <vs-th>开始时间</vs-th>\r\n          <vs-th>结束时间</vs-th>\r\n          <vs-th>添加时间</vs-th>\r\n          <vs-th>操作</vs-th>\r\n        </template>\r\n\r\n        <template slot-scope=\"{ data }\">\r\n          <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n            <vs-td>\r\n              {{ tr.id }}\r\n            </vs-td>\r\n            <!-- <vs-td>\r\n              <img v-if=\"tr.img\" class=\"robot-img\" :src=\"tr.img\" alt=\"\">\r\n              <div v-else class=\"robot-img\"></div>\r\n            </vs-td> -->\r\n            <vs-td>\r\n              <a href=\"javascript:void(0);\" @click=\"toEdit(tr)\">{{ tr.name }}</a>\r\n            </vs-td>\r\n            <vs-td>\r\n              {{ tr.desc }}\r\n            </vs-td>\r\n            <vs-td>\r\n              <vs-chip class=\"ag-grid-cell-chip\" :color=\"chipColor(tr.recommend)\">\r\n                <span>{{ (tr.recommend == 1) ? '是' : '否' }}</span>\r\n              </vs-chip>\r\n            </vs-td>\r\n            <vs-td>\r\n              {{ tr.start_time }}\r\n            </vs-td>\r\n            <vs-td>\r\n              {{ tr.end_time }}\r\n            </vs-td>\r\n            <vs-td>\r\n              {{ tr.create_time }}\r\n            </vs-td>\r\n            <vs-td>\r\n              <!-- <vs-button color=\"danger\" @click=\"rem(tr.id)\">删除</vs-button> -->\r\n              <div :style=\"{'direction': $vs.rtl ? 'rtl' : 'ltr'}\">\r\n                <feather-icon icon=\"Edit3Icon\" svgClasses=\"h-5 w-5 mr-4 hover:text-primary cursor-pointer\" @click=\"toEdit(tr)\" />\r\n                <feather-icon icon=\"Trash2Icon\" svgClasses=\"h-5 w-5 hover:text-danger cursor-pointer\" @click=\"Delete(tr.id)\" />\r\n              </div>\r\n            </vs-td>\r\n          </vs-tr>\r\n        </template>\r\n      </vs-table>\r\n    </vx-card>\r\n    <vs-pagination :total=\"totalPages\" :max=\"7\" v-model=\"currentPage\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DataEditer from \"./DataEditer.vue\";\r\nimport DelFrame from \"@/components/DelFrame.vue\"\r\nexport default {\r\n  components: {\r\n    DataEditer,\r\n    DelFrame\r\n  },\r\n  data() {\r\n    return {\r\n      addNewDataSidebar: false,\r\n      sidebarData: {},\r\n\r\n      users: [],\r\n      total:0,\r\n      totalPages:0,\r\n      currentPage:1,\r\n      pageSize:10,\r\n      //删除------ + isDel方法\r\n      delValide:false,\r\n      delStatus:0,\r\n      del_id:''\r\n      //----------\r\n    };\r\n  },\r\n  computed: {},\r\n  watch:{\r\n    \"currentPage\":{\r\n      handler(val){\r\n        this.getActiveList();\r\n      }\r\n    },\r\n    \"pageSize\":{\r\n      handler(val){\r\n        this.getActiveList();\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    chipColor (value) {\r\n      return ( ( value == '1' ) || ( value == '是' ) ) ? 'success' : 'danger';\r\n    },\r\n    getActiveList(){\r\n      let _this = this;\r\n      _this.$axios({\r\n          url: \"/admin/Activity/rechargeActivity\",\r\n          method: \"post\",\r\n          data:{\r\n            page:_this.currentPage,\r\n            pageSize:_this.pageSize\r\n          },\r\n        }).then((res) => {\r\n          if(res.data.status == 1){\r\n              _this.users = res.data.data.list;\r\n              _this.total = res.data.data.total;\r\n              _this.totalPages = _this.pageTotal(_this.total,_this.pageSize);\r\n          }else{\r\n             _this.users = [];\r\n          }\r\n        });\r\n    },\r\n    //\"总条数\"：rowCount，\"每页总条数\"：pageSize\r\n    pageTotal(rowCount, pageSize) {\r\n      if (rowCount == null || rowCount == \"\") {\r\n        return 0;\r\n      } else {\r\n        if (pageSize != 0 && rowCount % pageSize == 0) {\r\n          return parseInt(rowCount / pageSize)\r\n        }\r\n        if (pageSize != 0 && rowCount % pageSize != 0) {\r\n          return parseInt(rowCount / pageSize) + 1;\r\n        }\r\n      }\r\n    },\r\n    toEdit(row){\r\n      console.log(row);\r\n      this.sidebarData = row;\r\n      this.toggleDataSidebar(true);\r\n    },\r\n    //添加分组\r\n    addNewData() {\r\n      this.sidebarData = {};\r\n      this.toggleDataSidebar(true);\r\n    },\r\n    toggleDataSidebar(val = false) {\r\n      this.addNewDataSidebar = val;\r\n    },\r\n    //删除\r\n    Delete(id) {\r\n      let _this = this;\r\n      _this.del_id = id;\r\n      _this.closeDel();\r\n    },\r\n    closeDel(){\r\n      let _this = this;\r\n      _this.delValide = true;\r\n    },\r\n    isDel(val = false){\r\n      if(val){\r\n        let _this = this;\r\n        _this.$axios({\r\n          url: \"/admin/Activity/delRechargeActivity\",\r\n          method: \"post\",\r\n          data:{\r\n            id:_this.del_id\r\n          },\r\n        }).then(res => {\r\n          if(res.data.status == 1){\r\n            _this.getActiveList();\r\n            _this.delStatus = 1;\r\n          }else{\r\n            _this.delStatus = 2;\r\n          }\r\n        })\r\n      }\r\n    },\r\n  },\r\n  mounted(){\r\n    this.getActiveList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scpoped>\r\n.robot-img{\r\n  height: 50px;\r\n  width: 50px;\r\n  object-fit: cover;\r\n}\r\n.vx-card .vx-card__header{\r\n  display: none;\r\n}\r\n/deep/ .vs-row{\r\n  margin-top: 10px;\r\n}\r\n\r\n.ag-grid-cell-chip {\r\n  &.vs-chip-success {\r\n    background: rgba(var(--vs-success),.15);\r\n    color: rgba(var(--vs-success),1) !important;\r\n    font-weight: 500;\r\n  }\r\n  &.vs-chip-warning {\r\n    background: rgba(var(--vs-warning),.15);\r\n    color: rgba(var(--vs-warning),1) !important;\r\n    font-weight: 500;\r\n  }\r\n  &.vs-chip-danger {\r\n    background: rgba(var(--vs-danger),.15);\r\n    color: rgba(var(--vs-danger),1) !important;\r\n    font-weight: 500;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/pages/activity"}]}