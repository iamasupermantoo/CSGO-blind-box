{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\store\\chat\\moduleChatActions.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\store\\chat\\moduleChatActions.js","mtime":1620826038000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":1663908471338}],"contextDependencies":[],"result":["/*=========================================================================================\r\n  File Name: moduleChatActions.js\r\n  Description: Chat Module Actions\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n==========================================================================================*/\nimport axios from '@/axios.js';\nexport default {\n  setChatSearchQuery: function setChatSearchQuery(_ref, query) {\n    var commit = _ref.commit;\n    commit('SET_CHAT_SEARCH_QUERY', query);\n  },\n  updateAboutChat: function updateAboutChat(_ref2, value) {\n    var commit = _ref2.commit,\n        rootState = _ref2.rootState;\n    commit('UPDATE_ABOUT_CHAT', {\n      rootState: rootState,\n      value: value\n    });\n  },\n  updateStatusChat: function updateStatusChat(_ref3, value) {\n    var commit = _ref3.commit,\n        rootState = _ref3.rootState;\n    commit('UPDATE_STATUS_CHAT', {\n      rootState: rootState,\n      value: value\n    });\n  },\n  // API CALLS\n  sendChatMessage: function sendChatMessage(_ref4, payload) {\n    var getters = _ref4.getters,\n        commit = _ref4.commit,\n        dispatch = _ref4.dispatch;\n    return new Promise(function (resolve, reject) {\n      axios.post('/api/apps/chat/msg', {\n        payload: payload\n      }).then(function (response) {\n        payload.chatData = getters.chatDataOfUser(payload.id);\n\n        if (!payload.chatData) {\n          dispatch('fetchChatContacts');\n        }\n\n        commit('SEND_CHAT_MESSAGE', payload);\n        resolve(response);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  // Get contacts from server. Also change in store\n  fetchContacts: function fetchContacts(_ref5) {\n    var commit = _ref5.commit;\n    return new Promise(function (resolve, reject) {\n      axios.get('/api/apps/chat/contacts', {\n        params: {\n          q: ''\n        }\n      }).then(function (response) {\n        commit('UPDATE_CONTACTS', response.data);\n        resolve(response);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  // Get chat-contacts from server. Also change in store\n  fetchChatContacts: function fetchChatContacts(_ref6) {\n    var commit = _ref6.commit;\n    return new Promise(function (resolve, reject) {\n      axios.get('/api/apps/chat/chat-contacts', {\n        params: {\n          q: ''\n        }\n      }).then(function (response) {\n        commit('UPDATE_CHAT_CONTACTS', response.data);\n        resolve(response);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  // Get chats from server. Also change in store\n  fetchChats: function fetchChats(_ref7) {\n    var commit = _ref7.commit;\n    return new Promise(function (resolve, reject) {\n      axios.get('/api/apps/chat/chats').then(function (response) {\n        commit('UPDATE_CHATS', response.data);\n        resolve(response);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  markSeenAllMessages: function markSeenAllMessages(_ref8, id) {\n    var getters = _ref8.getters,\n        commit = _ref8.commit;\n    return new Promise(function (resolve, reject) {\n      axios.post('/api/apps/chat/mark-all-seen', {\n        id: id\n      }).then(function (response) {\n        commit('MARK_SEEN_ALL_MESSAGES', {\n          id: id,\n          chatData: getters.chatDataOfUser(id)\n        });\n        resolve(response);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  toggleIsPinned: function toggleIsPinned(_ref9, payload) {\n    var commit = _ref9.commit;\n    return new Promise(function (resolve, reject) {\n      axios.post('/api/apps/chat/set-pinned/', {\n        contactId: payload.id,\n        value: payload.value\n      }).then(function (response) {\n        commit('TOGGLE_IS_PINNED', payload);\n        resolve(response);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  }\n};",{"version":3,"names":["axios","setChatSearchQuery","query","commit","updateAboutChat","value","rootState","updateStatusChat","sendChatMessage","payload","getters","dispatch","Promise","resolve","reject","post","then","response","chatData","chatDataOfUser","id","catch","error","fetchContacts","get","params","q","data","fetchChatContacts","fetchChats","markSeenAllMessages","toggleIsPinned","contactId"],"sources":["C:/Users/Administrator/Desktop/验收文件0516/后台前端/src/store/chat/moduleChatActions.js"],"sourcesContent":["/*=========================================================================================\r\n  File Name: moduleChatActions.js\r\n  Description: Chat Module Actions\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n==========================================================================================*/\r\n\r\nimport axios from '@/axios.js'\r\n\r\nexport default {\r\n  setChatSearchQuery ({ commit }, query) {\r\n    commit('SET_CHAT_SEARCH_QUERY', query)\r\n  },\r\n  updateAboutChat ({ commit, rootState }, value) {\r\n    commit('UPDATE_ABOUT_CHAT', {\r\n      rootState,\r\n      value\r\n    })\r\n  },\r\n  updateStatusChat ({ commit, rootState }, value) {\r\n    commit('UPDATE_STATUS_CHAT', {\r\n      rootState,\r\n      value\r\n    })\r\n  },\r\n\r\n  // API CALLS\r\n  sendChatMessage ({ getters, commit, dispatch }, payload) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('/api/apps/chat/msg', {payload})\r\n        .then((response) => {\r\n          payload.chatData = getters.chatDataOfUser(payload.id)\r\n          if (!payload.chatData) { dispatch('fetchChatContacts') }\r\n          commit('SEND_CHAT_MESSAGE', payload)\r\n          resolve(response)\r\n        })\r\n        .catch((error) => { reject(error) })\r\n    })\r\n  },\r\n\r\n  // Get contacts from server. Also change in store\r\n  fetchContacts ({ commit }) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('/api/apps/chat/contacts', {params: {q: ''}})\r\n        .then((response) => {\r\n          commit('UPDATE_CONTACTS', response.data)\r\n          resolve(response)\r\n        })\r\n        .catch((error) => { reject(error) })\r\n    })\r\n  },\r\n\r\n  // Get chat-contacts from server. Also change in store\r\n  fetchChatContacts ({ commit }) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('/api/apps/chat/chat-contacts', {params: {q: ''}})\r\n        .then((response) => {\r\n          commit('UPDATE_CHAT_CONTACTS', response.data)\r\n          resolve(response)\r\n        })\r\n        .catch((error) => { reject(error) })\r\n    })\r\n  },\r\n\r\n  // Get chats from server. Also change in store\r\n  fetchChats ({ commit }) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('/api/apps/chat/chats')\r\n        .then((response) => {\r\n          commit('UPDATE_CHATS', response.data)\r\n          resolve(response)\r\n        })\r\n        .catch((error) => { reject(error) })\r\n    })\r\n  },\r\n\r\n  markSeenAllMessages ({ getters, commit }, id) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('/api/apps/chat/mark-all-seen', {id})\r\n        .then((response) => {\r\n          commit('MARK_SEEN_ALL_MESSAGES', {\r\n            id,\r\n            chatData: getters.chatDataOfUser(id)\r\n          })\r\n          resolve(response)\r\n        })\r\n        .catch((error) => { reject(error) })\r\n    })\r\n  },\r\n\r\n  toggleIsPinned ({ commit }, payload) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('/api/apps/chat/set-pinned/', {contactId: payload.id,\r\n        value: payload.value})\r\n        .then((response) => {\r\n          commit('TOGGLE_IS_PINNED', payload)\r\n          resolve(response)\r\n        })\r\n        .catch((error) => { reject(error) })\r\n    })\r\n  }\r\n}\r\n"],"mappings":"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"}]}