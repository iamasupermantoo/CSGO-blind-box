{"remainingRequest":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\apps\\user\\user-edit\\UserEditTabAccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\apps\\user\\user-edit\\UserEditTabAccount.vue","mtime":1651825841200},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.anchor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { AgGridVue } from \"ag-grid-vue\";\nimport vSelect from \"vue-select\";\nexport default {\n  components: {\n    vSelect: vSelect,\n    AgGridVue: AgGridVue\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      file: '',\n      player_id: '',\n      data_local: JSON.parse(JSON.stringify(this.data)),\n      statusOptions: [{\n        label: \"Active\",\n        value: \"active\"\n      }, {\n        label: \"Blocked\",\n        value: \"blocked\"\n      }, {\n        label: \"Deactivated\",\n        value: \"deactivated\"\n      }],\n      roleOptions: [{\n        label: \"Admin\",\n        value: \"admin\"\n      }, {\n        label: \"User\",\n        value: \"user\"\n      }, {\n        label: \"Staff\",\n        value: \"staff\"\n      }],\n      groupOptions: [{\n        label: \"普通\",\n        value: \"0\"\n      }, {\n        label: \"概率组\",\n        value: \"1\"\n      }, {\n        label: \"VIP\",\n        value: \"2\"\n      }],\n      vipOptions: [{\n        label: \"是\",\n        value: \"1\"\n      }, {\n        label: \"否\",\n        value: \"0\"\n      }],\n      allowOptions: [{\n        label: \"允许\",\n        value: \"1\"\n      }, {\n        label: \"禁止\",\n        value: \"2\"\n      }],\n      anchorOptions: [{\n        label: \"是\",\n        value: \"1\"\n      }, {\n        label: \"否\",\n        value: \"0\"\n      }],\n      unionOptions: [],\n      //表格\n      defaultColDef: {\n        sortable: false,\n        resizable: false,\n        suppressMenu: false\n      },\n      usersData: [{\n        id: 1,\n        role: \"20%\",\n        status: \"删除\",\n        username: \"111\"\n      }],\n      columnDefs: [{\n        headerName: \"箱子名称\",\n        field: \"id\",\n        width: 125,\n        filter: true\n      }, {\n        headerName: \"箱子图片\",\n        field: \"username\",\n        filter: true,\n        width: 300\n      }, {\n        headerName: \"饰品名称\",\n        field: \"email\",\n        filter: true,\n        width: 225\n      }, {\n        headerName: \"饰品图片\",\n        field: \"name\",\n        filter: true,\n        width: 300\n      }, {\n        headerName: \"饰品等级\",\n        field: \"country\",\n        filter: true,\n        width: 150\n      }, {\n        headerName: \"额外概率\",\n        field: \"role\",\n        filter: true,\n        width: 150\n      }, {\n        headerName: \"操作\",\n        field: \"status\",\n        filter: true,\n        width: 150 // cellRendererFramework: \"CellRendererStatus\",\n\n      }]\n    };\n  },\n  computed: {\n    status_local: {\n      get: function get() {\n        return {\n          label: this.capitalize(this.data_local.status),\n          value: this.data_local.status\n        };\n      },\n      set: function set(obj) {\n        this.data_local.status = obj.value;\n      }\n    },\n    role_local: {\n      get: function get() {\n        return {\n          label: this.capitalize(this.data_local.role),\n          value: this.data_local.role\n        };\n      },\n      set: function set(obj) {\n        this.data_local.role = obj.value;\n      }\n    },\n    validateForm: function validateForm() {\n      return !this.errors.any();\n    }\n  },\n  watch: {\n    'file': {\n      handler: function handler(val) {\n        if (val) {\n          this.edit();\n        }\n      }\n    }\n  },\n  methods: {\n    getUnion: function getUnion() {\n      var _this = this;\n\n      _this.$axios({\n        url: '/admin/User/getUnion',\n        method: \"post\"\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.status == 1) {\n          _this.unionOptions = res.data.data.list;\n          console.log(_this.unionOptions);\n        } else {\n          _this.unionOptions = [];\n        }\n      });\n    },\n    edit: function edit() {\n      var _this2 = this;\n\n      var _this = this;\n\n      var form = new FormData();\n      form.append('id', _this.player_id);\n      form.append('file', _this.file);\n\n      _this.$axios({\n        url: '/admin/User/editHeadImage',\n        method: \"post\",\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        data: form\n      }).then(function (res) {\n        if (res.data.status == 1) {\n          _this.$vs.notify({\n            title: '提示',\n            text: res.data.msg,\n            iconPack: 'feather',\n            icon: 'icon-alert-circle',\n            color: 'success'\n          });\n\n          _this2.$emit(\"closeSidebar\");\n\n          _this2.$emit(\"reload\"); // this.initValues();\n\n        } else {\n          _this.$vs.notify({\n            title: '提示',\n            text: res.data.msg,\n            iconPack: 'feather',\n            icon: 'icon-alert-circle',\n            color: 'danger'\n          });\n        }\n      });\n    },\n    capitalize: function capitalize(str) {\n      return str.slice(0, 1).toUpperCase() + str.slice(1, str.length);\n    },\n    save_changes: function save_changes() {\n      var _this3 = this;\n\n      //只修改用户是否为概率组和VIP\n      // console.log(this.data_local.group);\n      var _this = this;\n\n      _this.data.allow = _this.data_local.allow;\n      _this.data.group = _this.data_local.group;\n      _this.data.group_vip = _this.data_local.group_vip;\n      _this.data.invite_code = _this.data_local.invite_code;\n      _this.data.tradeUrl = _this.data_local.tradeUrl;\n      _this.data.lxdh = _this.data_local.lxdh;\n      _this.data.lxpeople = _this.data_local.lxpeople;\n      _this.data.extra_gift_recharge = _this.data_local.extra_gift_recharge;\n      _this.data.union = _this.data_local.union;\n      _this.data.anchor = _this.data_local.anchor;\n\n      _this.$axios({\n        url: '/admin/User/editGroup',\n        method: \"post\",\n        data: {\n          player_id: _this.player_id,\n          group: _this.data_local.group,\n          group_vip: _this.data_local.group_vip,\n          invite_code: _this.data.invite_code,\n          allow: _this.data_local.allow,\n          tradeUrl: _this.data_local.tradeUrl,\n          lxdh: _this.data_local.lxdh,\n          lxpeople: _this.data_local.lxpeople,\n          extra_gift_recharge: _this.data_local.extra_gift_recharge,\n          union: _this.data_local.union,\n          anchor: _this.data_local.anchor,\n          total_amount: _this.data_local.total_amount\n        }\n      }).then(function (res) {\n        if (res.data.status == 1) {\n          _this.data.group = _this.data_local.group;\n\n          _this.$vs.notify({\n            title: '提示',\n            text: res.data.msg,\n            iconPack: 'feather',\n            icon: 'icon-alert-circle',\n            color: 'success'\n          });\n\n          _this3.$emit(\"closeSidebar\");\n\n          _this3.$emit(\"reload\"); // this.initValues();\n\n        } else {\n          _this.$vs.notify({\n            title: '提示',\n            text: res.data.msg,\n            iconPack: 'feather',\n            icon: 'icon-alert-circle',\n            color: 'danger'\n          });\n        }\n      });\n    },\n    reset_data: function reset_data() {\n      this.data_local = JSON.parse(JSON.stringify(this.data));\n    },\n    update_avatar: function update_avatar(input) {\n      var _this4 = this;\n\n      if (input.target.files && input.target.files[0]) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          _this4.data.img = e.target.result;\n        };\n\n        reader.readAsDataURL(input.target.files[0]);\n        this.file = input.target.files[0];\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.player_id = this.data.id;\n    this.getUnion();\n  }\n};",{"version":3,"sources":["UserEditTabAccount.vue"],"names":[],"mappings":"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","sourcesContent":["\n<template>\n  <div id=\"user-edit-tab-info\">\n    <!-- Avatar Row -->\n    <div class=\"vx-row\">\n      <div class=\"vx-col w-full\">\n        <div class=\"flex items-start flex-col sm:flex-row\">\n          <img :src=\"data.img\" class=\"mr-8 rounded h-24 w-24\" />\n          <!-- <vs-avatar :src=\"data.avatar\" size=\"80px\" class=\"mr-4\" /> -->\n          <div style=\"margin-top: 25px;\">\n            <input\n              type=\"file\"\n              class=\"hidden\"\n              ref=\"update_avatar_input\"\n              @change=\"update_avatar\"\n              accept=\"image/*\"\n            />\n\n            <!-- Toggle comment of below buttons as one for actual flow & currently shown is only for demo -->\n            <!-- <vs-button class=\"mr-4 mb-4\">更换头像</vs-button> -->\n            <vs-button class=\"mr-4 mb-4\" @click=\"$refs.update_avatar_input.click()\">更换头像</vs-button>\n            <!-- <vs-button type=\"border\" color=\"danger\">Remove Avatar</vs-button> -->\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Content Row -->\n    <div class=\"vx-row\">\n      <div class=\"vx-col md:w-1/2 w-full\">\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"昵称\"\n          v-model=\"data_local.name\"\n          v-validate=\"'required|alpha_num'\"\n          name=\"data_local.name\"\n          disabled\n        />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('username')\">{{\n          errors.first(\"username\")\n        }}</span>\n\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"邀请码\"\n          v-model=\"data_local.invite_code\"\n          type=\"email\"\n          name=\"data_local.invite_code\"\n        />\n\n        <vs-select\n          v-model=\"data_local.group\"\n          label=\"用户身份\"\n          class=\"mt-4 w-full\"\n          name=\"item-category\"\n        >\n          <vs-select-item\n            :key=\"item.value\"\n            :value=\"item.value\"\n            :text=\"item.label\"\n            v-for=\"item in groupOptions\"\n          />\n        </vs-select>\n\n        <vs-select\n          v-model=\"data_local.allow\"\n          label=\"取回状态\"\n          class=\"mt-4 w-full\"\n          name=\"item-category\"\n        >\n          <vs-select-item\n            :key=\"item.value\"\n            :value=\"item.value\"\n            :text=\"item.label\"\n            v-for=\"item in allowOptions\"\n          />\n        </vs-select>\n\n        <vs-select\n          v-model=\"data_local.union\"\n          label=\"工会名称\"\n          class=\"mt-4 w-full\"\n          name=\"item-category\"\n        >\n        <vs-select-item key=\"0\" value=\"0\" text=\"请选择\" checked disabled/>\n          <vs-select-item\n            :key=\"item.id\"\n            :value=\"item.id\"\n            :text=\"item.name\"\n            v-for=\"item in unionOptions\"\n          />\n        </vs-select>\n\n         <vs-select\n          v-model=\"data_local.anchor\"\n          label=\"是否为主播\"\n          class=\"mt-4 w-full\"\n          name=\"item-category\"\n        >\n          <vs-select-item\n            :key=\"item.value\"\n            :value=\"item.value\"\n            :text=\"item.label\"\n            v-for=\"item in anchorOptions\"\n          />\n        </vs-select>\n\n        <!-- <span class=\"text-danger text-sm\" v-show=\"errors.has('invite_code')\">{{\n          errors.first(\"invite_code\")\n        }}</span> -->\n      </div>\n\n      <div class=\"vx-col md:w-1/2 w-full\">\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"邮箱\"\n          v-model=\"data_local.email\"\n          type=\"email\"\n          v-validate=\"'required'\"\n          name=\"email\"\n          disabled\n        />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('email')\">{{\n          errors.first(\"email\")\n        }}</span>\n\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"余额\"\n          v-model=\"data_local.total_amount\"\n          v-validate=\"'required'\"\n          name=\"total_amount\"\n        />\n        <!-- <span class=\"text-danger text-sm\" v-show=\"errors.has('total_amount')\">{{\n          errors.first(\"total_amount\")\n        }}</span> -->\n\t\t\r\n\t\t<vs-input\r\n\t\t  class=\"w-full mt-4\"\r\n\t\t  label=\"收货人\"\r\n\t\t  v-model=\"data_local.lxpeople\"\r\n\t\t  name=\"lxpeople\"\r\n\t\t/>\r\n\t\t<span class=\"text-danger text-sm\" v-show=\"errors.has('lxpeople')\">{{\r\n\t\t  errors.first(\"lxpeople\")\r\n\t\t}}</span>\r\n\t\t\n\t\t<vs-input\r\n\t\t  class=\"w-full mt-4\"\r\n\t\t  label=\"联系电话\"\r\n\t\t  v-model=\"data_local.lxdh\"\r\n\t\t  name=\"lxdh\"\r\n\t\t/>\r\n\t\t<span class=\"text-danger text-sm\" v-show=\"errors.has('lxdh')\">{{\r\n\t\t  errors.first(\"lxdh\")\r\n\t\t}}</span>\r\n\t\t\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"收货地址\"\n          v-model=\"data_local.tradeUrl\"\n          name=\"tradeUrl\"\n        />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('tradeUrl')\">{{\n          errors.first(\"tradeUrl\")\n        }}</span>\r\n\t\t\n\n\n        <!-- <vs-select\n          v-model=\"data_local.group_vip\"\n          label=\"是否Vip用户\"\n          class=\"mt-5 w-full\"\n          name=\"item-category\"\n        >\n          <vs-select-item\n            :key=\"item.value\"\n            :value=\"item.value\"\n            :text=\"item.label\"\n            v-for=\"item in vipOptions\"\n          />\n        </vs-select> -->\n\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"下线充值额外加赠(%)\"\n          v-model=\"data_local.extra_gift_recharge\"\n          name=\"extra_gift_recharge\"\n          v-if=\"data_local.group == 1\"\n        />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('extra_gift_recharge')\">{{\n          errors.first(\"extra_gift_recharge\")\n        }}</span>\n\n\n         <vs-input\n          class=\"w-full mt-4\"\n          label=\"创建时间\"\n          draggable=\"true\"\n          v-model=\"data_local.create_time\"\n          v-validate=\"'alpha_spaces'\"\n          name=\"create_time\"\n          disabled\n        />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('create_time')\">{{\n          errors.first(\"create_time\")\n        }}</span>\n\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"上级用户昵称\"\n          v-model=\"data_local.inviter_name\"\n          name=\"inviter_name\"\n          disabled\n        />\n      </div>\n    </div>\n\n\n\n    <!-- Permissions -->\n    <!-- <vx-card class=\"mt-base\" no-shadow card-border>\n      <div class=\"vx-row\">\n        <div class=\"vx-col w-full\">\n          <div class=\"flex items-end px-3\">\n            <feather-icon svgClasses=\"w-6 h-6\" icon=\"LockIcon\" class=\"mr-2\" />\n            <span class=\"font-medium text-lg leading-none\">已额外设置概率</span>\n          </div>\n          <vs-divider />\n        </div>\n      </div>\n\n      <div class=\"block overflow-x-auto\">\n        <ag-grid-vue\n\n\n          class=\"ag-theme-material w-100 my-4 ag-grid-table \"\n          :columnDefs=\"columnDefs\"\n          :defaultColDef=\"defaultColDef\"\n          :rowData=\"usersData\"\n          rowSelection=\"multiple\"\n          colResizeDefault=\"shift\"\n          :animateRows=\"false\"\n          :floatingFilter=\"false\"\n          :pagination=\"false\"\n          :suppressPaginationPanel=\"false\"\n        >\n        </ag-grid-vue>\n      </div>\n    </vx-card> -->\n\n    <!-- Save & Reset Button -->\n    <div class=\"vx-row\">\n      <div class=\"vx-col w-full\">\n        <div class=\"mt-8 flex flex-wrap items-center justify-end\">\n          <vs-button\n            class=\"ml-auto mt-2\"\n            @click=\"save_changes\"\n            :disabled=\"!validateForm\"\n            >保存</vs-button\n          >\n          <!-- <vs-button\n            class=\"ml-4 mt-2\"\n            type=\"border\"\n            color=\"warning\"\n            @click=\"reset_data\"\n            >重置</vs-button\n          > -->\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { AgGridVue } from \"ag-grid-vue\";\nimport vSelect from \"vue-select\";\n\nexport default {\n  components: {\n    vSelect,\n    AgGridVue,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      file:'',\n      player_id:'',\n      data_local: JSON.parse(JSON.stringify(this.data)),\n\n      statusOptions: [\n        { label: \"Active\", value: \"active\" },\n        { label: \"Blocked\", value: \"blocked\" },\n        { label: \"Deactivated\", value: \"deactivated\" },\n      ],\n      roleOptions: [\n        { label: \"Admin\", value: \"admin\" },\n        { label: \"User\", value: \"user\" },\n        { label: \"Staff\", value: \"staff\" },\n      ],\n      groupOptions:[\n        { label: \"普通\", value: \"0\" },\n        { label: \"概率组\", value: \"1\" },\n        { label: \"VIP\", value: \"2\" },\n      ],\n      vipOptions:[\n        { label: \"是\", value: \"1\" },\n        { label: \"否\", value: \"0\" },\n      ],\n      allowOptions:[\n        { label: \"允许\", value: \"1\" },\n        { label: \"禁止\", value: \"2\" },\n      ],\n      anchorOptions:[\n        { label: \"是\", value: \"1\" },\n        { label: \"否\", value: \"0\" },\n      ],\n      unionOptions:[],\n\n      //表格\n      defaultColDef: {\n        sortable: false,\n        resizable: false,\n        suppressMenu: false,\n      },\n      usersData:[{id:1,role:\"20%\",status:\"删除\",username:\"111\"}],\n\n      columnDefs: [\n        {\n          headerName: \"箱子名称\",\n          field: \"id\",\n          width: 125,\n          filter: true,\n        },\n        {\n          headerName: \"箱子图片\",\n          field: \"username\",\n          filter: true,\n          width: 300,\n        },\n        {\n          headerName: \"饰品名称\",\n          field: \"email\",\n          filter: true,\n          width: 225,\n        },\n        {\n          headerName: \"饰品图片\",\n          field: \"name\",\n          filter: true,\n          width: 300,\n        },\n        {\n          headerName: \"饰品等级\",\n          field: \"country\",\n          filter: true,\n          width: 150,\n        },\n        {\n          headerName: \"额外概率\",\n          field: \"role\",\n          filter: true,\n          width: 150,\n        },\n        {\n          headerName: \"操作\",\n          field: \"status\",\n          filter: true,\n          width: 150,\n         // cellRendererFramework: \"CellRendererStatus\",\n        },\n      ],\n    };\n  },\n  computed: {\n    status_local: {\n      get() {\n        return {\n          label: this.capitalize(this.data_local.status),\n          value: this.data_local.status,\n        };\n      },\n      set(obj) {\n        this.data_local.status = obj.value;\n      },\n    },\n    role_local: {\n      get() {\n        return {\n          label: this.capitalize(this.data_local.role),\n          value: this.data_local.role,\n        };\n      },\n      set(obj) {\n        this.data_local.role = obj.value;\n      },\n    },\n    validateForm() {\n      return !this.errors.any();\n    },\n  },\n  watch:{\n    'file':{\n      handler(val){\n        if(val){\n          this.edit()\n        }\n      }\n    }\n  },\n  methods: {\n    getUnion(){\n      let _this = this;\n      _this.$axios({\n        url: '/admin/User/getUnion',\n        method: \"post\"\n      }).then(res=>{\n        console.log(res);\n        if(res.data.status == 1){\n          _this.unionOptions = res.data.data.list;\n          console.log(_this.unionOptions);\n        }else{\n          _this.unionOptions = [];\n        }\n      })\n    },\n    edit(){\n      let _this = this;\n      var form = new FormData();\n      form.append('id',_this.player_id);\n      form.append('file',_this.file);\n      _this.$axios({\n            url: '/admin/User/editHeadImage',\n            method: \"post\",\n            headers:{'Content-Type':'multipart/form-data'},\n            data:form,\n        }).then((res) => {\n            if(res.data.status == 1){\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'success'\n                })\n                this.$emit(\"closeSidebar\");\n                this.$emit(\"reload\");\n                // this.initValues();\n            }else{\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'danger'\n                })\n            }\n        });\n    },\n    capitalize(str) {\n      return str.slice(0, 1).toUpperCase() + str.slice(1, str.length);\n    },\n    save_changes() {\n      //只修改用户是否为概率组和VIP\n      // console.log(this.data_local.group);\n      let _this = this;\n      _this.data.allow = _this.data_local.allow;\n      _this.data.group = _this.data_local.group;\n      _this.data.group_vip = _this.data_local.group_vip;\n      _this.data.invite_code = _this.data_local.invite_code;\n      _this.data.tradeUrl = _this.data_local.tradeUrl;\r\n\t  _this.data.lxdh = _this.data_local.lxdh;\r\n\t  _this.data.lxpeople = _this.data_local.lxpeople;\n      _this.data.extra_gift_recharge = _this.data_local.extra_gift_recharge;\n      _this.data.union = _this.data_local.union;\n      _this.data.anchor = _this.data_local.anchor;\n      _this.$axios({\n            url: '/admin/User/editGroup',\n            method: \"post\",\n            data:{\n              player_id:_this.player_id,\n              group:_this.data_local.group,\n              group_vip:_this.data_local.group_vip,\n              invite_code:_this.data.invite_code,\n              allow:_this.data_local.allow,\n              tradeUrl:_this.data_local.tradeUrl,\r\n\t\t\t  lxdh:_this.data_local.lxdh,\r\n\t\t\t  lxpeople:_this.data_local.lxpeople,\n              extra_gift_recharge:_this.data_local.extra_gift_recharge,\n              union:_this.data_local.union,\n              anchor:_this.data_local.anchor,\n              total_amount: _this.data_local.total_amount\n            },\n        }).then((res) => {\n            if(res.data.status == 1){\n              _this.data.group = _this.data_local.group;\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'success'\n                })\n                this.$emit(\"closeSidebar\");\n                this.$emit(\"reload\");\n                // this.initValues();\n            }else{\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'danger'\n                })\n            }\n        });\n    },\n    reset_data() {\n      this.data_local = JSON.parse(JSON.stringify(this.data));\n    },\n    update_avatar(input) {\n      if (input.target.files && input.target.files[0]) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          this.data.img = e.target.result;\n        };\n        reader.readAsDataURL(input.target.files[0]);\n        this.file = input.target.files[0];\n      }\n    },\n  },\n  mounted(){\n    this.player_id = this.data.id;\n    this.getUnion();\n  }\n};\n</script>\n<style lang=\"scss\">\n.rounded{\n  object-fit: cover;\n}\n</style>\n"],"sourceRoot":"src/views/apps/user/user-edit"}]}