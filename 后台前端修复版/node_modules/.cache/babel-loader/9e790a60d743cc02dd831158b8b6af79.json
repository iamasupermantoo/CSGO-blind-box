{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\views\\pages\\user-settings\\UserSettingsChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\views\\pages\\user-settings\\UserSettingsChangePassword.vue","mtime":1652614778376},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1664268237683},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":1663908471338},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":1664268237964}],"contextDependencies":[],"result":["export default {\n  data: function data() {\n    return {\n      old_password: '',\n      new_password: '',\n      confirm_new_password: ''\n    };\n  },\n  computed: {\n    activeUserInfo: function activeUserInfo() {\n      return this.$store.state.AppActiveUser;\n    }\n  },\n  methods: {\n    resetPssward: function resetPssward() {\n      this.old_password = '';\n      this.new_password = '';\n      this.confirm_new_password = '';\n    },\n    updatePssward: function updatePssward() {\n      var _this = this;\n\n      var rememberInfo = JSON.parse(localStorage.getItem(\"rememberAmin\"));\n      var err_msg = '';\n      console.log(this.new_password, this.confirm_new_password, this.confirm_new_password != this.new_password);\n\n      if (this.new_password.length < 6) {\n        err_msg = \"密码不能小于6位\";\n      }\n\n      if (!this.new_password || !this.confirm_new_password || this.confirm_new_password != this.new_password) {\n        err_msg = \"输入的密码不一致\";\n      }\n\n      if (!this.old_password) {\n        err_msg = \"旧密码不能为空\";\n      }\n\n      if (err_msg) {\n        _this.$vs.notify({\n          title: '提示',\n          text: err_msg,\n          iconPack: 'feather',\n          icon: 'icon-alert-circle',\n          color: 'danger'\n        });\n      } else {\n        _this.$axios({\n          url: \"/admin/user/updatePssward\",\n          method: \"post\",\n          data: {\n            confirm_new_password: _this.confirm_new_password,\n            new_password: _this.new_password,\n            old_password: _this.old_password,\n            account: rememberInfo.account\n          }\n        }).then(function (res) {\n          if (res.data.status == 1) {\n            _this.$vs.notify({\n              title: '提示',\n              text: \"密码修改成功\",\n              iconPack: 'feather',\n              icon: 'icon-alert-circle',\n              color: 'success'\n            });\n\n            _this.resetPssward();\n          } else {\n            _this.$vs.notify({\n              title: '提示',\n              text: res.data.msg,\n              iconPack: 'feather',\n              icon: 'icon-alert-circle',\n              color: 'danger'\n            });\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"mappings":"AAgBA;EACAA,IADA,kBACA;IACA;MACAC,gBADA;MAEAC,gBAFA;MAGAC;IAHA;EAKA,CAPA;EAQAC;IACAC,cADA,4BACA;MACA;IACA;EAHA,CARA;EAaAC;IACAC,YADA,0BACA;MACA;MACA;MACA;IACA,CALA;IAMAC,aANA,2BAMA;MACA;;MACA;MACA;MACAC;;MACA;QACAC;MACA;;MACA;QACAA;MACA;;MACA;QACAA;MACA;;MACA;QAEAC;UACAC,WADA;UAEAC,aAFA;UAGAC,mBAHA;UAIAC,yBAJA;UAKAC;QALA;MAOA,CATA,MASA;QACAL;UACAM,gCADA;UAEAC,cAFA;UAGAlB;YACAG,gDADA;YAEAD,gCAFA;YAGAD,gCAHA;YAIAkB;UAJA;QAHA,GASAC,IATA,CASA;UACA;YACAT;cACAC,WADA;cAEAC,cAFA;cAGAC,mBAHA;cAIAC,yBAJA;cAKAC;YALA;;YAQAL;UACA,CAVA,MAUA;YACAA;cACAC,WADA;cAEAC,kBAFA;cAGAC,mBAHA;cAIAC,yBAJA;cAKAC;YALA;UAOA;QACA,CA7BA;MA8BA;IAEA;EA9DA;AAbA","names":["data","old_password","new_password","confirm_new_password","computed","activeUserInfo","methods","resetPssward","updatePssward","console","err_msg","_this","title","text","iconPack","icon","color","url","method","account","then"],"sourceRoot":"src/views/pages/user-settings","sources":["UserSettingsChangePassword.vue"],"sourcesContent":["<template>\r\n  <vx-card no-shadow>\r\n\r\n    <vs-input class=\"w-full mb-base\" label-placeholder=\"旧密码\" v-model=\"old_password\" />\r\n    <vs-input class=\"w-full mb-base\" label-placeholder=\"请输入6位新密码\" v-model=\"new_password\" />\r\n    <vs-input class=\"w-full mb-base\" label-placeholder=\"请输入6位确认密码\" v-model=\"confirm_new_password\" />\r\n\r\n    <!-- Save & Reset Button -->\r\n    <div class=\"flex flex-wrap items-center justify-end\">\r\n      <vs-button class=\"ml-auto mt-2\" @click=\"updatePssward\">Save Cha2nges</vs-button>\r\n      <vs-button class=\"ml-4 mt-2\" type=\"border\" color=\"warning\" @click=\"resetPssward\">Reset</vs-button>\r\n    </div>\r\n  </vx-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      old_password: '',\r\n      new_password: '',\r\n      confirm_new_password: ''\r\n    }\r\n  },\r\n  computed: {\r\n    activeUserInfo () {\r\n      return this.$store.state.AppActiveUser\r\n    }\r\n  },\r\n  methods:{\r\n\t  resetPssward(){\r\n\t\t  this.old_password=''\r\n\t\t  this.new_password=''\r\n\t\t  this.confirm_new_password=''\r\n\t  },\r\n\t  updatePssward(){\r\n\t\t  var _this = this;\r\n\t\t  let rememberInfo = JSON.parse(localStorage.getItem(\"rememberAmin\"));\r\n\t\t  var err_msg = '';\r\n\t\t  console.log(this.new_password,this.confirm_new_password,this.confirm_new_password!=this.new_password)\r\n\t\t  if(this.new_password.length<6){\r\n\t\t\t  err_msg = \"密码不能小于6位\"\r\n\t\t  }\r\n\t\t  if(!this.new_password||!this.confirm_new_password||this.confirm_new_password!=this.new_password){\r\n\t\t  \terr_msg = \"输入的密码不一致\"\r\n\t\t  }\r\n\t\t  if(!this.old_password){\r\n\t\t\terr_msg = \"旧密码不能为空\"\r\n\t\t  }\r\n\t\t  if(err_msg){\r\n\t\t\t  \r\n\t\t\t  _this.$vs.notify({\r\n\t\t\t  \t\t\t  title: '提示',\r\n\t\t\t  \t\t\t  text: err_msg,\r\n\t\t\t  \t\t\t  iconPack: 'feather',\r\n\t\t\t  \t\t\t  icon: 'icon-alert-circle',\r\n\t\t\t  \t\t\t  color: 'danger'\r\n\t\t\t  \t\t\t  })\r\n\t\t  }else{\r\n\t\t\t  _this.$axios({\r\n\t\t\t      url: \"/admin/user/updatePssward\",\r\n\t\t\t      method: \"post\",\r\n\t\t\t      data:{\r\n\t\t\t        confirm_new_password:_this.confirm_new_password,\r\n\t\t\t\t\tnew_password:_this.new_password,\r\n\t\t\t\t\told_password:_this.old_password,\r\n\t\t\t\t\taccount:rememberInfo.account\r\n\t\t\t      },\r\n\t\t\t    }).then((res) => {\r\n\t\t\t      if(res.data.status == 1){\r\n\t\t\t          _this.$vs.notify({\r\n\t\t\t          \t\t\t  title: '提示',\r\n\t\t\t          \t\t\t  text: \"密码修改成功\",\r\n\t\t\t          \t\t\t  iconPack: 'feather',\r\n\t\t\t          \t\t\t  icon: 'icon-alert-circle',\r\n\t\t\t          \t\t\t  color: 'success'\r\n\t\t\t          \t\t\t  })\r\n\t\t\t\t\t\r\n\t\t\t\t\t_this.resetPssward()\r\n\t\t\t      }else{\r\n\t\t\t\t\t  _this.$vs.notify({\r\n\t\t\t\t\t  \t\t\t  title: '提示',\r\n\t\t\t\t\t  \t\t\t  text: res.data.msg,\r\n\t\t\t\t\t  \t\t\t  iconPack: 'feather',\r\n\t\t\t\t\t  \t\t\t  icon: 'icon-alert-circle',\r\n\t\t\t\t\t  \t\t\t  color: 'danger'\r\n\t\t\t\t\t  \t\t\t  })\r\n\t\t\t      }\r\n\t\t\t    });\r\n\t\t  }\r\n\t\t  \r\n\t  }\r\n  }\r\n}\r\n</script>\r\n"]}]}