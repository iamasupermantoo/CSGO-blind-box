{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\views\\ui-elements\\box\\UserEditTabAccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\views\\ui-elements\\box\\UserEditTabAccount.vue","mtime":1620826038000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1664268237683},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":1663908471338},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":1664268237964}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport { AgGridVue } from \"ag-grid-vue\";\nimport vSelect from \"vue-select\";\nexport default {\n  components: {\n    vSelect: vSelect,\n    AgGridVue: AgGridVue\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      date: \"2020-12-28\",\n      // Filter Options\n      roleFilter: {},\n      roleOptions: [// { label: \"消费\", value: \"1\" },\n        // { label: \"工业\", value: \"2\" },\n        // { label: \"军规\", value: \"3\" },\n        // { label: \"受限\", value: \"4\" },\n        // { label: \"保密\", value: \"5\" },\n        // { label: \"隐秘\", value: \"6\" },\n        // { label: \"特殊\", value: \"7\" },\n      ],\n      boxTypeOptions: [],\n      boxTypeFilter: {},\n      roleFilter1: {\n        label: \"正常\",\n        value: \"1\"\n      },\n      roleOptions1: [{\n        label: \"正常\",\n        value: \"1\"\n      }, {\n        label: \"禁用\",\n        value: \"2\"\n      }],\n      battleOptions: [{\n        label: \"是\",\n        value: \"1\"\n      }, {\n        label: \"否\",\n        value: \"0\"\n      }],\n      battleFilter: {},\n      data_local: JSON.parse(JSON.stringify(this.data)),\n      img_main: '',\n      img_active: '',\n      img_main_file: '',\n      img_active_file: '',\n      boxType: '',\n      skins_type: this.data.skins_type //\n\n    };\n  },\n  computed: {\n    status_local: {\n      get: function get() {\n        return {\n          label: this.capitalize(this.data_local.status),\n          value: this.data_local.status\n        };\n      },\n      set: function set(obj) {\n        this.data_local.status = obj.value;\n      }\n    },\n    role_local: {\n      get: function get() {\n        return {\n          label: this.capitalize(this.data_local.role),\n          value: this.data_local.role\n        };\n      },\n      set: function set(obj) {\n        this.data_local.role = obj.value;\n      }\n    },\n    validateForm: function validateForm() {\n      return !this.errors.any();\n    }\n  },\n  methods: {\n    getBoxRarity: function getBoxRarity() {\n      var _this = this;\n\n      _this.$axios({\n        url: \"/admin/Box/boxRarity\",\n        method: \"post\",\n        params: {}\n      }).then(function (res) {\n        res.data.data.forEach(function (element) {\n          element[\"value\"] = element[\"id\"];\n          element[\"label\"] = element[\"rarity_name\"];\n        });\n        _this.roleOptions = res.data.data;\n      });\n    },\n    getBoxType: function getBoxType() {\n      var _this = this;\n\n      _this.$axios({\n        url: \"/admin/Box/getBoxType\",\n        method: \"post\",\n        params: {}\n      }).then(function (res) {\n        res.data.data.forEach(function (element) {\n          element[\"value\"] = element[\"id\"];\n          element[\"label\"] = element[\"type_name\"]; // console.log(element['id']);\n\n          if (_this.boxType == element[\"id\"]) {\n            _this.boxTypeFilter = element;\n          }\n        });\n        _this.boxTypeOptions = res.data.data;\n      });\n    },\n    capitalize: function capitalize(str) {\n      return str.slice(0, 1).toUpperCase() + str.slice(1, str.length);\n    },\n    save_changes: function save_changes() {\n      // if (!this.validateForm) return;\n      var _this = this;\n\n      console.log(_this.skins_type);\n      var pramas = {\n        'box_id': _this.data_local.id,\n        'name': _this.data_local.name,\n        'img_main': _this.data_local.img_main,\n        'img_active': _this.data_local.img_active,\n        'price': _this.data_local.price,\n        'rarity': _this.roleFilter.value,\n        'flag': _this.roleFilter1.value,\n        'type': _this.boxTypeFilter.value,\n        'battle': _this.battleFilter.value,\n        'billie': _this.data_local.mendBillie,\n        'vip_billie': _this.data_local.mendVipBillie,\n        'skins_type': _this.skins_type\n      };\n      var forms = new FormData();\n      forms.append('data', JSON.stringify(pramas));\n      forms.append('img_main', _this.img_main_file);\n      forms.append('img_active', _this.img_active_file);\n\n      _this.$axios({\n        url: \"/admin/Box/editBox\",\n        method: \"post\",\n        data: forms,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(function (res) {\n        if (res.data.status == 1) {\n          _this.$vs.notify({\n            title: '提示',\n            text: res.data.msg,\n            iconPack: 'feather',\n            icon: 'icon-alert-circle',\n            color: 'success'\n          });\n\n          _this.$emit('reload');\n        } else {\n          _this.$vs.notify({\n            title: '提示',\n            text: res.data.msg,\n            iconPack: 'feather',\n            icon: 'icon-alert-circle',\n            color: 'danger'\n          });\n        }\n      });\n    },\n    reset_data: function reset_data() {\n      this.data_local = JSON.parse(JSON.stringify(this.data));\n    },\n    update_main_img: function update_main_img($e) {\n      console.log($e);\n      var file = $e.target.files[0];\n      console.log(file);\n      this.img_main_file = file;\n      var dataURL;\n      var windowURL = window.URL || window.webkitURL;\n      dataURL = windowURL.createObjectURL(file);\n      this.img_main = dataURL; // You can update avatar Here\n      // For reference you can check dataList example\n      // We haven't integrated it here, because data isn't saved in DB\n    },\n    update_active_img: function update_active_img($e) {\n      console.log($e);\n      var file = $e.target.files[0];\n      this.img_active_file = file;\n      var dataURL;\n      var windowURL = window.URL || window.webkitURL;\n      dataURL = windowURL.createObjectURL(file);\n      this.img_active = dataURL;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    _this.getBoxRarity();\n\n    _this.getBoxType();\n\n    _this.roleFilter = _this.data.roleFilter;\n    _this.boxType = _this.data.type;\n    _this.roleFilter1 = _this.data.flag == 1 ? {\n      label: \"正常\",\n      value: \"1\"\n    } : {\n      label: \"禁用\",\n      value: \"0\"\n    };\n    _this.battleFilter = _this.data.battle == 1 ? {\n      label: \"是\",\n      value: \"1\"\n    } : {\n      label: \"否\",\n      value: \"0\"\n    };\n    _this.img_main = _this.data.img_main;\n    _this.img_active = _this.data.img_active; // console.log(_this.data);\n  }\n};",{"version":3,"mappings":"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","names":["components","vSelect","AgGridVue","props","data","type","required","date","roleFilter","roleOptions","boxTypeOptions","boxTypeFilter","roleFilter1","label","value","roleOptions1","battleOptions","battleFilter","data_local","img_main","img_active","img_main_file","img_active_file","boxType","skins_type","computed","status_local","get","set","obj","role_local","validateForm","methods","getBoxRarity","_this","url","method","params","then","res","element","getBoxType","capitalize","str","save_changes","console","forms","headers","title","text","iconPack","icon","color","reset_data","update_main_img","$e","dataURL","update_active_img","mounted"],"sourceRoot":"src/views/ui-elements/box","sources":["UserEditTabAccount.vue"],"sourcesContent":["<!-- =========================================================================================\r\n  File Name: UserEditTabInformation.vue\r\n  Description: User Edit Information Tab content\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n========================================================================================== -->\r\n\r\n<template>\r\n  <div id=\"user-edit-tab-info\">\r\n    <!-- Avatar Row -->\r\n    <p class=\"text-lg font-medium mb-2 mt-4 sm:mt-0\">\r\n              {{ data.name }}\r\n            </p>\r\n    <div class=\"vx-row imgs-1\">\r\n      \r\n      <div class=\"vx-col w-full\">\r\n        <div class=\"flex items-start flex-col sm:flex-row\">\r\n          <img v-if=\"img_main\" :src=\"img_main\" class=\"mr-8 rounded h-24 w-24 img_main\" />\r\n          <!-- <vs-avatar :src=\"data.avatar\" size=\"80px\" class=\"mr-4\" /> -->\r\n          <div>\r\n            \r\n            <input\r\n              type=\"file\"\r\n              class=\"hidden\"\r\n              ref=\"update_main_img_input\"\r\n              @change=\"update_main_img\"\r\n              accept=\"image/*\"\r\n            />\r\n            <vs-button class=\"mr-4 mb-4 change\" type=\"border\" @click=\"$refs.update_main_img_input.click()\" >更换主图</vs-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n\r\n       <div class=\"vx-col w-full\">\r\n        <div class=\"flex items-start flex-col sm:flex-row\">\r\n          <img v-if=\"img_active\" :src=\"img_active\" class=\"mr-8 rounded h-24 w-24 img_active\"/>\r\n\r\n          <div>\r\n            <input\r\n              type=\"file\"\r\n              class=\"hidden\"\r\n              ref=\"update_active_img_input\"\r\n              @change=\"update_active_img\"\r\n              accept=\"image/*\"\r\n            />\r\n            <vs-button class=\"mr-4 mb-4 change\" type=\"border\" @click=\"$refs.update_active_img_input.click()\" >更换动图</vs-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Content Row -->\r\n    <div class=\"vx-row box_input\">\r\n      <!-- <div class=\"vx-col md:w-1/2 w-full\"> -->\r\n        <!-- <vs-input\r\n          class=\"w-full mt-4\"\r\n          label=\"名称\"\r\n          v-model=\"data_local.name\"\r\n          v-validate=\"'required|name'\"\r\n          name=\"name\"\r\n        /> -->\r\n\r\n        <div class=\"w-full mt-4 edit\">\r\n          <vs-input\r\n            class=\"w-full mt-4\"\r\n            label=\"名称\"\r\n            v-model=\"data_local.name\"\r\n            name=\"name\"\r\n          />\r\n          <span class=\"text-danger text-sm\" v-show=\"errors.has('name')\">{{ errors.first(\"name\") }}</span>\r\n        </div>\r\n        \r\n\r\n        \r\n        <div class=\"w-full mt-4 edit\">\r\n          <vs-input\r\n            class=\"w-full mt-4\"\r\n            label=\"价格\"\r\n            v-model=\"data_local.price\"\r\n            name=\"price\"\r\n          />\r\n        </div>\r\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('price')\">{{ errors.first(\"price\") }}</span>\r\n        \r\n\r\n        <div class=\"w-full mt-4 edit\">\r\n          <label class=\"text-sm opacity-75\">盲盒类型</label>\r\n          <v-select\r\n            :options=\"boxTypeOptions\"\r\n            :clearable=\"false\"\r\n            :dir=\"$vs.rtl ? 'rtl' : 'ltr'\"\r\n            v-model=\"boxTypeFilter\"\r\n            class=\"mb-4 md:mb-0\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"w-full mt-4 edit\">\r\n          <label class=\"text-sm opacity-75\">是否为对战</label>\r\n          <v-select\r\n            :options=\"battleOptions\"\r\n            :clearable=\"false\"\r\n            :dir=\"$vs.rtl ? 'rtl' : 'ltr'\"\r\n            v-model=\"battleFilter\"\r\n            class=\"mb-4 md:mb-0\"\r\n          />\r\n          <span class=\"text-danger text-sm\" v-show=\"errors.has('email')\">{{\r\n            errors.first(\"email\")\r\n          }}</span>\r\n        </div>\r\n\r\n        <div class=\"w-full mt-4 edit\">\r\n          <label class=\"text-sm opacity-75\">稀有度</label>\r\n          <v-select\r\n            :options=\"roleOptions\"\r\n            :clearable=\"false\"\r\n            :dir=\"$vs.rtl ? 'rtl' : 'ltr'\"\r\n            v-model=\"roleFilter\"\r\n            class=\"mb-4 md:mb-0\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"w-full mt-4 edit\">\r\n          <label class=\"text-sm opacity-75\">状态</label>\r\n          <v-select\r\n            :options=\"roleOptions1\"\r\n            :clearable=\"false\"\r\n            :dir=\"$vs.rtl ? 'rtl' : 'ltr'\"\r\n            v-model=\"roleFilter1\"\r\n            class=\"mb-4 md:mb-0\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"w-full mt-4 edit\">\r\n          <vs-input\r\n            class=\"w-full mt-4\"\r\n            label=\"普通自动补充库存比(%)\"\r\n            v-model=\"data_local.mendBillie\"\r\n            name=\"mendBillie\"\r\n          />\r\n        </div>\r\n        \r\n\r\n        <div class=\"w-full mt-4 edit\">\r\n          <vs-input\r\n            class=\"w-full mt-4\"\r\n            label=\"Vip自动补充库存比(%)\"\r\n            v-model=\"data_local.mendVipBillie\"\r\n            name=\"mendVipBillie\"\r\n          />\r\n        </div>\r\n      <!-- </div> -->\r\n    </div>\r\n\r\n    <div class=\"vx-row box_input\">\r\n\r\n      <div class=\"w-full mt-4 edit\" v-for=\"(item,index) in skins_type\" :key=\"index\">\r\n        <vs-input\r\n          class=\"w-full mt-4\"\r\n          :label=\"item.name+'概率(%)'\"\r\n          v-model=\"item.probability\"\r\n          name=\"mendVipBillie\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"w-full mt-4 edit\">\r\n        <vs-input\r\n          class=\"w-full mt-4\"\r\n          label=\"创建时间\"\r\n          v-model=\"data_local.create_time\"\r\n          name=\"create_time\"\r\n        />\r\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('create_time')\">{{\r\n          errors.first(\"create_time\")\r\n        }}</span>\r\n      </div>\r\n\r\n    </div>\r\n    <!-- Save & Reset Button -->\r\n    <div class=\"vx-row\">\r\n      <div class=\"vx-col w-full\">\r\n        <div class=\"mt-8 flex flex-wrap items-center justify-end\">\r\n          <vs-button\r\n            class=\"ml-auto mt-2\"\r\n            @click=\"save_changes\"\r\n            :disabled=\"!validateForm\"\r\n            >保存</vs-button\r\n          >\r\n          <!-- <vs-button\r\n            class=\"ml-4 mt-2\"\r\n            type=\"border\"\r\n            color=\"warning\"\r\n            @click=\"reset_data\"\r\n            >重置</vs-button\r\n          > -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { AgGridVue } from \"ag-grid-vue\";\r\nimport vSelect from \"vue-select\";\r\n\r\nexport default {\r\n  components: {\r\n    vSelect,\r\n    AgGridVue,\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      date: \"2020-12-28\",\r\n      // Filter Options\r\n      roleFilter:{},\r\n      roleOptions: [\r\n        // { label: \"消费\", value: \"1\" },\r\n        // { label: \"工业\", value: \"2\" },\r\n        // { label: \"军规\", value: \"3\" },\r\n        // { label: \"受限\", value: \"4\" },\r\n        // { label: \"保密\", value: \"5\" },\r\n        // { label: \"隐秘\", value: \"6\" },\r\n        // { label: \"特殊\", value: \"7\" },\r\n      ],\r\n      boxTypeOptions:[],\r\n      boxTypeFilter:{},\r\n      roleFilter1: { label: \"正常\", value: \"1\" },\r\n      roleOptions1: [\r\n        { label: \"正常\", value: \"1\" },\r\n        { label: \"禁用\", value: \"2\" }\r\n      ],\r\n      battleOptions:[\r\n        { label: \"是\", value: \"1\" },\r\n        { label: \"否\", value: \"0\" }\r\n      ],\r\n      battleFilter:{},\r\n      data_local: JSON.parse(JSON.stringify(this.data)),\r\n      img_main:'',\r\n      img_active:'',\r\n      img_main_file:'',\r\n      img_active_file:'',\r\n      boxType:'',\r\n      skins_type:this.data.skins_type,//\r\n    };\r\n  },\r\n  computed: {\r\n    status_local: {\r\n      get() {\r\n        return {\r\n          label: this.capitalize(this.data_local.status),\r\n          value: this.data_local.status,\r\n        };\r\n      },\r\n      set(obj) {\r\n        this.data_local.status = obj.value;\r\n      },\r\n    },\r\n    role_local: {\r\n      get() {\r\n        return {\r\n          label: this.capitalize(this.data_local.role),\r\n          value: this.data_local.role,\r\n        };\r\n      },\r\n      set(obj) {\r\n        this.data_local.role = obj.value;\r\n      },\r\n    },\r\n    validateForm() {\r\n      return !this.errors.any();\r\n    },\r\n  },\r\n  methods: {\r\n    getBoxRarity() {\r\n      let _this = this;\r\n      _this.$axios({\r\n          url: \"/admin/Box/boxRarity\",\r\n          method: \"post\",\r\n          params: {},\r\n        }).then((res) => {\r\n          res.data.data.forEach((element) => {\r\n            element[\"value\"] = element[\"id\"];\r\n            element[\"label\"] = element[\"rarity_name\"];\r\n          });\r\n          _this.roleOptions = res.data.data;\r\n        });\r\n    },\r\n\r\n    getBoxType(){\r\n      let _this = this;\r\n      _this.$axios({\r\n          url: \"/admin/Box/getBoxType\",\r\n          method: \"post\",\r\n          params: {},\r\n        }).then((res) => {\r\n          res.data.data.forEach((element) => {\r\n            element[\"value\"] = element[\"id\"];\r\n            element[\"label\"] = element[\"type_name\"];\r\n            // console.log(element['id']);\r\n            if(_this.boxType == element[\"id\"]){\r\n                _this.boxTypeFilter = element;\r\n            }\r\n          });\r\n          _this.boxTypeOptions = res.data.data;\r\n        });\r\n    },\r\n\r\n    capitalize(str) {\r\n      return str.slice(0, 1).toUpperCase() + str.slice(1, str.length);\r\n    },\r\n    save_changes() {\r\n       // if (!this.validateForm) return;\r\n      let _this = this;\r\n      console.log(_this.skins_type);\r\n      let pramas = {\r\n        'box_id':_this.data_local.id,\r\n        'name':_this.data_local.name,\r\n        'img_main':_this.data_local.img_main,\r\n        'img_active':_this.data_local.img_active,\r\n        'price':_this.data_local.price,\r\n        'rarity':_this.roleFilter.value,\r\n        'flag':_this.roleFilter1.value,\r\n        'type':_this.boxTypeFilter.value,\r\n        'battle':_this.battleFilter.value,\r\n        'billie':_this.data_local.mendBillie,\r\n        'vip_billie':_this.data_local.mendVipBillie,\r\n        'skins_type':_this.skins_type\r\n      };\r\n      var forms = new FormData()\r\n      forms.append('data',JSON.stringify(pramas));\r\n      forms.append('img_main',_this.img_main_file);\r\n      forms.append('img_active',_this.img_active_file);\r\n      _this.$axios({\r\n          url: \"/admin/Box/editBox\",\r\n          method: \"post\",\r\n          data:forms,\r\n          headers:{'Content-Type':'multipart/form-data'}\r\n        }).then((res) => {\r\n          if(res.data.status == 1){\r\n            _this.$vs.notify({\r\n              title: '提示',\r\n              text: res.data.msg,\r\n              iconPack: 'feather',\r\n              icon: 'icon-alert-circle',\r\n              color: 'success'\r\n            })\r\n            _this.$emit('reload');\r\n          }else{\r\n            _this.$vs.notify({\r\n              title: '提示',\r\n              text: res.data.msg,\r\n              iconPack: 'feather',\r\n              icon: 'icon-alert-circle',\r\n              color: 'danger'\r\n            })\r\n          }\r\n        });\r\n    },\r\n    reset_data() {\r\n      this.data_local = JSON.parse(JSON.stringify(this.data));\r\n    },\r\n    update_main_img($e) {\r\n      console.log($e);\r\n      let file = $e.target.files[0];\r\n      console.log(file);\r\n      this.img_main_file = file;\r\n      var dataURL;\r\n      var windowURL = window.URL || window.webkitURL;\r\n      dataURL = windowURL.createObjectURL(file);\r\n      this.img_main = dataURL;\r\n      // You can update avatar Here\r\n      // For reference you can check dataList example\r\n      // We haven't integrated it here, because data isn't saved in DB\r\n    },\r\n    update_active_img($e) {\r\n      console.log($e);\r\n      let file = $e.target.files[0];\r\n      this.img_active_file = file;\r\n      var dataURL;\r\n      var windowURL = window.URL || window.webkitURL;\r\n      dataURL = windowURL.createObjectURL(file);\r\n      this.img_active = dataURL;\r\n    },\r\n  },\r\n  mounted(){\r\n    let _this = this;\r\n    _this.getBoxRarity();\r\n    _this.getBoxType();\r\n    _this.roleFilter = _this.data.roleFilter;\r\n    _this.boxType = _this.data.type;\r\n    _this.roleFilter1  = (_this.data.flag == 1) ? { label: \"正常\", value: \"1\" } : { label: \"禁用\", value: \"0\" };\r\n    _this.battleFilter = (_this.data.battle == 1) ? { label: \"是\", value: \"1\" } : { label: \"否\", value: \"0\" };\r\n    _this.img_main = _this.data.img_main;\r\n    _this.img_active = _this.data.img_active\r\n    // console.log(_this.data);\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.img_active, .img_main{\r\n  object-fit: cover;\r\n}\r\n.imgs-1{\r\n  display: flex;\r\n}\r\n.imgs-1 .w-full{\r\n  width:max-content!important;\r\n}\r\n.change{\r\n  margin-top: 20px;\r\n}\r\n.box_input{\r\n  justify-content: flex-start;\r\n}\r\n.box_input .edit{\r\n  width:calc(50% - 20px)!important;\r\n  margin: 0 10px 0 10px;\r\n}\r\n.edit .w-full {\r\n  margin-top: 0!important;\r\n}\r\n\r\n.box_input_1{\r\n  width:100%;\r\n  justify-content: flex-start;\r\n  /* margin-left: 20px; */\r\n}\r\n.box_input_1 .edit-1{\r\n    width: calc(50% - 20px)!important;\r\n    float: left;\r\n    margin-top: 0!important;\r\n}\r\n</style>\r\n"]}]}