{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\layouts\\components\\navbar\\components\\ProfileDropDown.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\src\\layouts\\components\\navbar\\components\\ProfileDropDown.vue","mtime":1620826038000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":1663908471338},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":1664268237964}],"contextDependencies":[],"result":["import firebase from 'firebase/app';\nimport 'firebase/auth';\nexport default {\n  data: function data() {\n    return {};\n  },\n  computed: {\n    activeUserInfo: function activeUserInfo() {\n      return this.$store.state.AppActiveUser;\n    }\n  },\n  methods: {\n    logout: function logout() {\n      var _this = this;\n\n      // if user is logged in via auth0\n      if (this.$auth.profile) this.$auth.logOut(); // if user is logged in via firebase\n\n      var firebaseCurrentUser = firebase.auth().currentUser;\n\n      if (firebaseCurrentUser) {\n        firebase.auth().signOut().then(function () {\n          _this.$router.push('/pages/login').catch(function () {});\n        });\n      } // If JWT login\n\n\n      if (localStorage.getItem('accessToken')) {\n        localStorage.removeItem('accessToken');\n        this.$router.push('/pages/login').catch(function () {});\n      } // Change role on logout. Same value as initialRole of acj.js\n\n\n      this.$acl.change('admin');\n      localStorage.removeItem('userInfo'); // This is just for demo Purpose. If user clicks on logout -> redirect\n\n      this.$router.push('/pages/login').catch(function () {});\n    }\n  }\n};",{"version":3,"mappings":"AAmEA;AACA;AAEA;EACAA,IADA,kBACA;IACA;EAGA,CALA;EAMAC;IACAC,cADA,4BACA;MACA;IACA;EAHA,CANA;EAWAC;IACAC,MADA,oBACA;MAAA;;MAEA;MACA,4CAHA,CAKA;;MACA;;MAEA;QACAC;UACA;QACA,CAFA;MAGA,CAZA,CAaA;;;MACA;QACAC;QACA;MACA,CAjBA,CAmBA;;;MACA;MACAA,oCArBA,CAuBA;;MACA;IACA;EA1BA;AAXA","names":["data","computed","activeUserInfo","methods","logout","firebase","localStorage"],"sourceRoot":"src/layouts/components/navbar/components","sources":["ProfileDropDown.vue"],"sourcesContent":["<template>\r\n  <div class=\"the-navbar__user-meta flex items-center\" v-if=\"activeUserInfo.displayName\">\r\n\r\n    <div class=\"text-right leading-tight hidden sm:block\">\r\n      <p class=\"font-semibold\">{{ activeUserInfo.displayName }}</p>\r\n      <small>Available</small>\r\n    </div>\r\n\r\n    <vs-dropdown vs-custom-content vs-trigger-click class=\"cursor-pointer\">\r\n\r\n      <div class=\"con-img ml-3\">\r\n        <img v-if=\"activeUserInfo.photoURL\" key=\"onlineImg\" :src=\"activeUserInfo.photoURL\" alt=\"user-img\" width=\"40\" height=\"40\" class=\"rounded-full shadow-md cursor-pointer block\" />\r\n      </div>\r\n\r\n      <vs-dropdown-menu class=\"vx-navbar-dropdown\">\r\n        <ul style=\"min-width: 9rem\">\r\n\r\n          <li\r\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\r\n            @click=\"$router.push('/pages/profile').catch(() => {})\">\r\n            <feather-icon icon=\"UserIcon\" svgClasses=\"w-4 h-4\" />\r\n            <span class=\"ml-2\">Profile</span>\r\n          </li>\r\n\r\n          <li\r\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\r\n            @click=\"$router.push('/apps/email').catch(() => {})\">\r\n            <feather-icon icon=\"MailIcon\" svgClasses=\"w-4 h-4\" />\r\n            <span class=\"ml-2\">Inbox</span>\r\n          </li>\r\n\r\n          <li\r\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\r\n            @click=\"$router.push('/apps/todo').catch(() => {})\">\r\n            <feather-icon icon=\"CheckSquareIcon\" svgClasses=\"w-4 h-4\" />\r\n            <span class=\"ml-2\">Tasks</span>\r\n          </li>\r\n\r\n          <li\r\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\r\n            @click=\"$router.push('/apps/chat').catch(() => {})\">\r\n            <feather-icon icon=\"MessageSquareIcon\" svgClasses=\"w-4 h-4\" />\r\n            <span class=\"ml-2\">Chat</span>\r\n          </li>\r\n\r\n          <li\r\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\r\n            @click=\"$router.push('/apps/eCommerce/wish-list').catch(() => {})\">\r\n            <feather-icon icon=\"HeartIcon\" svgClasses=\"w-4 h-4\" />\r\n            <span class=\"ml-2\">Wish List</span>\r\n          </li>\r\n\r\n          <vs-divider class=\"m-1\" />\r\n\r\n          <li\r\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\r\n            @click=\"logout\">\r\n            <feather-icon icon=\"LogOutIcon\" svgClasses=\"w-4 h-4\" />\r\n            <span class=\"ml-2\">退出</span>\r\n          </li>\r\n        </ul>\r\n      </vs-dropdown-menu>\r\n    </vs-dropdown>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    activeUserInfo () {\r\n      return this.$store.state.AppActiveUser\r\n    }\r\n  },\r\n  methods: {\r\n    logout () {\r\n\r\n      // if user is logged in via auth0\r\n      if (this.$auth.profile) this.$auth.logOut()\r\n\r\n      // if user is logged in via firebase\r\n      const firebaseCurrentUser = firebase.auth().currentUser\r\n\r\n      if (firebaseCurrentUser) {\r\n        firebase.auth().signOut().then(() => {\r\n          this.$router.push('/pages/login').catch(() => {})\r\n        })\r\n      }\r\n      // If JWT login\r\n      if (localStorage.getItem('accessToken')) {\r\n        localStorage.removeItem('accessToken')\r\n        this.$router.push('/pages/login').catch(() => {})\r\n      }\r\n\r\n      // Change role on logout. Same value as initialRole of acj.js\r\n      this.$acl.change('admin')\r\n      localStorage.removeItem('userInfo')\r\n\r\n      // This is just for demo Purpose. If user clicks on logout -> redirect\r\n      this.$router.push('/pages/login').catch(() => {})\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}