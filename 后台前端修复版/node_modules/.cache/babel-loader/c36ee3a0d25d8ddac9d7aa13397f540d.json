{"remainingRequest":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\pages\\user-settings\\Background.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\pages\\user-settings\\Background.vue","mtime":1620826038000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\babel.config.js","mtime":1620826038000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      dataImg: '',\n      imgId: '',\n      imgFile: ''\n    };\n  },\n  methods: {\n    getImg: function getImg() {\n      var _this = this;\n\n      _this.$axios({\n        url: '/admin/Setting/getImg',\n        method: \"post\",\n        data: {} // headers:{'Content-Type':'multipart/form-data'}\n\n      }).then(function (res) {\n        if (res.data.status == 1) {\n          _this.dataImg = res.data.data.img;\n          _this.imgId = res.data.data.id;\n        } else {\n          _this.dataImg = '';\n        }\n      });\n    },\n    updateCurrImg: function updateCurrImg(input) {\n      var _this2 = this;\n\n      if (input.target.files && input.target.files[0]) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          _this2.dataImg = e.target.result; // this.robot.img = e.target.result;\n\n          _this2.imgFile = input.target.files[0];\n\n          _this2.addBackground(_this2.imgFile);\n        };\n\n        reader.readAsDataURL(input.target.files[0]);\n      }\n    },\n    addBackground: function addBackground(file) {\n      var _this = this;\n\n      var forms = new FormData();\n      console.log(file);\n      forms.append('file', file);\n\n      _this.$axios({\n        url: '/admin/Setting/addBackground',\n        method: \"post\",\n        data: forms,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(function (res) {\n        if (res.data.status == 1) {\n          _this.getImg();\n\n          _this.notify('success', res.data.msg);\n        } else {\n          _this.notify('danger', res.data.msg);\n        }\n      });\n    },\n    del: function del() {\n      var _this = this;\n\n      _this.$axios({\n        url: '/admin/Setting/del',\n        method: \"post\",\n        data: {\n          id: _this.imgId\n        }\n      }).then(function (res) {\n        if (res.data.status == 1) {\n          _this.notify('success', res.data.msg);\n\n          _this.getImg();\n        } else {\n          _this.notify('danger', res.data.msg);\n        }\n      });\n    },\n    notify: function notify(status, msg) {\n      this.$vs.notify({\n        title: '提示',\n        text: msg,\n        iconPack: 'feather',\n        icon: 'icon-alert-circle',\n        color: status\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getImg();\n  }\n};",{"version":3,"sources":["Background.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <!-- Product Image -->\r\n        <template v-if=\"dataImg\">\r\n          <!-- Image Container -->\r\n          <div class=\"img-container w-64 mx-auto flex items-center justify-center\">\r\n            <img :src=\"dataImg\" alt=\"img\" class=\"responsive\">\r\n          </div>\r\n\r\n          <!-- Image upload Buttons -->\r\n          <div class=\"modify-img flex justify-between mt-5\">\r\n            <input type=\"file\" class=\"hidden\" ref=\"updateImgInput\" @change=\"updateCurrImg\" accept=\"image/*\">\r\n            <vs-button class=\"mr-4\" type=\"flat\" @click=\"$refs.updateImgInput.click()\">上传图片</vs-button>\r\n            <vs-button type=\"flat\" color=\"#999\" @click=\"del()\">删除图片</vs-button>\r\n          </div>\r\n        </template>\r\n        <div class=\"upload-img mt-5\" v-if=\"!dataImg\">\r\n          <input type=\"file\" class=\"hidden\" ref=\"uploadImgInput\" @change=\"updateCurrImg\" accept=\"image/*\">\r\n          <vs-button @click=\"$refs.uploadImgInput.click()\">上传图片</vs-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            dataImg:'',\r\n            imgId:'',\r\n            imgFile:''\r\n        }\r\n    },\r\n    methods:{\r\n        getImg(){\r\n            let _this = this;\r\n            _this.$axios({\r\n            url: '/admin/Setting/getImg',\r\n            method: \"post\",\r\n            data:{},\r\n            // headers:{'Content-Type':'multipart/form-data'}\r\n            }).then((res) => {\r\n                if(res.data.status == 1){\r\n                _this.dataImg = res.data.data.img;\r\n                _this.imgId   = res.data.data.id;\r\n                }else{\r\n                    _this.dataImg = '';\r\n                }\r\n            });\r\n        },\r\n        updateCurrImg (input) {\r\n            if (input.target.files && input.target.files[0]) {\r\n                const reader = new FileReader()\r\n                reader.onload = e => {\r\n                this.dataImg = e.target.result;\r\n                // this.robot.img = e.target.result;\r\n                this.imgFile = input.target.files[0];\r\n                this.addBackground(this.imgFile);\r\n                }\r\n                reader.readAsDataURL(input.target.files[0])\r\n            }\r\n            \r\n        },\r\n        addBackground(file){\r\n            let _this = this;\r\n            var forms = new FormData();\r\n            console.log(file);\r\n            forms.append('file',file);\r\n            _this.$axios({\r\n                url: '/admin/Setting/addBackground',\r\n                method: \"post\",\r\n                data:forms,\r\n                headers:{'Content-Type':'multipart/form-data'}\r\n                }).then((res) => {\r\n                if(res.data.status == 1){\r\n                    _this.getImg();\r\n                    _this.notify('success',res.data.msg)\r\n                }else{\r\n                    _this.notify('danger',res.data.msg)\r\n                }\r\n            });\r\n        },\r\n        del(){\r\n            let _this = this;\r\n            _this.$axios({\r\n            url: '/admin/Setting/del',\r\n            method: \"post\",\r\n            data:{\r\n                id:_this.imgId\r\n            },\r\n            }).then((res) => {\r\n                if(res.data.status == 1){\r\n                    _this.notify('success',res.data.msg)\r\n                    _this.getImg();\r\n                }else{\r\n                    _this.notify('danger',res.data.msg)\r\n                }\r\n            });\r\n        },\r\n        notify(status,msg){\r\n            this.$vs.notify({\r\n                title: '提示',\r\n                text: msg,\r\n                iconPack: 'feather',\r\n                icon: 'icon-alert-circle',\r\n                color: status\r\n            })\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getImg();\r\n    }\r\n}\r\n</script>"],"sourceRoot":"src/views/pages/user-settings"}]}