{"remainingRequest":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\pages\\user-settings\\GameSetOpen.vue?vue&type=style&index=1&id=fc22ac0a&lang=css&","dependencies":[{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\pages\\user-settings\\GameSetOpen.vue","mtime":1621601700000},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\css-loader\\index.js","mtime":1664268236894},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1664268237964},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\postcss-loader\\src\\index.js","mtime":1664268237567},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":1664268237964}],"contextDependencies":[],"result":["\r\n.v-h span{\r\n  visibility: hidden;\r\n}\r\n\r\n.game-table  th > .vs-table-text{\r\n  white-space: nowrap;\r\n}\r\n",{"version":3,"sources":["GameSetOpen.vue"],"names":[],"mappings":";AA2RA;AACA;AACA;;AAEA;AACA;AACA","file":"GameSetOpen.vue","sourceRoot":"src/views/pages/user-settings","sourcesContent":["<template>\r\n  <div class=\"table-set\">\r\n    <del-frame :delValide=\"delValide\" @closeDel=\"isDel\" :delStatus='delStatus' :delMsg='delMsg'></del-frame>\r\n    <editer-game\r\n      :isSidebarActive=\"addNewDataSidebar\"\r\n      @closeSidebar=\"toggleDataSidebar\"\r\n      @reload='getList'\r\n      :data=\"sidebarData\"\r\n    />\r\n\r\n    <!-- <vx-card code-toggler> -->\r\n\r\n      <!-- ITEMS PER PAGE -->\r\n      <vs-dropdown vs-trigger-click class=\"cursor-pointer mb-4 mr-4 items-per-page-handler\" >\r\n        <!-- <div class=\"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\">\r\n            <span class=\"mr-2\">{{ currentPage * pageSize - (pageSize - 1) }} - {{  currentPage * pageSize }} of {{ total }}</span>\r\n            <feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" />\r\n        </div> -->\r\n        <vs-dropdown-menu>\r\n            <vs-dropdown-item @click=\"pageSize=10\">\r\n            <span>10</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=20\">\r\n            <span>20</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=30\">\r\n            <span>30</span>\r\n            </vs-dropdown-item>\r\n            <vs-dropdown-item @click=\"pageSize=50\">\r\n            <span>50</span>\r\n            </vs-dropdown-item>\r\n        </vs-dropdown-menu>\r\n      </vs-dropdown>\r\n\r\n      <div class=\"vx-card p-6\">\r\n        <div class=\"flex flex-wrap items-center\">\r\n          <!-- <vs-button class=\"mb-4 md:mb-0\" @click=\"gridApi.exportDataAsCsv()\">Export as CSV</vs-button> -->\r\n          <vs-button @click=\"addNewData\">添加</vs-button>\r\n        </div>\r\n      </div>\r\n\r\n      <vs-table stripe :data=\"set\" class=\"game-table\">\r\n        <template slot=\"thead\">\r\n            <vs-th>类型</vs-th>\r\n            <vs-th>下限(%)</vs-th>\r\n            <vs-th>上限(%)</vs-th>\r\n            <vs-th>1段概率(默认20%)</vs-th>\r\n            <vs-th>1段饰品价格比(盲盒价格*比例)</vs-th>\r\n\r\n            <vs-th>2段概率(默认30%)</vs-th>\r\n            <vs-th>2段饰品价格比</vs-th>\r\n\r\n            <vs-th>3段概率(默认40%)</vs-th>\r\n            <vs-th>3段饰品价格比</vs-th>\r\n            \r\n            <vs-th>次数限定(默认500)</vs-th>\r\n            <vs-th>3段回升最大比(默认50%)</vs-th>\r\n\r\n            <vs-th>充值回升金额比(默认30%)</vs-th>\r\n            <vs-th>回升大件概率(默认30%)</vs-th>\r\n            <vs-th>回升饰品价格比(盲盒价格*比例)</vs-th>\r\n            <vs-th>操作</vs-th>\r\n        </template>\r\n\r\n        <template slot-scope=\"{ data }\">\r\n          <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n            <vs-td>\r\n                {{ tr.type == \"ordinary\" ? \"普通\" : (tr.type == \"group\" ? \"概率组\": (tr.type == \"vip\" ? \"Vip\" : \"未知\")) }}\r\n            </vs-td>\r\n            <vs-td class=\"key\">\r\n                {{ tr.min_percent }}%\r\n            </vs-td>\r\n              <vs-td class=\"key\">\r\n                <!-- {{ tr.max_percent }}% -->\r\n                {{tr.max_percent > 0 ? tr.max_percent + \"%\" : \"不限制\"}}\r\n            </vs-td>\r\n            <vs-td class=\"key\">\r\n                {{ tr.bili1 > 0 ? tr.bili1 : \"20.00\" }}%\r\n            </vs-td>\r\n            <vs-td class=\"key\">\r\n                {{ tr.percent1 }}%\r\n            </vs-td>\r\n\r\n            <vs-td class=\"key\" :class=\"tr.max_percent <= 0 ? 'v-h' : ''\">\r\n                {{ tr.bili2 > 0 ? tr.bili2 : \"30.00\" }}%\r\n            </vs-td>\r\n            <vs-td class=\"key\" :class=\"tr.max_percent <= 0 ? 'v-h' : ''\">\r\n                {{ tr.percent2 }}%\r\n            </vs-td>\r\n\r\n            <vs-td class=\"key\" :class=\"tr.max_percent <= 0 ? 'v-h' : ''\">\r\n                {{ tr.bili3 > 0 ? tr.bili3 : \"40.00\" }}%\r\n            </vs-td>\r\n            <vs-td class=\"key\" :class=\"tr.max_percent <= 0 ? 'v-h' : ''\">\r\n                {{ tr.percent3 }}%\r\n            </vs-td>\r\n            \r\n             <vs-td class=\"key\" :class=\"tr.max_percent <= 0 ? 'v-h' : ''\">\r\n                {{ tr.limit_times > 0 ? tr.limit_times : 500 }}\r\n            </vs-td>\r\n            <vs-td class=\"key\" :class=\"tr.max_percent <= 0 ? 'v-h' : ''\">\r\n                {{ tr.up_percent > 0 ? tr.up_percent : 50 }}%\r\n            </vs-td>\r\n\r\n            <vs-td class=\"key\" :class=\"tr.max_percent <= 0 ? 'v-h' : ''\">\r\n                {{ tr.recharge_up_percent > 0 ? tr.recharge_up_percent : 30 }}%\r\n            </vs-td>\r\n            <vs-td class=\"key\" :class=\"tr.max_percent <= 0 ? 'v-h' : ''\">\r\n                {{ tr.bili4 > 0 ? tr.bili4 : \"30.00\" }}%\r\n            </vs-td>\r\n            <vs-td class=\"key\" :class=\"tr.max_percent <= 0 ? 'v-h' : ''\">\r\n                {{ tr.percent4 }}%\r\n            </vs-td>\r\n\r\n            <vs-td>\r\n              <!-- <vs-button color=\"danger\" @click=\"rem(tr.id)\">删除</vs-button> -->\r\n              <div :style=\"{'direction': $vs.rtl ? 'rtl' : 'ltr'}\" class=\"opp\">\r\n                <feather-icon icon=\"Edit3Icon\" svgClasses=\"h-5 w-5 mr-4 hover:text-primary cursor-pointer\" @click=\"toEdit(tr)\" />\r\n                <feather-icon icon=\"Trash2Icon\" svgClasses=\"h-5 w-5 hover:text-danger cursor-pointer\" @click=\"Delete(tr.id)\" />\r\n              </div>\r\n            </vs-td>\r\n          </vs-tr>\r\n        </template>\r\n      </vs-table>\r\n    <!-- </vx-card> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EditerGame from \"./EditerGame.vue\";\r\nimport DelFrame from \"@/components/DelFrame.vue\"\r\nexport default {\r\n  components: {\r\n    EditerGame,\r\n    DelFrame\r\n  },\r\n  data() {\r\n    return {\r\n      addNewDataSidebar: false,\r\n      sidebarData: {},\r\n\r\n      set: [],\r\n      total:0,\r\n      totalPages:0,\r\n      currentPage:1,\r\n      pageSize:10,\r\n      //删除------ + isDel方法\r\n      delValide:false,\r\n      delStatus:0,\r\n      del_id:'',\r\n      delMsg:'',\r\n      //----------\r\n      model:'open'\r\n    };\r\n  },\r\n  computed: {},\r\n  watch:{\r\n    \"currentPage\":{\r\n      handler(val){\r\n        this.getList();\r\n      }\r\n    },\r\n    \"pageSize\":{\r\n      handler(val){\r\n        this.getList();\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    getList(){\r\n      let _this = this;\r\n      _this.$axios({\r\n          url: \"/admin/Setting/gameSetList\",\r\n          method: \"post\",\r\n          data:{\r\n            page:_this.currentPage,\r\n            pageSize:_this.pageSize,\r\n            model:_this.model\r\n          },\r\n        }).then((res) => {\r\n          if(res.data.status == 1){\r\n              _this.set = res.data.data.list;\r\n              _this.total = res.data.data.total;\r\n              _this.totalPages = _this.pageTotal(_this.total,_this.pageSize);\r\n          }else{\r\n             _this.set = [];\r\n          }\r\n        });\r\n    },\r\n    //\"总条数\"：rowCount，\"每页总条数\"：pageSize\r\n    pageTotal(rowCount, pageSize) {\r\n      if (rowCount == null || rowCount == \"\") {\r\n        return 0;\r\n      } else {\r\n        if (pageSize != 0 && rowCount % pageSize == 0) {\r\n          return parseInt(rowCount / pageSize)\r\n        }\r\n        if (pageSize != 0 && rowCount % pageSize != 0) {\r\n          return parseInt(rowCount / pageSize) + 1;\r\n        }\r\n      }\r\n    },\r\n    toEdit(row){\r\n      // console.log(row);\r\n      this.sidebarData = row;\r\n      this.sidebarData.model = this.model;\r\n      this.toggleDataSidebar(true);\r\n    },\r\n    //添加分组\r\n    addNewData() {\r\n      this.sidebarData = {};\r\n      this.sidebarData.model = this.model;\r\n      this.toggleDataSidebar(true);\r\n    },\r\n    toggleDataSidebar(val = false) {\r\n      this.addNewDataSidebar = val;\r\n    }, \r\n    //删除\r\n    Delete(id) {\r\n      let _this = this;\r\n       _this.del_id = id;\r\n      _this.closeDel();\r\n    },\r\n    closeDel(){\r\n      let _this = this;\r\n      _this.delValide = true;\r\n    },\r\n    isDel(val = false){\r\n      if(val){\r\n        let _this = this;\r\n        _this.$axios({\r\n          url: \"/admin/Setting/delGameSet\",\r\n          method: \"post\",\r\n          data:{\r\n            id:_this.del_id,\r\n            model:_this.model\r\n          },\r\n        }).then(res => {\r\n          if(res.data.status == 1){\r\n            _this.getList();\r\n            _this.delStatus = 1;\r\n          }else{\r\n            _this.delStatus = 2;\r\n            _this.delMsg = res.data.msg\r\n          }\r\n        })\r\n      }\r\n    },\r\n  },\r\n  mounted(){\r\n    this.getList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.robot-img{\r\n  height: 50px;\r\n  width: 50px;\r\n  object-fit: cover;\r\n}\r\n.vx-card .vx-card__header{\r\n  display: none;\r\n}\r\n.vs-tabs--content{\r\n    padding: 0!important;\r\n}\r\n\r\n.table-set{\r\n    padding:0px 0 20px 0!important;\r\n    background: #fff;\r\n    margin-top: 0!important;\r\n}\r\n\r\n.opp{\r\n    display: flex;\r\n}\r\n.key{\r\n  max-width: 200px;\r\n  overflow: auto;\r\n}\r\n</style>\r\n<style>\r\n.v-h span{\r\n  visibility: hidden;\r\n}\r\n\r\n.game-table  th > .vs-table-text{\r\n  white-space: nowrap;\r\n}\r\n</style>\r\n"]}]}