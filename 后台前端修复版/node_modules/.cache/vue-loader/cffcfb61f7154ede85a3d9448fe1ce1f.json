{"remainingRequest":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\apps\\user\\user-edit\\UserEditTabAccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\src\\views\\apps\\user\\user-edit\\UserEditTabAccount.vue","mtime":1651825841200},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\babel-loader\\lib\\index.js","mtime":1663908471338},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664268236462},{"path":"D:\\Program Files (x86)\\wechat\\WeChat Files\\wxid_ue0ca48wn2m522\\FileStorage\\File\\2022-09\\盲盒源码\\后台前端\\node_modules\\vue-loader\\lib\\index.js","mtime":1664268237964}],"contextDependencies":[],"result":["\nimport { AgGridVue } from \"ag-grid-vue\";\nimport vSelect from \"vue-select\";\n\nexport default {\n  components: {\n    vSelect,\n    AgGridVue,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      file:'',\n      player_id:'',\n      data_local: JSON.parse(JSON.stringify(this.data)),\n\n      statusOptions: [\n        { label: \"Active\", value: \"active\" },\n        { label: \"Blocked\", value: \"blocked\" },\n        { label: \"Deactivated\", value: \"deactivated\" },\n      ],\n      roleOptions: [\n        { label: \"Admin\", value: \"admin\" },\n        { label: \"User\", value: \"user\" },\n        { label: \"Staff\", value: \"staff\" },\n      ],\n      groupOptions:[\n        { label: \"普通\", value: \"0\" },\n        { label: \"概率组\", value: \"1\" },\n        { label: \"VIP\", value: \"2\" },\n      ],\n      vipOptions:[\n        { label: \"是\", value: \"1\" },\n        { label: \"否\", value: \"0\" },\n      ],\n      allowOptions:[\n        { label: \"允许\", value: \"1\" },\n        { label: \"禁止\", value: \"2\" },\n      ],\n      anchorOptions:[\n        { label: \"是\", value: \"1\" },\n        { label: \"否\", value: \"0\" },\n      ],\n      unionOptions:[],\n\n      //表格\n      defaultColDef: {\n        sortable: false,\n        resizable: false,\n        suppressMenu: false,\n      },\n      usersData:[{id:1,role:\"20%\",status:\"删除\",username:\"111\"}],\n\n      columnDefs: [\n        {\n          headerName: \"箱子名称\",\n          field: \"id\",\n          width: 125,\n          filter: true,\n        },\n        {\n          headerName: \"箱子图片\",\n          field: \"username\",\n          filter: true,\n          width: 300,\n        },\n        {\n          headerName: \"饰品名称\",\n          field: \"email\",\n          filter: true,\n          width: 225,\n        },\n        {\n          headerName: \"饰品图片\",\n          field: \"name\",\n          filter: true,\n          width: 300,\n        },\n        {\n          headerName: \"饰品等级\",\n          field: \"country\",\n          filter: true,\n          width: 150,\n        },\n        {\n          headerName: \"额外概率\",\n          field: \"role\",\n          filter: true,\n          width: 150,\n        },\n        {\n          headerName: \"操作\",\n          field: \"status\",\n          filter: true,\n          width: 150,\n         // cellRendererFramework: \"CellRendererStatus\",\n        },\n      ],\n    };\n  },\n  computed: {\n    status_local: {\n      get() {\n        return {\n          label: this.capitalize(this.data_local.status),\n          value: this.data_local.status,\n        };\n      },\n      set(obj) {\n        this.data_local.status = obj.value;\n      },\n    },\n    role_local: {\n      get() {\n        return {\n          label: this.capitalize(this.data_local.role),\n          value: this.data_local.role,\n        };\n      },\n      set(obj) {\n        this.data_local.role = obj.value;\n      },\n    },\n    validateForm() {\n      return !this.errors.any();\n    },\n  },\n  watch:{\n    'file':{\n      handler(val){\n        if(val){\n          this.edit()\n        }\n      }\n    }\n  },\n  methods: {\n    getUnion(){\n      let _this = this;\n      _this.$axios({\n        url: '/admin/User/getUnion',\n        method: \"post\"\n      }).then(res=>{\n        console.log(res);\n        if(res.data.status == 1){\n          _this.unionOptions = res.data.data.list;\n          console.log(_this.unionOptions);\n        }else{\n          _this.unionOptions = [];\n        }\n      })\n    },\n    edit(){\n      let _this = this;\n      var form = new FormData();\n      form.append('id',_this.player_id);\n      form.append('file',_this.file);\n      _this.$axios({\n            url: '/admin/User/editHeadImage',\n            method: \"post\",\n            headers:{'Content-Type':'multipart/form-data'},\n            data:form,\n        }).then((res) => {\n            if(res.data.status == 1){\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'success'\n                })\n                this.$emit(\"closeSidebar\");\n                this.$emit(\"reload\");\n                // this.initValues();\n            }else{\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'danger'\n                })\n            }\n        });\n    },\n    capitalize(str) {\n      return str.slice(0, 1).toUpperCase() + str.slice(1, str.length);\n    },\n    save_changes() {\n      //只修改用户是否为概率组和VIP\n      // console.log(this.data_local.group);\n      let _this = this;\n      _this.data.allow = _this.data_local.allow;\n      _this.data.group = _this.data_local.group;\n      _this.data.group_vip = _this.data_local.group_vip;\n      _this.data.invite_code = _this.data_local.invite_code;\n      _this.data.tradeUrl = _this.data_local.tradeUrl;\r\n\t  _this.data.lxdh = _this.data_local.lxdh;\r\n\t  _this.data.lxpeople = _this.data_local.lxpeople;\n      _this.data.extra_gift_recharge = _this.data_local.extra_gift_recharge;\n      _this.data.union = _this.data_local.union;\n      _this.data.anchor = _this.data_local.anchor;\n      _this.$axios({\n            url: '/admin/User/editGroup',\n            method: \"post\",\n            data:{\n              player_id:_this.player_id,\n              group:_this.data_local.group,\n              group_vip:_this.data_local.group_vip,\n              invite_code:_this.data.invite_code,\n              allow:_this.data_local.allow,\n              tradeUrl:_this.data_local.tradeUrl,\r\n\t\t\t  lxdh:_this.data_local.lxdh,\r\n\t\t\t  lxpeople:_this.data_local.lxpeople,\n              extra_gift_recharge:_this.data_local.extra_gift_recharge,\n              union:_this.data_local.union,\n              anchor:_this.data_local.anchor,\n              total_amount: _this.data_local.total_amount\n            },\n        }).then((res) => {\n            if(res.data.status == 1){\n              _this.data.group = _this.data_local.group;\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'success'\n                })\n                this.$emit(\"closeSidebar\");\n                this.$emit(\"reload\");\n                // this.initValues();\n            }else{\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'danger'\n                })\n            }\n        });\n    },\n    reset_data() {\n      this.data_local = JSON.parse(JSON.stringify(this.data));\n    },\n    update_avatar(input) {\n      if (input.target.files && input.target.files[0]) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          this.data.img = e.target.result;\n        };\n        reader.readAsDataURL(input.target.files[0]);\n        this.file = input.target.files[0];\n      }\n    },\n  },\n  mounted(){\n    this.player_id = this.data.id;\n    this.getUnion();\n  }\n};\n",{"version":3,"sources":["UserEditTabAccount.vue"],"names":[],"mappings":";AAoRA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserEditTabAccount.vue","sourceRoot":"src/views/apps/user/user-edit","sourcesContent":["\n<template>\n  <div id=\"user-edit-tab-info\">\n    <!-- Avatar Row -->\n    <div class=\"vx-row\">\n      <div class=\"vx-col w-full\">\n        <div class=\"flex items-start flex-col sm:flex-row\">\n          <img :src=\"data.img\" class=\"mr-8 rounded h-24 w-24\" />\n          <!-- <vs-avatar :src=\"data.avatar\" size=\"80px\" class=\"mr-4\" /> -->\n          <div style=\"margin-top: 25px;\">\n            <input\n              type=\"file\"\n              class=\"hidden\"\n              ref=\"update_avatar_input\"\n              @change=\"update_avatar\"\n              accept=\"image/*\"\n            />\n\n            <!-- Toggle comment of below buttons as one for actual flow & currently shown is only for demo -->\n            <!-- <vs-button class=\"mr-4 mb-4\">更换头像</vs-button> -->\n            <vs-button class=\"mr-4 mb-4\" @click=\"$refs.update_avatar_input.click()\">更换头像</vs-button>\n            <!-- <vs-button type=\"border\" color=\"danger\">Remove Avatar</vs-button> -->\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Content Row -->\n    <div class=\"vx-row\">\n      <div class=\"vx-col md:w-1/2 w-full\">\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"昵称\"\n          v-model=\"data_local.name\"\n          v-validate=\"'required|alpha_num'\"\n          name=\"data_local.name\"\n          disabled\n        />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('username')\">{{\n          errors.first(\"username\")\n        }}</span>\n\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"邀请码\"\n          v-model=\"data_local.invite_code\"\n          type=\"email\"\n          name=\"data_local.invite_code\"\n        />\n\n        <vs-select\n          v-model=\"data_local.group\"\n          label=\"用户身份\"\n          class=\"mt-4 w-full\"\n          name=\"item-category\"\n        >\n          <vs-select-item\n            :key=\"item.value\"\n            :value=\"item.value\"\n            :text=\"item.label\"\n            v-for=\"item in groupOptions\"\n          />\n        </vs-select>\n\n        <vs-select\n          v-model=\"data_local.allow\"\n          label=\"取回状态\"\n          class=\"mt-4 w-full\"\n          name=\"item-category\"\n        >\n          <vs-select-item\n            :key=\"item.value\"\n            :value=\"item.value\"\n            :text=\"item.label\"\n            v-for=\"item in allowOptions\"\n          />\n        </vs-select>\n\n        <vs-select\n          v-model=\"data_local.union\"\n          label=\"工会名称\"\n          class=\"mt-4 w-full\"\n          name=\"item-category\"\n        >\n        <vs-select-item key=\"0\" value=\"0\" text=\"请选择\" checked disabled/>\n          <vs-select-item\n            :key=\"item.id\"\n            :value=\"item.id\"\n            :text=\"item.name\"\n            v-for=\"item in unionOptions\"\n          />\n        </vs-select>\n\n         <vs-select\n          v-model=\"data_local.anchor\"\n          label=\"是否为主播\"\n          class=\"mt-4 w-full\"\n          name=\"item-category\"\n        >\n          <vs-select-item\n            :key=\"item.value\"\n            :value=\"item.value\"\n            :text=\"item.label\"\n            v-for=\"item in anchorOptions\"\n          />\n        </vs-select>\n\n        <!-- <span class=\"text-danger text-sm\" v-show=\"errors.has('invite_code')\">{{\n          errors.first(\"invite_code\")\n        }}</span> -->\n      </div>\n\n      <div class=\"vx-col md:w-1/2 w-full\">\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"邮箱\"\n          v-model=\"data_local.email\"\n          type=\"email\"\n          v-validate=\"'required'\"\n          name=\"email\"\n          disabled\n        />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('email')\">{{\n          errors.first(\"email\")\n        }}</span>\n\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"余额\"\n          v-model=\"data_local.total_amount\"\n          v-validate=\"'required'\"\n          name=\"total_amount\"\n        />\n        <!-- <span class=\"text-danger text-sm\" v-show=\"errors.has('total_amount')\">{{\n          errors.first(\"total_amount\")\n        }}</span> -->\n\t\t\r\n\t\t<vs-input\r\n\t\t  class=\"w-full mt-4\"\r\n\t\t  label=\"收货人\"\r\n\t\t  v-model=\"data_local.lxpeople\"\r\n\t\t  name=\"lxpeople\"\r\n\t\t/>\r\n\t\t<span class=\"text-danger text-sm\" v-show=\"errors.has('lxpeople')\">{{\r\n\t\t  errors.first(\"lxpeople\")\r\n\t\t}}</span>\r\n\t\t\n\t\t<vs-input\r\n\t\t  class=\"w-full mt-4\"\r\n\t\t  label=\"联系电话\"\r\n\t\t  v-model=\"data_local.lxdh\"\r\n\t\t  name=\"lxdh\"\r\n\t\t/>\r\n\t\t<span class=\"text-danger text-sm\" v-show=\"errors.has('lxdh')\">{{\r\n\t\t  errors.first(\"lxdh\")\r\n\t\t}}</span>\r\n\t\t\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"收货地址\"\n          v-model=\"data_local.tradeUrl\"\n          name=\"tradeUrl\"\n        />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('tradeUrl')\">{{\n          errors.first(\"tradeUrl\")\n        }}</span>\r\n\t\t\n\n\n        <!-- <vs-select\n          v-model=\"data_local.group_vip\"\n          label=\"是否Vip用户\"\n          class=\"mt-5 w-full\"\n          name=\"item-category\"\n        >\n          <vs-select-item\n            :key=\"item.value\"\n            :value=\"item.value\"\n            :text=\"item.label\"\n            v-for=\"item in vipOptions\"\n          />\n        </vs-select> -->\n\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"下线充值额外加赠(%)\"\n          v-model=\"data_local.extra_gift_recharge\"\n          name=\"extra_gift_recharge\"\n          v-if=\"data_local.group == 1\"\n        />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('extra_gift_recharge')\">{{\n          errors.first(\"extra_gift_recharge\")\n        }}</span>\n\n\n         <vs-input\n          class=\"w-full mt-4\"\n          label=\"创建时间\"\n          draggable=\"true\"\n          v-model=\"data_local.create_time\"\n          v-validate=\"'alpha_spaces'\"\n          name=\"create_time\"\n          disabled\n        />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('create_time')\">{{\n          errors.first(\"create_time\")\n        }}</span>\n\n        <vs-input\n          class=\"w-full mt-4\"\n          label=\"上级用户昵称\"\n          v-model=\"data_local.inviter_name\"\n          name=\"inviter_name\"\n          disabled\n        />\n      </div>\n    </div>\n\n\n\n    <!-- Permissions -->\n    <!-- <vx-card class=\"mt-base\" no-shadow card-border>\n      <div class=\"vx-row\">\n        <div class=\"vx-col w-full\">\n          <div class=\"flex items-end px-3\">\n            <feather-icon svgClasses=\"w-6 h-6\" icon=\"LockIcon\" class=\"mr-2\" />\n            <span class=\"font-medium text-lg leading-none\">已额外设置概率</span>\n          </div>\n          <vs-divider />\n        </div>\n      </div>\n\n      <div class=\"block overflow-x-auto\">\n        <ag-grid-vue\n\n\n          class=\"ag-theme-material w-100 my-4 ag-grid-table \"\n          :columnDefs=\"columnDefs\"\n          :defaultColDef=\"defaultColDef\"\n          :rowData=\"usersData\"\n          rowSelection=\"multiple\"\n          colResizeDefault=\"shift\"\n          :animateRows=\"false\"\n          :floatingFilter=\"false\"\n          :pagination=\"false\"\n          :suppressPaginationPanel=\"false\"\n        >\n        </ag-grid-vue>\n      </div>\n    </vx-card> -->\n\n    <!-- Save & Reset Button -->\n    <div class=\"vx-row\">\n      <div class=\"vx-col w-full\">\n        <div class=\"mt-8 flex flex-wrap items-center justify-end\">\n          <vs-button\n            class=\"ml-auto mt-2\"\n            @click=\"save_changes\"\n            :disabled=\"!validateForm\"\n            >保存</vs-button\n          >\n          <!-- <vs-button\n            class=\"ml-4 mt-2\"\n            type=\"border\"\n            color=\"warning\"\n            @click=\"reset_data\"\n            >重置</vs-button\n          > -->\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { AgGridVue } from \"ag-grid-vue\";\nimport vSelect from \"vue-select\";\n\nexport default {\n  components: {\n    vSelect,\n    AgGridVue,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      file:'',\n      player_id:'',\n      data_local: JSON.parse(JSON.stringify(this.data)),\n\n      statusOptions: [\n        { label: \"Active\", value: \"active\" },\n        { label: \"Blocked\", value: \"blocked\" },\n        { label: \"Deactivated\", value: \"deactivated\" },\n      ],\n      roleOptions: [\n        { label: \"Admin\", value: \"admin\" },\n        { label: \"User\", value: \"user\" },\n        { label: \"Staff\", value: \"staff\" },\n      ],\n      groupOptions:[\n        { label: \"普通\", value: \"0\" },\n        { label: \"概率组\", value: \"1\" },\n        { label: \"VIP\", value: \"2\" },\n      ],\n      vipOptions:[\n        { label: \"是\", value: \"1\" },\n        { label: \"否\", value: \"0\" },\n      ],\n      allowOptions:[\n        { label: \"允许\", value: \"1\" },\n        { label: \"禁止\", value: \"2\" },\n      ],\n      anchorOptions:[\n        { label: \"是\", value: \"1\" },\n        { label: \"否\", value: \"0\" },\n      ],\n      unionOptions:[],\n\n      //表格\n      defaultColDef: {\n        sortable: false,\n        resizable: false,\n        suppressMenu: false,\n      },\n      usersData:[{id:1,role:\"20%\",status:\"删除\",username:\"111\"}],\n\n      columnDefs: [\n        {\n          headerName: \"箱子名称\",\n          field: \"id\",\n          width: 125,\n          filter: true,\n        },\n        {\n          headerName: \"箱子图片\",\n          field: \"username\",\n          filter: true,\n          width: 300,\n        },\n        {\n          headerName: \"饰品名称\",\n          field: \"email\",\n          filter: true,\n          width: 225,\n        },\n        {\n          headerName: \"饰品图片\",\n          field: \"name\",\n          filter: true,\n          width: 300,\n        },\n        {\n          headerName: \"饰品等级\",\n          field: \"country\",\n          filter: true,\n          width: 150,\n        },\n        {\n          headerName: \"额外概率\",\n          field: \"role\",\n          filter: true,\n          width: 150,\n        },\n        {\n          headerName: \"操作\",\n          field: \"status\",\n          filter: true,\n          width: 150,\n         // cellRendererFramework: \"CellRendererStatus\",\n        },\n      ],\n    };\n  },\n  computed: {\n    status_local: {\n      get() {\n        return {\n          label: this.capitalize(this.data_local.status),\n          value: this.data_local.status,\n        };\n      },\n      set(obj) {\n        this.data_local.status = obj.value;\n      },\n    },\n    role_local: {\n      get() {\n        return {\n          label: this.capitalize(this.data_local.role),\n          value: this.data_local.role,\n        };\n      },\n      set(obj) {\n        this.data_local.role = obj.value;\n      },\n    },\n    validateForm() {\n      return !this.errors.any();\n    },\n  },\n  watch:{\n    'file':{\n      handler(val){\n        if(val){\n          this.edit()\n        }\n      }\n    }\n  },\n  methods: {\n    getUnion(){\n      let _this = this;\n      _this.$axios({\n        url: '/admin/User/getUnion',\n        method: \"post\"\n      }).then(res=>{\n        console.log(res);\n        if(res.data.status == 1){\n          _this.unionOptions = res.data.data.list;\n          console.log(_this.unionOptions);\n        }else{\n          _this.unionOptions = [];\n        }\n      })\n    },\n    edit(){\n      let _this = this;\n      var form = new FormData();\n      form.append('id',_this.player_id);\n      form.append('file',_this.file);\n      _this.$axios({\n            url: '/admin/User/editHeadImage',\n            method: \"post\",\n            headers:{'Content-Type':'multipart/form-data'},\n            data:form,\n        }).then((res) => {\n            if(res.data.status == 1){\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'success'\n                })\n                this.$emit(\"closeSidebar\");\n                this.$emit(\"reload\");\n                // this.initValues();\n            }else{\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'danger'\n                })\n            }\n        });\n    },\n    capitalize(str) {\n      return str.slice(0, 1).toUpperCase() + str.slice(1, str.length);\n    },\n    save_changes() {\n      //只修改用户是否为概率组和VIP\n      // console.log(this.data_local.group);\n      let _this = this;\n      _this.data.allow = _this.data_local.allow;\n      _this.data.group = _this.data_local.group;\n      _this.data.group_vip = _this.data_local.group_vip;\n      _this.data.invite_code = _this.data_local.invite_code;\n      _this.data.tradeUrl = _this.data_local.tradeUrl;\r\n\t  _this.data.lxdh = _this.data_local.lxdh;\r\n\t  _this.data.lxpeople = _this.data_local.lxpeople;\n      _this.data.extra_gift_recharge = _this.data_local.extra_gift_recharge;\n      _this.data.union = _this.data_local.union;\n      _this.data.anchor = _this.data_local.anchor;\n      _this.$axios({\n            url: '/admin/User/editGroup',\n            method: \"post\",\n            data:{\n              player_id:_this.player_id,\n              group:_this.data_local.group,\n              group_vip:_this.data_local.group_vip,\n              invite_code:_this.data.invite_code,\n              allow:_this.data_local.allow,\n              tradeUrl:_this.data_local.tradeUrl,\r\n\t\t\t  lxdh:_this.data_local.lxdh,\r\n\t\t\t  lxpeople:_this.data_local.lxpeople,\n              extra_gift_recharge:_this.data_local.extra_gift_recharge,\n              union:_this.data_local.union,\n              anchor:_this.data_local.anchor,\n              total_amount: _this.data_local.total_amount\n            },\n        }).then((res) => {\n            if(res.data.status == 1){\n              _this.data.group = _this.data_local.group;\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'success'\n                })\n                this.$emit(\"closeSidebar\");\n                this.$emit(\"reload\");\n                // this.initValues();\n            }else{\n                _this.$vs.notify({\n                title: '提示',\n                text: res.data.msg,\n                iconPack: 'feather',\n                icon: 'icon-alert-circle',\n                color: 'danger'\n                })\n            }\n        });\n    },\n    reset_data() {\n      this.data_local = JSON.parse(JSON.stringify(this.data));\n    },\n    update_avatar(input) {\n      if (input.target.files && input.target.files[0]) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          this.data.img = e.target.result;\n        };\n        reader.readAsDataURL(input.target.files[0]);\n        this.file = input.target.files[0];\n      }\n    },\n  },\n  mounted(){\n    this.player_id = this.data.id;\n    this.getUnion();\n  }\n};\n</script>\n<style lang=\"scss\">\n.rounded{\n  object-fit: cover;\n}\n</style>\n"]}]}