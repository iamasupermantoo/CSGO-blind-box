(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dbec5a0"],{"4faa":function(e,t,i){"use strict";var n={users:[]},a=(i("20d6"),{SET_USERS:function(e,t){e.users=t},REMOVE_RECORD:function(e,t){var i=e.users.findIndex((function(e){return e.id===t}));e.users.splice(i,1)}}),r=i("bb36"),s={fetchUsers:function(e){var t=e.commit;return new Promise((function(e,i){r["a"].get("/api/user-management/users").then((function(i){t("SET_USERS",i.data),e(i)})).catch((function(e){i(e)}))}))},fetchUser:function(e,t){return new Promise((function(e,i){r["a"].get("/api/user-management/users/".concat(t)).then((function(t){e(t)})).catch((function(e){i(e)}))}))},removeRecord:function(e,t){var i=e.commit;return new Promise((function(e,n){r["a"].delete("/api/user-management/users/".concat(t)).then((function(n){i("REMOVE_RECORD",t),e(n)})).catch((function(e){n(e)}))}))}},l={};t["a"]={isRegistered:!1,namespaced:!0,state:n,mutations:a,actions:s,getters:l}},"9e6f":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"page-user-list"}},[t("vx-card",{ref:"filterCard",staticClass:"user-list-filters mb-8",attrs:{title:"条件搜索",actionButtons:""},on:{refresh:e.resetColFilters,remove:e.resetColFilters}},[t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[t("vs-input",{staticClass:"w-full",attrs:{label:"开始时间",type:"date"},model:{value:e.input1,callback:function(t){e.input1=t},expression:"input1"}})],1),t("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[t("vs-input",{staticClass:"w-full",attrs:{label:"结束时间",type:"date"},model:{value:e.input2,callback:function(t){e.input2=t},expression:"input2"}})],1)])]),t("div",{staticClass:"vx-card p-6"},[t("div",{staticClass:"flex flex-wrap items-center"},[t("div",{staticClass:"flex-grow"},[t("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[t("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[t("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.paginationPageSize-(e.paginationPageSize-1))+"\n              -\n              "+e._s(e.list.length-e.currentPage*e.paginationPageSize>0?e.currentPage*e.paginationPageSize:e.list.length)+"\n              of "+e._s(e.list.length))]),t("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),t("vs-dropdown-menu",[t("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(10)}}},[t("span",[e._v("10")])]),t("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(20)}}},[t("span",[e._v("20")])]),t("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(25)}}},[t("span",[e._v("25")])]),t("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(30)}}},[t("span",[e._v("30")])])],1)],1)],1),t("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",attrs:{placeholder:"搜索"},on:{input:e.updateSearchQuery},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),t("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{gridOptions:e.gridOptions,columnDefs:e.columnDefs,defaultColDef:e.defaultColDef,rowData:e.list,rowSelection:"multiple",colResizeDefault:"shift",pagination:!0,paginationPageSize:e.paginationPageSize,suppressPaginationPanel:!0,enableRtl:e.$vs.rtl}}),t("vs-pagination",{attrs:{total:e.totalPages,max:7},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},a=[],r=(i("c5f6"),i("401b")),s=(i("4e06"),i("4a7a")),l=i.n(s),o=i("4faa"),u={components:{AgGridVue:r["AgGridVue"],vSelect:l.a},data:function(){return{list:[{id:1,name:"疯狂的蜗牛",box:"20.00",boxClass:"2020-12-28"}],input1:"2020-12-28",input2:"2020-12-29",searchQuery:"",gridApi:null,gridOptions:{},defaultColDef:{sortable:!0,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:"ID",field:"id",width:125,filter:!0},{headerName:"玩家",field:"name",filter:!0,width:210},{headerName:"领取金额",field:"box",filter:!0,width:225},{headerName:"时间",field:"boxClass",filter:!0,width:200}]}},watch:{roleFilter:function(e){this.setColumnFilter("role",e.value)},statusFilter:function(e){this.setColumnFilter("status",e.value)},isVerifiedFilter:function(e){var t="all"===e.value?"all":"yes"===e.value?"true":"false";this.setColumnFilter("is_verified",t)},departmentFilter:function(e){this.setColumnFilter("department",e.value)}},computed:{usersData:function(){return this.$store.state.userManagement.users},paginationPageSize:function(){return this.gridApi?this.gridApi.paginationGetPageSize():10},totalPages:function(){return this.gridApi?this.gridApi.paginationGetTotalPages():0},currentPage:{get:function(){return this.gridApi?this.gridApi.paginationGetCurrentPage()+1:1},set:function(e){this.gridApi.paginationGoToPage(e-1)}}},methods:{geiTime:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),i=new Date;i.setTime(i.getTime()+864e5);var n=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate();this.input1=t,this.input2=n},setColumnFilter:function(e,t){var i=this.gridApi.getFilterInstance(e),n=null;"all"!==t&&(n={type:"equals",filter:t}),i.setModel(n),this.gridApi.onFilterChanged()},resetColFilters:function(){this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged(),this.roleFilter=this.statusFilter=this.isVerifiedFilter=this.departmentFilter={label:"All",value:"all"},this.$refs.filterCard.removeRefreshAnimation()},updateSearchQuery:function(e){this.gridApi.setQuickFilter(e)}},mounted:function(){if(this.geiTime(),this.gridApi=this.gridOptions.api,this.$vs.rtl){var e=this.$refs.agGridTable.$el.querySelector(".ag-header-container");e.style.left="-".concat(String(Number(e.style.transform.slice(11,-3))+9),"px")}},created:function(){o["a"].isRegistered||(this.$store.registerModule("userManagement",o["a"]),o["a"].isRegistered=!0),this.$store.dispatch("userManagement/fetchUsers").catch((function(e){console.error(e)}))}},c=u,d=(i("e33e"),i("2877")),g=Object(d["a"])(c,n,a,!1,null,null,null);t["default"]=g.exports},e33e:function(e,t,i){"use strict";i("fb04")},fb04:function(e,t,i){}}]);
//# sourceMappingURL=chunk-5dbec5a0.9312ebc5.js.map