(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c49ce33"],{"2a31":function(t,e,a){},"5ce5":function(t,e,a){"use strict";a("c52a")},b2d7:function(t,e,a){"use strict";a("2a31")},bead:function(t,e,a){"use strict";a.r(e);a("7f7f");var i=function(){var t=this,e=t._self._c;return e("div",[e("del-frame",{attrs:{delValide:t.delValide,delStatus:t.delStatus},on:{closeDel:t.isDel}}),e("data-view-sidebar",{attrs:{isSidebarActive:t.addNewDataSidebar,data:t.sidebarData},on:{closeSidebar:t.toggleDataSidebar,get:t.getRobotList}}),e("editer-storage",{attrs:{isSidebarActive:t.addBalanceSidebar},on:{closeSidebar:t.toggleBalanceDataSidebar,reload:t.getRobotList}}),e("vx-card",{attrs:{"code-toggler":""}},[e("vs-dropdown",{staticClass:"cursor-pointer mb-4 mr-4 items-per-page-handler",attrs:{"vs-trigger-click":""}},[e("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[e("span",{staticClass:"mr-2"},[t._v(t._s(t.currentPage*t.pageSize-(t.pageSize-1))+" - "+t._s(t.currentPage*t.pageSize)+" of "+t._s(t.total))]),e("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),e("vs-dropdown-menu",[e("vs-dropdown-item",{on:{click:function(e){t.pageSize=10}}},[e("span",[t._v("10")])]),e("vs-dropdown-item",{on:{click:function(e){t.pageSize=20}}},[e("span",[t._v("20")])]),e("vs-dropdown-item",{on:{click:function(e){t.pageSize=30}}},[e("span",[t._v("30")])]),e("vs-dropdown-item",{on:{click:function(e){t.pageSize=50}}},[e("span",[t._v("50")])])],1)],1),e("div",{staticClass:"vx-card p-6"},[e("div",{staticClass:"flex flex-wrap items-center"},[e("vs-button",{on:{click:t.addNewData}},[t._v("添加")]),e("vs-button",{staticStyle:{"margin-left":"15px"},on:{click:function(e){return t.addBalance()}}},[t._v("批量修改余额")])],1)]),e("vs-table",{attrs:{stripe:"",data:t.users},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.data;return t._l(i,(function(a,i){return e("vs-tr",{key:i},[e("vs-td",[t._v("\n            "+t._s(a.id)+"\n          ")]),e("vs-td",[a.img?e("img",{staticClass:"robot-img",attrs:{src:a.img,alt:""}}):e("div",{staticClass:"robot-img"})]),e("vs-td",[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.toEdit(a.id)}}},[t._v(t._s(a.name))])]),e("vs-td",[t._v("\n            "+t._s(a.mobile)+"\n          ")]),e("vs-td",[t._v("\n            "+t._s(a.email)+"\n          ")]),e("vs-td",[t._v("\n            "+t._s(a.total_amount)+"\n          ")]),e("vs-td",[t._v("\n            "+t._s(a.create_time)+"\n          ")]),e("vs-td",[e("div",{style:{direction:t.$vs.rtl?"rtl":"ltr"}},[e("feather-icon",{attrs:{icon:"Edit3Icon",svgClasses:"h-5 w-5 mr-4 hover:text-primary cursor-pointer"},on:{click:function(e){return t.toEdit(a)}}}),e("feather-icon",{attrs:{icon:"Trash2Icon",svgClasses:"h-5 w-5 hover:text-danger cursor-pointer"},on:{click:function(e){return t.Delete(a.id)}}})],1)])],1)}))}}])},[e("template",{slot:"thead"},[e("vs-th",[t._v("id")]),e("vs-th",[t._v("头像")]),e("vs-th",[t._v("昵称")]),e("vs-th",[t._v("账号")]),e("vs-th",[t._v("邮箱")]),e("vs-th",[t._v("余额")]),e("vs-th",[t._v("添加时间")]),e("vs-th",[t._v("操作")])],1)],2)],1),e("vs-pagination",{attrs:{total:t.totalPages,max:7},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},s=[],o=(a("ac6a"),a("ffc1"),function(){var t=this,e=t._self._c;return e("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(e){t.isSidebarActiveLocal=e},expression:"isSidebarActiveLocal"}},[e("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[e("h4",[t._v(t._s(0===Object.entries(this.data).length?"添加":"编辑")+" 机器人")]),e("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1,t.robot={},t.imgFile=null}}})],1),e("vs-divider",{staticClass:"mb-0"}),e(t.scrollbarTag,{key:t.$vs.rtl,tag:"component",staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[t.dataImg?[e("div",{staticClass:"img-container w-64 mx-auto flex items-center justify-center"},[e("img",{staticClass:"responsive",attrs:{src:t.dataImg,alt:"img"}})]),e("div",{staticClass:"modify-img flex justify-between mt-5"},[e("input",{ref:"updateImgInput",staticClass:"hidden",attrs:{type:"file",accept:"image/*"},on:{change:t.updateCurrImg}}),e("vs-button",{staticClass:"mr-4",attrs:{type:"flat"},on:{click:function(e){return t.$refs.updateImgInput.click()}}},[t._v("上传图片")]),e("vs-button",{attrs:{type:"flat",color:"#999"},on:{click:function(e){t.dataImg=null}}},[t._v("删除图片")])],1)]:t._e(),t.dataImg?t._e():e("div",{staticClass:"upload-img mt-5"},[e("input",{ref:"uploadImgInput",staticClass:"hidden",attrs:{type:"file",accept:"image/*"},on:{change:t.updateCurrImg}}),e("vs-button",{on:{click:function(e){return t.$refs.uploadImgInput.click()}}},[t._v("上传图片")])],1),e("div",{staticClass:"p-6"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"姓名",name:"item-name"},model:{value:t.robot.name,callback:function(e){t.$set(t.robot,"name",e)},expression:"robot.name"}}),e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"手机号",name:"item-name"},model:{value:t.robot.mobile,callback:function(e){t.$set(t.robot,"mobile",e)},expression:"robot.mobile"}}),e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"邮箱",name:"item-name"},model:{value:t.robot.email,callback:function(e){t.$set(t.robot,"email",e)},expression:"robot.email"}}),e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"余额",name:"item-name"},model:{value:t.robot.total_amount,callback:function(e){t.$set(t.robot,"total_amount",e)},expression:"robot.total_amount"}})],1)],2),e("div",{staticClass:"flex flex-wrap items-center p-6",attrs:{slot:"footer"},slot:"footer"},[e("vs-button",{staticClass:"mr-6",attrs:{disabled:!t.isFormValid},on:{click:t.submitData}},[t._v("提交")]),e("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(e){t.isSidebarActiveLocal=!1,t.robot={},t.imgFile=null}}},[t._v("取消")])],1)],1)}),n=[],r=a("9d63"),l=a.n(r),c={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},components:{VuePerfectScrollbar:l.a},data:function(){return{dataId:null,dataName:"",dataCategory:null,dataImg:null,dataOrder_status:"pending",dataPrice:0,dataTime:"",category_choices:[{text:"消费",value:"消费"},{text:"工业",value:"工业"},{text:"军规",value:"军规"},{text:"受限",value:"受限"},{text:"保密",value:"保密"},{text:"隐秘",value:"隐秘"},{text:"特殊",value:"特殊"}],order_status_choices:[{text:"Pending",value:"pending"},{text:"Canceled",value:"canceled"},{text:"Delivered",value:"delivered"},{text:"On Hold",value:"on_hold"}],settings:{maxScrollbarLength:60,wheelSpeed:.6},robot:{},imgFile:""}},watch:{isSidebarActive:function(t){if(t)if(console.log(this.data),0===Object.entries(this.data).length)this.initValues(),this.$validator.reset();else{var e=JSON.parse(JSON.stringify(this.data)),a=e.id,i=e.img,s=e.name,o=e.mobile,n=e.email,r=e.total_amount;this.robot.id=a,this.robot.name=s,this.dataImg=i,this.robot.mobile=o,this.robot.email=n,this.robot.total_amount=r}}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||this.$emit("closeSidebar")}},isFormValid:function(){return!0},scrollbarTag:function(){return this.$store.getters.scrollbarTag}},methods:{initValues:function(){this.data.id||(this.robot={})},submitData:function(){var t=this,e=this,a=new FormData;a.append("data",JSON.stringify(e.robot)),a.append("img",e.imgFile);var i="/admin/Robot/addRobot";e.robot.id>0&&(i="/admin/Robot/edit"),e.$axios({url:i,method:"post",data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(a){console.log(a),1==a.data.status?(e.$vs.notify({title:"提示",text:a.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"success"}),t.$emit("closeSidebar"),t.$emit("get"),t.initValues()):e.$vs.notify({title:"提示",text:a.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},updateCurrImg:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(a){e.dataImg=a.target.result,e.imgFile=t.target.files[0]},a.readAsDataURL(t.target.files[0])}}}},d=c,u=(a("b2d7"),a("2877")),v=Object(u["a"])(d,o,n,!1,null,"a722b9ba",null),m=v.exports,b=a("0cd7"),f=function(){var t=this,e=t._self._c;return e("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(e){t.isSidebarActiveLocal=e},expression:"isSidebarActiveLocal"}},[e("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[e("h4",[t._v("\n      批量修改器人余额\n    ")]),e("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1}}})],1),e(t.scrollbarTag,{key:t.$vs.rtl,tag:"component",staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[e("div",{staticClass:"p-6"},[e("vs-input",{staticClass:"mt-5 w-full",attrs:{label:"请输入需要增加的余额(正数为增加,负数减少)",name:"item-type_name"},model:{value:t.balance,callback:function(e){t.balance=e},expression:"balance"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("item-type_name"),expression:"errors.has('item-type_name')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("item-type_name")))])],1)]),e("div",{staticClass:"flex flex-wrap items-center p-6",attrs:{slot:"footer"},slot:"footer"},[e("vs-button",{staticClass:"mr-6",on:{click:t.submitData}},[t._v("提交")]),e("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(e){t.isSidebarActiveLocal=!1}}},[t._v("取消")])],1)],1)},g=[],p={props:{isSidebarActive:{type:Boolean,required:!0}},components:{VuePerfectScrollbar:l.a},data:function(){return{boxId:null,accessKeyId:"",accessKeySecret:"",endpoint:"",bucket:"",balance:"",settings:{maxScrollbarLength:60,wheelSpeed:.6},file:""}},watch:{isSidebarActive:function(t){}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||this.$emit("closeSidebar")}},isFormValid:function(){return!this.errors.any()&&this.type_name},scrollbarTag:function(){return this.$store.getters.scrollbarTag}},methods:{initValues:function(){this.balance=""},submitData:function(){var t=this,e=this;if(void 0!=e.balance&&""!=e.balance){var a={balance:e.balance};console.log(a),e.$axios({url:"/admin/Robot/editBalance",method:"post",data:a}).then((function(a){1==a.data.status?(e.$vs.notify({title:"提示",text:a.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"success"}),t.$emit("closeSidebar"),t.$emit("reload"),t.initValues()):e.$vs.notify({title:"提示",text:a.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))}else e.$vs.notify({title:"提示",text:"请输入余额",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}}},h=p,_=(a("5ce5"),Object(u["a"])(h,f,g,!1,null,"2e12adfa",null)),S=_.exports,x={components:{DataViewSidebar:m,DelFrame:b["a"],EditerStorage:S},data:function(){return{addNewDataSidebar:!1,addBalanceSidebar:!1,sidebarData:{},users:[],total:0,totalPages:0,currentPage:1,pageSize:10,delValide:!1,delStatus:0,del_id:""}},computed:{},watch:{currentPage:{handler:function(t){this.getRobotList()}},pageSize:{handler:function(t){this.getRobotList()}}},methods:{getRobotList:function(){var t=this;t.$axios({url:"/admin/Robot/robotList",method:"post",data:{page:t.currentPage,pageSize:t.pageSize}}).then((function(e){1==e.data.status?(t.users=e.data.data.list,t.total=e.data.data.total,t.totalPages=t.pageTotal(t.total,t.pageSize)):t.users=[]}))},pageTotal:function(t,e){return null==t||""==t?0:0!=e&&t%e==0?parseInt(t/e):0!=e&&t%e!=0?parseInt(t/e)+1:void 0},toEdit:function(t){this.sidebarData=t,this.toggleDataSidebar(!0)},addNewData:function(){this.sidebarData={},this.toggleDataSidebar(!0)},addBalance:function(){this.sidebarData={},this.toggleBalanceDataSidebar(!0)},toggleBalanceDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addBalanceSidebar=t},toggleDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addNewDataSidebar=t},Delete:function(t){var e=this;e.del_id=t,e.closeDel()},closeDel:function(){var t=this;t.delValide=!0},isDel:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t){var e=this;e.$axios({url:"/admin/Robot/del",method:"post",data:{id:e.del_id}}).then((function(t){1==t.data.status?(e.getRobotList(),e.delStatus=1):e.delStatus=2}))}}},mounted:function(){this.getRobotList()}},w=x,k=(a("dae3"),Object(u["a"])(w,i,s,!1,null,null,null));e["default"]=k.exports},c52a:function(t,e,a){},dae3:function(t,e,a){"use strict";a("db8b")},db8b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4c49ce33.cb09da76.js.map