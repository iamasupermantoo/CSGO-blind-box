(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-068afc3a"],{"05a6":function(e,t,a){"use strict";a("da46")},3779:function(e,t,a){"use strict";a("7377")},3939:function(e,t,a){"use strict";a("f90a")},"4faa":function(e,t,a){"use strict";var i={users:[]},s=(a("20d6"),{SET_USERS:function(e,t){e.users=t},REMOVE_RECORD:function(e,t){var a=e.users.findIndex((function(e){return e.id===t}));e.users.splice(a,1)}}),l=a("bb36"),r={fetchUsers:function(e){var t=e.commit;return new Promise((function(e,a){l["a"].get("/api/user-management/users").then((function(a){t("SET_USERS",a.data),e(a)})).catch((function(e){a(e)}))}))},fetchUser:function(e,t){return new Promise((function(e,a){l["a"].get("/api/user-management/users/".concat(t)).then((function(t){e(t)})).catch((function(e){a(e)}))}))},removeRecord:function(e,t){var a=e.commit;return new Promise((function(e,i){l["a"].delete("/api/user-management/users/".concat(t)).then((function(i){a("REMOVE_RECORD",t),e(i)})).catch((function(e){i(e)}))}))}},n={};t["a"]={isRegistered:!1,namespaced:!0,state:i,mutations:s,actions:r,getters:n}},7377:function(e,t,a){},8449:function(e,t,a){"use strict";a("386b")("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},9010:function(e,t,a){"use strict";a("e244")},da46:function(e,t,a){},e244:function(e,t,a){},f762:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"page-user-edit"}},[a("vs-alert",{attrs:{color:"danger",title:"User Not Found",active:e.user_not_found},on:{"update:active":function(t){e.user_not_found=t}}},[a("span",[e._v("User record with id: "+e._s(e.$route.params.userId)+" not found. ")]),a("span",[a("span",[e._v("Check ")]),a("router-link",{staticClass:"text-inherit underline",attrs:{to:{name:"page-user-list"}}},[e._v("All Users")])],1)]),e.user_data?a("vx-card",[a("div",{staticClass:"tabs-container px-6 pt-6",attrs:{slot:"no-body"},slot:"no-body"},[a("vs-tabs",{staticClass:"tab-action-btn-fill-conatiner",model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("vs-tab",{attrs:{label:"基本信息","icon-pack":"feather",icon:"icon-user"}},[a("div",{staticClass:"tab-text"},[a("user-edit-tab-account",{staticClass:"mt-4",attrs:{data:e.user_data}})],1)]),a("vs-tab",{attrs:{label:"玩家背包","icon-pack":"feather",icon:"icon-info"}},[a("div",{staticClass:"tab-text"},[a("user-edit-tab-information",{staticClass:"mt-4",attrs:{data:e.user_data}})],1)]),a("vs-tab",{attrs:{label:"充值记录","icon-pack":"feather",icon:"icon-share-2"}},[a("div",{staticClass:"tab-text"},[a("user-edit-tab-social",{staticClass:"mt-4",attrs:{data:e.user_data}})],1)]),a("vs-tab",{attrs:{label:"用户下线充值","icon-pack":"feather",icon:"icon-share-0"}},[a("div",{staticClass:"tab-text"},[a("user-edit-offline",{staticClass:"mt-4",attrs:{data:e.user_data}})],1)])],1)],1)]):e._e()],1)},s=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"user-edit-tab-info"}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"flex items-start flex-col sm:flex-row"},[a("img",{staticClass:"mr-8 rounded h-24 w-24",attrs:{src:e.data.img}}),a("div",{staticStyle:{"margin-top":"25px"}},[a("input",{ref:"update_avatar_input",staticClass:"hidden",attrs:{type:"file",accept:"image/*"},on:{change:e.update_avatar}}),a("vs-button",{staticClass:"mr-4 mb-4",on:{click:function(t){return e.$refs.update_avatar_input.click()}}},[e._v("更换头像")])],1)])])]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"w-full mt-4",attrs:{label:"昵称",name:"data_local.name",disabled:""},model:{value:e.data_local.name,callback:function(t){e.$set(e.data_local,"name",t)},expression:"data_local.name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("username"),expression:"errors.has('username')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("username")))]),a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"邀请码",type:"email",name:"data_local.invite_code"},model:{value:e.data_local.invite_code,callback:function(t){e.$set(e.data_local,"invite_code",t)},expression:"data_local.invite_code"}}),a("vs-select",{staticClass:"mt-4 w-full",attrs:{label:"用户身份",name:"item-category"},model:{value:e.data_local.group,callback:function(t){e.$set(e.data_local,"group",t)},expression:"data_local.group"}},e._l(e.groupOptions,(function(e){return a("vs-select-item",{key:e.value,attrs:{value:e.value,text:e.label}})})),1),a("vs-select",{staticClass:"mt-4 w-full",attrs:{label:"取回状态",name:"item-category"},model:{value:e.data_local.allow,callback:function(t){e.$set(e.data_local,"allow",t)},expression:"data_local.allow"}},e._l(e.allowOptions,(function(e){return a("vs-select-item",{key:e.value,attrs:{value:e.value,text:e.label}})})),1),a("vs-select",{staticClass:"mt-4 w-full",attrs:{label:"工会名称",name:"item-category"},model:{value:e.data_local.union,callback:function(t){e.$set(e.data_local,"union",t)},expression:"data_local.union"}},[a("vs-select-item",{key:"0",attrs:{value:"0",text:"请选择",checked:"",disabled:""}}),e._l(e.unionOptions,(function(e){return a("vs-select-item",{key:e.id,attrs:{value:e.id,text:e.name}})}))],2),a("vs-select",{staticClass:"mt-4 w-full",attrs:{label:"是否为主播",name:"item-category"},model:{value:e.data_local.anchor,callback:function(t){e.$set(e.data_local,"anchor",t)},expression:"data_local.anchor"}},e._l(e.anchorOptions,(function(e){return a("vs-select-item",{key:e.value,attrs:{value:e.value,text:e.label}})})),1)],1),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full mt-4",attrs:{label:"邮箱",type:"email",name:"email",disabled:""},model:{value:e.data_local.email,callback:function(t){e.$set(e.data_local,"email",t)},expression:"data_local.email"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("email")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full mt-4",attrs:{label:"余额",name:"total_amount"},model:{value:e.data_local.total_amount,callback:function(t){e.$set(e.data_local,"total_amount",t)},expression:"data_local.total_amount"}}),a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"收货人",name:"lxpeople"},model:{value:e.data_local.lxpeople,callback:function(t){e.$set(e.data_local,"lxpeople",t)},expression:"data_local.lxpeople"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("lxpeople"),expression:"errors.has('lxpeople')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("lxpeople")))]),a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"联系电话",name:"lxdh"},model:{value:e.data_local.lxdh,callback:function(t){e.$set(e.data_local,"lxdh",t)},expression:"data_local.lxdh"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("lxdh"),expression:"errors.has('lxdh')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("lxdh")))]),a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"收货地址",name:"tradeUrl"},model:{value:e.data_local.tradeUrl,callback:function(t){e.$set(e.data_local,"tradeUrl",t)},expression:"data_local.tradeUrl"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("tradeUrl"),expression:"errors.has('tradeUrl')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("tradeUrl")))]),1==e.data_local.group?a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"下线充值额外加赠(%)",name:"extra_gift_recharge"},model:{value:e.data_local.extra_gift_recharge,callback:function(t){e.$set(e.data_local,"extra_gift_recharge",t)},expression:"data_local.extra_gift_recharge"}}):e._e(),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("extra_gift_recharge"),expression:"errors.has('extra_gift_recharge')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("extra_gift_recharge")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"alpha_spaces",expression:"'alpha_spaces'"}],staticClass:"w-full mt-4",attrs:{label:"创建时间",draggable:"true",name:"create_time",disabled:""},model:{value:e.data_local.create_time,callback:function(t){e.$set(e.data_local,"create_time",t)},expression:"data_local.create_time"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("create_time"),expression:"errors.has('create_time')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("create_time")))]),a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"上级用户昵称",name:"inviter_name",disabled:""},model:{value:e.data_local.inviter_name,callback:function(t){e.$set(e.data_local,"inviter_name",t)},expression:"data_local.inviter_name"}})],1)]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!e.validateForm},on:{click:e.save_changes}},[e._v("保存")])],1)])])])},r=[],n=(a("8449"),a("401b")),o=a("4a7a"),c=a.n(o),d={components:{vSelect:c.a,AgGridVue:n["AgGridVue"]},props:{data:{type:Object,required:!0}},data:function(){return{file:"",player_id:"",data_local:JSON.parse(JSON.stringify(this.data)),statusOptions:[{label:"Active",value:"active"},{label:"Blocked",value:"blocked"},{label:"Deactivated",value:"deactivated"}],roleOptions:[{label:"Admin",value:"admin"},{label:"User",value:"user"},{label:"Staff",value:"staff"}],groupOptions:[{label:"普通",value:"0"},{label:"概率组",value:"1"},{label:"VIP",value:"2"}],vipOptions:[{label:"是",value:"1"},{label:"否",value:"0"}],allowOptions:[{label:"允许",value:"1"},{label:"禁止",value:"2"}],anchorOptions:[{label:"是",value:"1"},{label:"否",value:"0"}],unionOptions:[],defaultColDef:{sortable:!1,resizable:!1,suppressMenu:!1},usersData:[{id:1,role:"20%",status:"删除",username:"111"}],columnDefs:[{headerName:"箱子名称",field:"id",width:125,filter:!0},{headerName:"箱子图片",field:"username",filter:!0,width:300},{headerName:"饰品名称",field:"email",filter:!0,width:225},{headerName:"饰品图片",field:"name",filter:!0,width:300},{headerName:"饰品等级",field:"country",filter:!0,width:150},{headerName:"额外概率",field:"role",filter:!0,width:150},{headerName:"操作",field:"status",filter:!0,width:150}]}},computed:{status_local:{get:function(){return{label:this.capitalize(this.data_local.status),value:this.data_local.status}},set:function(e){this.data_local.status=e.value}},role_local:{get:function(){return{label:this.capitalize(this.data_local.role),value:this.data_local.role}},set:function(e){this.data_local.role=e.value}},validateForm:function(){return!this.errors.any()}},watch:{file:{handler:function(e){e&&this.edit()}}},methods:{getUnion:function(){var e=this;e.$axios({url:"/admin/User/getUnion",method:"post"}).then((function(t){console.log(t),1==t.data.status?(e.unionOptions=t.data.data.list,console.log(e.unionOptions)):e.unionOptions=[]}))},edit:function(){var e=this,t=this,a=new FormData;a.append("id",t.player_id),a.append("file",t.file),t.$axios({url:"/admin/User/editHeadImage",method:"post",headers:{"Content-Type":"multipart/form-data"},data:a}).then((function(a){1==a.data.status?(t.$vs.notify({title:"提示",text:a.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"success"}),e.$emit("closeSidebar"),e.$emit("reload")):t.$vs.notify({title:"提示",text:a.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},capitalize:function(e){return e.slice(0,1).toUpperCase()+e.slice(1,e.length)},save_changes:function(){var e=this,t=this;t.data.allow=t.data_local.allow,t.data.group=t.data_local.group,t.data.group_vip=t.data_local.group_vip,t.data.invite_code=t.data_local.invite_code,t.data.tradeUrl=t.data_local.tradeUrl,t.data.lxdh=t.data_local.lxdh,t.data.lxpeople=t.data_local.lxpeople,t.data.extra_gift_recharge=t.data_local.extra_gift_recharge,t.data.union=t.data_local.union,t.data.anchor=t.data_local.anchor,t.$axios({url:"/admin/User/editGroup",method:"post",data:{player_id:t.player_id,group:t.data_local.group,group_vip:t.data_local.group_vip,invite_code:t.data.invite_code,allow:t.data_local.allow,tradeUrl:t.data_local.tradeUrl,lxdh:t.data_local.lxdh,lxpeople:t.data_local.lxpeople,extra_gift_recharge:t.data_local.extra_gift_recharge,union:t.data_local.union,anchor:t.data_local.anchor,total_amount:t.data_local.total_amount}}).then((function(a){1==a.data.status?(t.data.group=t.data_local.group,t.$vs.notify({title:"提示",text:a.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"success"}),e.$emit("closeSidebar"),e.$emit("reload")):t.$vs.notify({title:"提示",text:a.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},reset_data:function(){this.data_local=JSON.parse(JSON.stringify(this.data))},update_avatar:function(e){var t=this;if(e.target.files&&e.target.files[0]){var a=new FileReader;a.onload=function(e){t.data.img=e.target.result},a.readAsDataURL(e.target.files[0]),this.file=e.target.files[0]}}},mounted:function(){this.player_id=this.data.id,this.getUnion()}},u=d,m=(a("3779"),a("2877")),p=Object(m["a"])(u,l,r,!1,null,null,null),f=p.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"page-user-list"}},[a("div",{staticClass:"vx-card p-6"},[a("div",{staticClass:"flex flex-wrap items-center"},[a("div",{staticClass:"flex-grow"},[a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.pageSize-(e.pageSize-1))+" - "+e._s(e.currentPage*e.pageSize)+" of "+e._s(e.total))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(t){e.pageSize=10}}},[a("span",[e._v("10")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=20}}},[a("span",[e._v("20")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=30}}},[a("span",[e._v("30")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=50}}},[a("span",[e._v("50")])])],1)],1)],1),a("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",attrs:{placeholder:"Search..."},on:{input:e.updateSearchQuery},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),a("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{components:e.components,gridOptions:e.gridOptions,columnDefs:e.columnDefs,defaultColDef:e.defaultColDef,rowData:e.list,rowSelection:"multiple",colResizeDefault:"shift",animateRows:!0,floatingFilter:!1,pagination:!0,pageSize:e.pageSize,suppressPaginationPanel:!0,enableRtl:e.$vs.rtl}}),a("vs-pagination",{attrs:{total:e.totalPages,max:7},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])},v=[],g=(a("c5f6"),a("4e06"),a("4faa")),_={components:{AgGridVue:n["AgGridVue"],vSelect:c.a},props:{data:{type:Object,required:!0}},data:function(){return{player_id:"",data_local:this.data,searchQuery:"",list:[],gridApi:null,gridOptions:{},defaultColDef:{sortable:!0,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:"id",field:"id",width:100,filter:!0},{headerName:"名称",field:"name",filter:!0,width:220},{headerName:"价格",field:"price",filter:!0,width:100},{headerName:"获取方式",field:"wayStr",filter:!0,width:150},{headerName:"状态",field:"statusStr",filter:!0,width:150},{headerName:"获取时间",field:"create_time",filter:!0,width:200},{headerName:"收货人",field:"lxpeople",filter:!0,width:150},{headerName:"联系电话",field:"lxdh",filter:!0,width:150},{headerName:"收货地址",field:"tradeurl",filter:!0,width:300}],components:{},currentPage:1,pageSize:10,totalPages:0,total:0}},watch:{roleFilter:function(e){this.setColumnFilter("role",e.value)},statusFilter:function(e){this.setColumnFilter("status",e.value)},isVerifiedFilter:function(e){var t="all"===e.value?"all":"yes"===e.value?"true":"false";this.setColumnFilter("is_verified",t)},departmentFilter:function(e){this.setColumnFilter("department",e.value)},pageSize:function(){this.getRechargeList()},currentPage:function(){this.getRechargeList()}},computed:{},methods:{getRechargeList:function(){var e=this;e.$axios({url:"/admin/User/playerPackege",method:"post",data:{page:e.currentPage,pageSize:e.pageSize,player_id:e.player_id}}).then((function(t){console.log(t),1==t.data.status?(e.list=t.data.data.list,e.total=t.data.data.total,e.totalPages=e.pageTotal(e.total,e.pageSize)):(e.list=[],e.total=0,e.totalPages=1)}))},pageTotal:function(e,t){return null==e||""==e?0:0!=t&&e%t==0?parseInt(e/t):0!=t&&e%t!=0?parseInt(e/t)+1:void 0},setColumnFilter:function(e,t){var a=this.gridApi.getFilterInstance(e),i=null;"all"!==t&&(i={type:"equals",filter:t}),a.setModel(i),this.gridApi.onFilterChanged()},resetColFilters:function(){this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged(),this.roleFilter=this.statusFilter=this.isVerifiedFilter=this.departmentFilter={label:"All",value:"all"},this.$refs.filterCard.removeRefreshAnimation()},updateSearchQuery:function(e){this.gridApi.setQuickFilter(e)}},mounted:function(){if(this.player_id=this.data.id,this.getRechargeList(),this.$vs.rtl){var e=this.$refs.agGridTable.$el.querySelector(".ag-header-container");e.style.left="-".concat(String(Number(e.style.transform.slice(11,-3))+9),"px")}},created:function(){g["a"].isRegistered||(this.$store.registerModule("userManagement",g["a"]),g["a"].isRegistered=!0),this.$store.dispatch("userManagement/fetchUsers").catch((function(e){console.error(e)}))}},b=_,w=(a("9010"),Object(m["a"])(b,h,v,!1,null,null,null)),x=w.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"page-user-list"}},[a("div",{staticClass:"vx-card p-6"},[a("div",{staticClass:"flex flex-wrap items-center"},[a("div",{staticClass:"flex-grow"},[a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.pageSize-(e.pageSize-1))+" - "+e._s(e.currentPage*e.pageSize)+" of "+e._s(e.total))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(t){e.pageSize=10}}},[a("span",[e._v("10")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=20}}},[a("span",[e._v("20")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=30}}},[a("span",[e._v("30")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=50}}},[a("span",[e._v("50")])])],1)],1)],1),a("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",on:{input:e.input},model:{value:e.recharge,callback:function(t){e.recharge=t},expression:"recharge"}}),a("vs-button",{on:{click:e.recharge_btn}},[e._v("平台充值")])],1),a("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{components:e.components,gridOptions:e.gridOptions,columnDefs:e.columnDefs,defaultColDef:e.defaultColDef,rowData:e.list,rowSelection:"multiple",colResizeDefault:"shift",animateRows:!0,floatingFilter:!1,pagination:!0,pageSize:e.pageSize,suppressPaginationPanel:!0,enableRtl:e.$vs.rtl}}),a("vs-pagination",{attrs:{total:e.totalPages,max:7},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])},y=[],S={components:{AgGridVue:n["AgGridVue"],vSelect:c.a},props:{data:{type:Object,required:!0}},data:function(){return{searchQuery:"",list:[{id:"200",username:"微信",email:"26032626xxaaw22",name:"2020-12-22"}],gridApi:null,gridOptions:{},defaultColDef:{sortable:!0,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:"充值金额",field:"money",width:125,filter:!0},{headerName:"支付方式",field:"mode",filter:!0,width:210},{headerName:"订单号",field:"order_num",filter:!0,width:225},{headerName:"充值时间",field:"create_time",filter:!0,width:200},{headerName:"状态",field:"statusStr",filter:!0,width:200}],components:{},currentPage:1,pageSize:10,totalPages:0,total:0,recharge:""}},watch:{roleFilter:function(e){this.setColumnFilter("role",e.value)},statusFilter:function(e){this.setColumnFilter("status",e.value)},isVerifiedFilter:function(e){var t="all"===e.value?"all":"yes"===e.value?"true":"false";this.setColumnFilter("is_verified",t)},departmentFilter:function(e){this.setColumnFilter("department",e.value)},pageSize:function(){this.getRechargeList()},currentPage:function(){this.getRechargeList()}},computed:{},methods:{getRechargeList:function(){var e=this;e.$axios({url:"/admin/User/rechargeList",method:"post",data:{page:e.currentPage,pageSize:e.pageSize,player_id:e.player_id}}).then((function(t){console.log(t),1==t.data.status?(e.list=t.data.data.list,e.total=t.data.data.total,e.totalPages=e.pageTotal(e.total,e.pageSize)):(e.list=[],e.total=0,e.totalPages=1)}))},input:function(e){console.log(e)},recharge_btn:function(){var e=this;this.$vs.dialog({type:"confirm",title:"提示",text:"确定给该用户充值 "+e.recharge+" 钻？",accept:e.sure,cancel:e.cancel,acceptText:"确定",cancelText:"取消"})},sure:function(){var e=this;e.$axios({url:"/admin/User/recharge",method:"post",data:{recharge:e.recharge,player_id:e.player_id}}).then((function(t){1==t.data.status?(e.getRechargeList(),e.recharge="",e.$vs.notify({title:"提示",text:t.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"success"})):e.$vs.notify({title:"提示",text:t.data.msg,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},cancel:function(){this.continue=!1},pageTotal:function(e,t){return null==e||""==e?0:0!=t&&e%t==0?parseInt(e/t):0!=t&&e%t!=0?parseInt(e/t)+1:void 0},setColumnFilter:function(e,t){var a=this.gridApi.getFilterInstance(e),i=null;"all"!==t&&(i={type:"equals",filter:t}),a.setModel(i),this.gridApi.onFilterChanged()},resetColFilters:function(){this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged(),this.roleFilter=this.statusFilter=this.isVerifiedFilter=this.departmentFilter={label:"All",value:"all"},this.$refs.filterCard.removeRefreshAnimation()},updateSearchQuery:function(e){this.gridApi.setQuickFilter(e)}},mounted:function(){this.gridApi=this.gridOptions.api,this.player_id=this.data.id,this.getRechargeList()},created:function(){}},k=S,F=(a("3939"),Object(m["a"])(k,C,y,!1,null,null,null)),$=F.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"page-user-list"}},[a("vx-card",{ref:"filterCard",staticClass:"user-list-filters mb-8",attrs:{title:"条件搜索",actionButtons:""},on:{refresh:e.resetColFilters,remove:e.resetColFilters}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("状态")]),a("v-select",{staticClass:"mb-4 md:mb-0",attrs:{options:e.statusOptions,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.roleFilter,callback:function(t){e.roleFilter=t},expression:"roleFilter"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("起始时间")]),a("vs-input",{staticClass:"mt-5 w-full define",attrs:{type:"date"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit.apply(null,arguments)}},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("截至时间")]),a("vs-input",{staticClass:"mt-5 w-full define",attrs:{type:"date"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit.apply(null,arguments)}},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[a("vs-button",{staticClass:"search",on:{click:e.search}},[e._v("搜索")]),a("vs-button",{staticClass:"search",on:{click:e.clear}},[e._v("清空")])],1)])]),a("div",{staticClass:"vx-card p-6"},[a("div",{staticClass:"flex flex-wrap items-center"},[a("div",{staticClass:"flex-grow"},[a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.pageSize-(e.pageSize-1))+" - "+e._s(e.currentPage*e.pageSize)+" of "+e._s(e.total))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(t){e.pageSize=10}}},[a("span",[e._v("10")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=20}}},[a("span",[e._v("20")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=30}}},[a("span",[e._v("30")])]),a("vs-dropdown-item",{on:{click:function(t){e.pageSize=50}}},[a("span",[e._v("50")])])],1)],1)],1),e._v("\n       累计："+e._s(e.sum)+"  成功充值："+e._s(e.sumSuccess)+"\n    ")]),a("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{components:e.components,gridOptions:e.gridOptions,columnDefs:e.columnDefs,defaultColDef:e.defaultColDef,rowData:e.list,rowSelection:"multiple",colResizeDefault:"shift",animateRows:!0,floatingFilter:!1,pagination:!0,pageSize:e.pageSize,suppressPaginationPanel:!0,enableRtl:e.$vs.rtl}}),a("vs-pagination",{attrs:{total:e.totalPages,max:7},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},z=[],O=(a("a481"),a("6b54"),a("87b3"),a("386d"),{components:{AgGridVue:n["AgGridVue"],vSelect:c.a},props:{data:{type:Object,required:!0}},data:function(){return{player_id:"",searchQuery:"",roleFilter:{label:"所有",value:""},statusOptions:[{label:"所有",value:""},{label:"已支付",value:"3"},{label:"未支付",value:"1"}],startTime:"0000-00-00 00:00:00",endTime:this.dateFormat("y-m-d h:i:s",new Date),sum:"",sumSuccess:"",list:[],gridApi:null,gridOptions:{},defaultColDef:{sortable:!0,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:"用户",field:"name",width:150,filter:!0},{headerName:"手机号",field:"mobile",width:150,filter:!0},{headerName:"充值金额",field:"money",width:125,filter:!0},{headerName:"支付方式",field:"mode",filter:!0,width:120},{headerName:"订单号",field:"order_num",filter:!0,width:240},{headerName:"充值时间",field:"create_time",filter:!0,width:200},{headerName:"状态",field:"statusStr",filter:!0,width:100}],components:{},currentPage:1,pageSize:10,totalPages:0,total:0,status:""}},watch:{roleFilter:function(e){this.setColumnFilter("role",e.value)},statusFilter:function(e){this.setColumnFilter("status",e.value)},isVerifiedFilter:function(e){var t="all"===e.value?"all":"yes"===e.value?"true":"false";this.setColumnFilter("is_verified",t)},departmentFilter:function(e){this.setColumnFilter("department",e.value)},pageSize:function(){this.getRechargeList()},currentPage:function(){this.getRechargeList()}},computed:{},methods:{getRechargeList:function(){var e=this;e.startTime&&e.endTime&&e.startTime>e.endTime?e.$vs.notify({color:"danger",title:"提示",text:"时间筛选有误"}):e.$axios({url:"/admin/User/offlineRecharge",method:"post",data:{page:e.currentPage,pageSize:e.pageSize,player_id:e.player_id,status:e.status,startTime:e.startTime,endTime:e.endTime}}).then((function(t){console.log(t),1==t.data.status?(e.list=t.data.data.list,e.sum=t.data.data.sum,e.sumSuccess=t.data.data.sumSuccess,e.total=t.data.data.total,e.totalPages=e.pageTotal(e.total,e.pageSize)):(e.list=[],e.total=0,e.totalPages=1,e.sum=t.data.data.sum,e.sumSuccess=t.data.data.sumSuccess)}))},search:function(){this.status=this.roleFilter.value,this.getRechargeList()},onSubmit:function(){this.search()},clear:function(){""==this.startTime&&""==this.endTime&&""==this.status||(this.startTime="",this.endTime="",this.status="",this.roleFilter={label:"所有",value:""},this.getRechargeList())},pageTotal:function(e,t){return null==e||""==e?0:0!=t&&e%t==0?parseInt(e/t):0!=t&&e%t!=0?parseInt(e/t)+1:void 0},setColumnFilter:function(e,t){this.status=t,this.getRechargeList()},resetColFilters:function(){this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged(),this.roleFilter=this.statusFilter=this.isVerifiedFilter=this.departmentFilter={label:"All",value:"all"},this.$refs.filterCard.removeRefreshAnimation()},updateSearchQuery:function(e){this.gridApi.setQuickFilter(e)},dateFormat:function(e,t){var a,i="ymdhis";e||(e="y-m-d h:i:s"),a=t?new Date(t):new Date;for(var s=[a.getFullYear().toString(),(a.getMonth()+1).toString(),a.getDate().toString(),a.getHours().toString(),a.getMinutes().toString(),a.getSeconds().toString()],l=0;l<s.length;l++)e=e.replace(i.charAt(l),s[l]);return e}},mounted:function(){if(this.gridApi=this.gridOptions.api,this.player_id=this.data.id,this.getRechargeList(),this.$vs.rtl){var e=this.$refs.agGridTable.$el.querySelector(".ag-header-container");e.style.left="-".concat(String(Number(e.style.transform.slice(11,-3))+9),"px")}},created:function(){g["a"].isRegistered||(this.$store.registerModule("userManagement",g["a"]),g["a"].isRegistered=!0),this.$store.dispatch("userManagement/fetchUsers").catch((function(e){console.error(e)}))}}),R=O,N=(a("05a6"),Object(m["a"])(R,P,z,!1,null,null,null)),T=N.exports,D={components:{UserEditTabAccount:f,UserEditTabInformation:x,UserEditTabSocial:$,UserEditOffline:T},data:function(){return{user_data:null,user_not_found:!1,activeTab:0,player_id:""}},watch:{activeTab:function(){}},mounted:function(){this.player_id=this.$route.params.userId,this.getUserInfo()},methods:{getUserInfo:function(){var e=this;e.$axios({url:"/admin/user/playerInfo",method:"post",data:{player_id:e.player_id}}).then((function(t){console.log(t),e.user_data=t.data.data}))}},created:function(){g["a"].isRegistered||(this.$store.registerModule("userManagement",g["a"]),g["a"].isRegistered=!0)}},U=D,A=Object(m["a"])(U,i,s,!1,null,null,null);t["default"]=A.exports},f90a:function(e,t,a){}}]);
//# sourceMappingURL=chunk-068afc3a.36dc9913.js.map