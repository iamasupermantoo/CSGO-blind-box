{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\src\\components\\my_slide1.vue?vue&type=style&index=0&id=54963533&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\src\\components\\my_slide1.vue","mtime":1621257050000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouc2xpZGUgL2RlZXAvIC5lbC1jYXJvdXNlbF9faW5kaWNhdG9ycy0tb3V0c2lkZSB7DQogIGRpc3BsYXk6IG5vbmU7DQp9DQoubGF0ZWx5ew0KIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBoZWlnaHQ6IDg2cHg7DQp9DQpAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMjgwcHgpICBhbmQgKG1heC13aWR0aDogMTM2MHB4KSAgew0KICAuc2xpZGUgew0KICAgIC5zbGlkZS11bHsNCiAgICAgIGxpew0KICAgICAgICB3aWR0aDogY2FsYygxMDB2dyAvIDUpIWltcG9ydGFudDsNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEwMjRweCkgIGFuZCAobWF4LXdpZHRoOiAxMjc5cHgpICB7DQogIC5zbGlkZSB7DQogICAgLnNsaWRlLXVsew0KICAgICAgbGl7DQogICAgICAgIHdpZHRoOiBjYWxjKDEwMHZ3IC8gNCkhaW1wb3J0YW50Ow0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0KQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpICBhbmQgKG1heC13aWR0aDogMTAyM3B4KSAgew0KICAuc2xpZGUgew0KICAgIC5zbGlkZS11bHsNCiAgICAgIGxpew0KICAgICAgICB3aWR0aDogY2FsYygxMDB2dyAvIDMpIWltcG9ydGFudDsNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCkBtZWRpYSBzY3JlZW4gIGFuZCAobWF4LXdpZHRoOiA3NjdweCkgIHsNCiAgLnNsaWRlIHsNCiAgICAuc2xpZGUtdWx7DQogICAgICBsaXsNCiAgICAgICAgd2lkdGg6IGNhbGMoMTAwdncgLyAyKSFpbXBvcnRhbnQ7DQogICAgICB9DQogICAgfQ0KICB9DQp9DQouc2xpZGUgew0KICAgIG92ZXJmbG93LXk6IGhpZGRlbjsNCiAgICBvdmVyZmxvdy14OiBoaWRkZW47DQogIC5zbGlkZS11bCB7DQogICAgaGVpZ2h0OiA4NnB4Ow0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIC8vIHdpZHRoOmNhbGMoMTAwdncpOw0KICAgIHdpZHRoOjEwMCU7DQogICAgcmlnaHQ6IDA7DQogICAgb3ZlcmZsb3cteDogaGlkZGVuOw0KICAgIC5kaXYtbGl7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgcmlnaHQ6IDA7DQogICAgICAvLyB3aWR0aDogMTAwJTsNCiAgICB9DQogICAgbGkgew0KICAgICAgd2lkdGg6IGNhbGMoMTAwdncgLyA2KTsNCiAgICAgIGZsb2F0OiBsZWZ0Ow0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KA0KICAgICAgICByZ2JhKDQzLCA0NCwgNTUsIDAuNSksDQogICAgICAgIHJnYmEoMTczLCAyMDAsIDIwMywgMC41KQ0KICAgICAgKTsNCiAgICAgIHotaW5kZXg6IDA7DQogICAgICAubGluZSB7DQogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgYm90dG9tOiA0cHg7DQogICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICBoZWlnaHQ6IDJweDsNCiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2FjYzdjYTsNCiAgICAgIH0NCiAgICAgIC5saW5lMSB7DQogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNiODY4YjM7DQogICAgICB9DQogICAgICAubGluZTIgew0KICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFhOTIxOw0KICAgICAgfQ0KICAgICAgLy8gYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2NSwgMTA1LCAxNjEsIDAuNCk7DQogICAgICAvLyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2ZmZjsNCg0KICAgICAgLnNsaWRlLXdhcnAgew0KICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICBwYWRkaW5nOiA1cHggMTBweDsNCiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgLmxlZnQgew0KICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDsNCiAgICAgICAgICAvL2ZsZXg6IDEgMSBhdXRvOw0KICAgICAgICAgIGltZyB7DQogICAgICAgICAgICBoZWlnaHQ6IDcwcHg7DQogICAgICAgICAgICB3aWR0aDogYXV0bzsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLnJpZ2h0IHsNCiAgICAgICAgICAvL2ZsZXg6IDIgMSBhdXRvOw0KICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgICBoNCB7DQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgICAgICAgICAgY29sb3I6ICNBREM4Q0I7DQogICAgICAgICAgICBmb250LXdlaWdodDogMjAwOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4Ow0KICAgICAgICAgIH0NCiAgICAgICAgICBoNSB7DQogICAgICAgICAgICBjb2xvcjogIzg0ODQ5MjsNCiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogICAgICAgICAgICBmb250LXdlaWdodDogMjAwOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICAgICAgc3BhbiB7DQogICAgICAgICAgICAgIGNvbG9yOiAjQURDOENCOw0KICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGg2IHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KDQogICAgICAgICAgICBpbWcgew0KICAgICAgICAgICAgICB3aWR0aDogMjBweDsNCiAgICAgICAgICAgICAgaGVpZ2h0OiAyMHB4Ow0KICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHNwYW4gew0KICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCiAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDsNCiAgICAgICAgICAgICAgY29sb3I6ICM4NDg0OTI7DQogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgLmxpMSB7DQogICAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoDQogICAgICAgIHJnYmEoNDMsIDQ0LCA1NSwgMC41KSwNCiAgICAgICAgcmdiYSgxODUsIDEwNSwgMjEyLCAwLjUpDQogICAgICApOw0KICAgIH0NCiAgICAubGkyIHsNCiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgNCiAgICAgICAgcmdiYSg0MywgNDQsIDU1LCAwLjUpLA0KICAgICAgICByZ2JhKDI0MSwgMTY5LCAzMiwgMC41KQ0KICAgICAgKTsNCiAgICB9DQogIH0NCiAgLnNsaWRlLXVsOmhvdmVyIHsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogIH0NCn0NCi51bC1saW5lew0KICBoZWlnaHQ6IDJweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBib3R0b206IDBweDsNCiAgd2lkdGg6IDEwMCU7DQogIHotaW5kZXg6IC0xOw0KfQ0KLnVsLWxpbmUtMXsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAycHg7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCiAgICAgYm90dG9tOiAwcHg7DQogICAgIHotaW5kZXg6IC0yOw0KfQ0KDQovZGVlcC8gLmVsLWNhcm91c2VsX19pdGVtLmlzLWFuaW1hdGluZ3sNCiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDEuNnMgZWFzZS1pbi1vdXQ7DQp9DQoNCi9kZWVwLyAuZWwtY2Fyb3VzZWxfX2NvbnRhaW5lcnsNCiAgICBvdmVyZmxvdy15OiBoaWRkZW47DQp9DQoNCg=="},{"version":3,"sources":["my_slide1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"my_slide1.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"slide\">\r\n    <!-- <el-carousel indicator-position=\"outside\" height=\"86px\"> -->\r\n      <!-- <el-carousel-item v-for=\"(item, index) in listSlide\" :key=\"index\"> -->\r\n      <div class=\"lately\">    \r\n        <ul class=\"slide-ul\" id=\"slide-ul\">\r\n          <div class=\"div-li\" id=\"div-li\">\r\n          <li\r\n            :id=\"'li'+index1\"\r\n            :ref=\"'item'+index1\"\r\n            v-for=\"(item1, index1) in boxList\"\r\n            :key=\"index1\"\r\n            @click=\"getBox(item1.box_id)\"\r\n            :style=\"{\r\n              backgroundImage:'linear-gradient(' + item1.color1 + ',' + item1.color2 + ',' + item1.color3 + ',' + item1.color4 + ')',\r\n              borderColor:item1.color4\r\n            }\"\r\n          >\r\n           <!-- borderColor:item1.color -->\r\n            <div class=\"slide-warp\">\r\n              <div class=\"left\">\r\n                <img :src=\"item1.imageUrl\" />\r\n              </div>\r\n              <div class=\"right\">\r\n                <h4 class=\"r-2\" :style=\"{color:item1.color}\">{{ item1.skin_name }}</h4>\r\n                <h5>\r\n                  打开 <span>{{ item1.box_name }}</span> 获得\r\n                </h5>\r\n                <h6>\r\n                  <img :src=\"item1.player_img\" />\r\n                  <span style=\"color:#ADC8CB;\">{{ item1.player_name }}</span>\r\n                </h6>\r\n              </div>\r\n            </div>\r\n            <span\r\n              :style=\"{\r\n                backgroundColor: item1.color,\r\n              }\"\r\n            ></span>\r\n            <span class=\"back\"></span>\r\n            <div \r\n                class=\"ul-line\"\r\n                :style=\"{\r\n                    backgroundColor:item1.color4\r\n                }\"\r\n            ></div>\r\n            <div class=\"ul-line-1\"></div>\r\n          </li>\r\n          </div>\r\n        </ul>\r\n      <!-- </el-carousel-item> -->\r\n        </div>\r\n      <!-- <div class=\"ul-line\"></div> -->\r\n    <!-- </el-carousel> -->\r\n    <div class=\"clear\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { openBox } from \"@/api/socket.js\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      listSlide: [[], [], []],\r\n      boxList:[],\r\n      totalLength:0,\r\n      doing:false,\r\n      screenWidth:document.body.clientWidth,\r\n      pageSize:this.setPageSize(document.body.clientWidth),\r\n      time:null,\r\n      waitTime:[],\r\n      times:[]\r\n    };\r\n  },\r\n  watch:{\r\n    screenWidth(val){\r\n      // 为了避免频繁触发resize函数导致页面卡顿，使用定时器\r\n      if(!this.timer){\r\n        // 一旦监听到的screenWidth值改变，就将其重新赋给data里的screenWidth\r\n        this.screenWidth = val\r\n        this.timer = true\r\n        let _this = this\r\n        setTimeout(function(){\r\n          // 打印screenWidth变化的值\r\n          _this.timer = false\r\n          let pageSize = _this.setPageSize(_this.screenWidth)\r\n          if(_this.pageSize != pageSize){\r\n            _this.pageSize = pageSize\r\n            _this.getList();\r\n          }\r\n        },300)\r\n      }\r\n    },\r\n    doing(val){\r\n      // console.log('doing:'+val,'length:'+this.waitTime.length);\r\n      if(!val){\r\n        console.log(this.waitTime.length);\r\n        if(this.waitTime.length>0){\r\n          this.moveRecord(this.waitTime[0].d)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    setPageSize(clientWidth){\r\n      let pageSize = 0;\r\n      if(clientWidth < 768){\r\n        pageSize = 2;\r\n      }\r\n      if((clientWidth >= 768) && (clientWidth < 1024)){\r\n        pageSize = 3;\r\n      }\r\n      if((clientWidth >= 1024) && (clientWidth < 1280)){\r\n        pageSize = 4;\r\n      }\r\n      if((clientWidth >= 1280) && (clientWidth < 1360)){\r\n        pageSize = 5;\r\n      }\r\n      if(clientWidth >= 1360){\r\n        pageSize = 6;\r\n      }\r\n      return pageSize;\r\n    },\r\n    getList() {\r\n      let param = {\r\n        page: 1,\r\n        pageSize: this.pageSize\r\n      };\r\n      this.$axios\r\n        .post(\"/index/Box/lately\", this.$qs.stringify(param))\r\n        .then((res) => {\r\n          let data = res.data;\r\n          if (data.status == 1) {\r\n            for (let i = 0; i < data.data.list.length; i++) {\r\n              data.data.list[i].color = this.transferColorToRgb(\r\n                data.data.list[i].color\r\n              );\r\n              data.data.list[i].color1 =\r\n                \"rgba\" +\r\n                data.data.list[i].color.substring(\r\n                  3,\r\n                  data.data.list[i].color.length - 1\r\n                ) +\r\n                \", 0)\";\r\n\r\n              data.data.list[i].color2 =\r\n                \"rgba\" +\r\n                data.data.list[i].color.substring(\r\n                  3,\r\n                  data.data.list[i].color.length - 1\r\n                ) +\r\n                \", 0.02)\";\r\n\r\n              data.data.list[i].color3 =\r\n              \"rgba\" +\r\n              data.data.list[i].color.substring(\r\n                3,\r\n                data.data.list[i].color.length - 1\r\n              ) +\r\n              \", 0.06)\";\r\n\r\n              data.data.list[i].color4 =\r\n              \"rgba\" +\r\n              data.data.list[i].color.substring(\r\n                3,\r\n                data.data.list[i].color.length - 1\r\n              ) +\r\n              \", 0.2)\";\r\n            this.boxList = data.data.list\r\n            }\r\n          }\r\n        });\r\n    },\r\n\r\n    //处理颜色\r\n    setColor(length){\r\n       for (let i = 0; i < length; i++) {\r\n        this.boxList[i].color = this.transferColorToRgb(\r\n          this.boxList[i].color\r\n        );\r\n        this.boxList[i].color1 =\r\n          \"rgba\" +\r\n          this.boxList[i].color.substring(\r\n            3,\r\n            this.boxList[i].color.length - 1\r\n          ) +\r\n          \", 0)\";\r\n\r\n        this.boxList[i].color2 =\r\n          \"rgba\" +\r\n          this.boxList[i].color.substring(\r\n            3,\r\n            this.boxList[i].color.length - 1\r\n          ) +\r\n          \", 0.02)\";\r\n\r\n        this.boxList[i].color3 =\r\n        \"rgba\" +\r\n        this.boxList[i].color.substring(\r\n          3,\r\n          this.boxList[i].color.length - 1\r\n        ) +\r\n        \", 0.06)\";\r\n\r\n        this.boxList[i].color4 =\r\n        \"rgba\" +\r\n        this.boxList[i].color.substring(\r\n          3,\r\n          this.boxList[i].color.length - 1\r\n        ) +\r\n        \", 0.2)\";\r\n      }\r\n    },\r\n    transferColorToRgb(color) {\r\n      if (typeof color !== \"string\" && !(color instanceof String))\r\n        return console.error(\"请输入16进制字符串形式的颜色值\");\r\n      color = color.charAt(0) === \"#\" ? color.substring(1) : color;\r\n      if (color.length !== 6 && color.length !== 3)\r\n        return console.error(\"请输入正确的颜色值\");\r\n      if (color.length === 3) {\r\n        color = color.replace(/(\\w)(\\w)(\\w)/, \"$1$1$2$2$3$3\");\r\n      }\r\n      var reg = /\\w{2}/g;\r\n      var colors = color.match(reg);\r\n      for (var i = 0; i < colors.length; i++) {\r\n        colors[i] = parseInt(colors[i], 16).toString();\r\n      }\r\n      return \"rgb(\" + colors.join() + \")\";\r\n    },\r\n    getBox(box_id) {\r\n      this.$router.push({\r\n        path: `/Openbox`,\r\n        query: {\r\n          box_id: box_id,\r\n        },\r\n      });\r\n    },\r\n    //推送\r\n    initWebSocket() {\r\n      const wsuri = openBox();\r\n      this.websock = new WebSocket(wsuri);\r\n      this.websock.onmessage = this.websocketonmessage;\r\n      this.websock.onopen = this.websocketonopen;\r\n      this.websock.onerror = this.websocketonerror;\r\n      this.websock.onclose = this.websocketclose;\r\n    },\r\n\r\n    websocketonopen() {\r\n      //let actions = { test: \"12345\" };\r\n      //this.websocketsend(JSON.stringify(actions));\r\n    },\r\n\r\n    websocketonerror() {\r\n      this.initWebSocket();\r\n    },\r\n\r\n    websocketonmessage(d) {\r\n      let _this = this;\r\n      // console.log(\"接收:\",JSON.parse(d.data));\r\n      // console.log(JSON.parse(d.data));\r\n      if(JSON.parse(d.data).info){\r\n        let info = JSON.parse(d.data).info;\r\n        let cartState = info.cartState;\r\n        let infos = {\r\n          \"time\":cartState == 'false' ? (9500 + info.length*200) : 800,\r\n          \"d\":d\r\n        }\r\n        _this.waitTime.push(infos);\r\n\r\n        if(!_this.doing){\r\n          _this.moveRecord(_this.waitTime[0].d);\r\n        }\r\n\r\n        // if(!_this.time){\r\n        //   _this.time = setInterval(() => {\r\n        //     if(_this.waitTime.length>0){\r\n        //       if(!_this.doing){\r\n        //         _this.moveRecord(_this.waitTime[0].d);\r\n        //       }\r\n        //     }else{\r\n        //       clearInterval(_this.time);\r\n        //       _this.time = null;\r\n        //     }\r\n        //     console.log('等待-')\r\n        //   },300);\r\n        // }\r\n\r\n        // console.log(_this.waitTime);\r\n        \r\n        // if(!_this.doing){\r\n        //   //未执行状态\r\n        //   _this.moveRecord(d);\r\n        // }else{\r\n        //   // if(_this.time){\r\n        //   //   return\r\n        //   // }\r\n        //   // _this.time = setInterval(() => {\r\n        //   //   //如果_this.doing状态为false表示未执行或者执行完毕，则再操作执行\r\n        //   //   // console.log(_this.doing);\r\n        //   //   if(!_this.doing){\r\n        //   //     d ? _this.moveRecord(d) : '';\r\n        //   //     clearInterval(_this.time)\r\n        //   //   }\r\n        //   // }, 500);\r\n        // }\r\n      }\r\n    },\r\n\r\n    websocketsend(Data) {\r\n      if (this.websock.readyState === WebSocket.OPEN) {\r\n        this.websock.send(Data);\r\n      }\r\n    },\r\n\r\n    websocketclose(e) {\r\n      // console.log(\"close:\", e);\r\n    },\r\n\r\n    //滑动顶部开箱记录\r\n    moveRecord(d){\r\n      let _this = this;\r\n      if(JSON.parse(d.data).info){\r\n        this.doing = true;\r\n        let info = JSON.parse(d.data).info.skins_info;\r\n        let cartState = JSON.parse(d.data).info.cartState;\r\n        if(info){\r\n          info.forEach(element => {\r\n            _this.boxList.unshift(element)\r\n          });\r\n          _this.setColor(info.length);\r\n          //位移\r\n          // console.log(_this.pageSize == _this.boxList.length - info.length);\r\n          if(_this.pageSize == _this.boxList.length - info.length){\r\n            setTimeout(() => {\r\n              let ele = document.getElementById('div-li')\r\n              // _this.totalLength += info.length;\r\n              let width = _this.$refs['item0'][0].getBoundingClientRect().width;//精确到小数点\r\n              let distance =  info.length * width;\r\n              ele.style.transform  = \"translateX(\"+distance+\"px)\";\r\n              ele.style.transition = 2 + 's';\r\n              //位移完成后，从列表尾部移除与本次增加相等的量\r\n              setTimeout(() => {\r\n                for(let i = 0; i < info.length; i++){\r\n                  _this.boxList.pop()\r\n                  ele.style.transform  = \"translateX(\"+0+\"px)\";\r\n                  ele.style.transition = 0 + 's';\r\n                  _this.doing = false;\r\n                  _this.waitTime.shift();\r\n                }\r\n              }, 2000);\r\n            }, cartState == 'false' ? (9500 + info.length*200) : 800);\r\n          }else{\r\n            _this.doing = false;\r\n            _this.waitTime.shift();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy(){\r\n    \r\n  },\r\n  mounted() {\r\n    let _this = this;\r\n    _this.getList();\r\n    window.onresize = () => {\r\n      return (() => {\r\n        window.screenWidth = document.body.clientWidth\r\n        _this.screenWidth = window.screenWidth;\r\n        // let divLiWidth = document.getElementById('slide-ul').clientWidth\r\n        // console.log(divLiWidth);\r\n        // console.log(_this.screenWidth);\r\n      })()\r\n    }\r\n  },\r\n  created() {\r\n    this.initWebSocket();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.slide /deep/ .el-carousel__indicators--outside {\r\n  display: none;\r\n}\r\n.lately{\r\n position: relative;\r\n    height: 86px;\r\n}\r\n@media screen and (min-width: 1280px)  and (max-width: 1360px)  {\r\n  .slide {\r\n    .slide-ul{\r\n      li{\r\n        width: calc(100vw / 5)!important;\r\n      }\r\n    }\r\n  }\r\n}\r\n@media screen and (min-width: 1024px)  and (max-width: 1279px)  {\r\n  .slide {\r\n    .slide-ul{\r\n      li{\r\n        width: calc(100vw / 4)!important;\r\n      }\r\n    }\r\n  }\r\n}\r\n@media screen and (min-width: 768px)  and (max-width: 1023px)  {\r\n  .slide {\r\n    .slide-ul{\r\n      li{\r\n        width: calc(100vw / 3)!important;\r\n      }\r\n    }\r\n  }\r\n}\r\n@media screen  and (max-width: 767px)  {\r\n  .slide {\r\n    .slide-ul{\r\n      li{\r\n        width: calc(100vw / 2)!important;\r\n      }\r\n    }\r\n  }\r\n}\r\n.slide {\r\n    overflow-y: hidden;\r\n    overflow-x: hidden;\r\n  .slide-ul {\r\n    height: 86px;\r\n    display: flex;\r\n    position: absolute;\r\n    // width:calc(100vw);\r\n    width:100%;\r\n    right: 0;\r\n    overflow-x: hidden;\r\n    .div-li{\r\n      display: flex;\r\n      position: absolute;\r\n      right: 0;\r\n      // width: 100%;\r\n    }\r\n    li {\r\n      width: calc(100vw / 6);\r\n      float: left;\r\n      display: flex;\r\n      justify-content: center;\r\n      position: relative;\r\n      background-image: linear-gradient(\r\n        rgba(43, 44, 55, 0.5),\r\n        rgba(173, 200, 203, 0.5)\r\n      );\r\n      z-index: 0;\r\n      .line {\r\n        position: absolute;\r\n        bottom: 4px;\r\n        width: 100%;\r\n        height: 2px;\r\n        background-color: #acc7ca;\r\n      }\r\n      .line1 {\r\n        background-color: #b868b3;\r\n      }\r\n      .line2 {\r\n        background-color: #f1a921;\r\n      }\r\n      // background-color: rgba(65, 105, 161, 0.4);\r\n      // border-bottom: 2px solid #fff;\r\n\r\n      .slide-warp {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 5px 10px;\r\n        overflow: hidden;\r\n        .left {\r\n          margin-right: 10px;\r\n          //flex: 1 1 auto;\r\n          img {\r\n            height: 70px;\r\n            width: auto;\r\n          }\r\n        }\r\n        .right {\r\n          //flex: 2 1 auto;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          h4 {\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            white-space: nowrap;\r\n            color: #ADC8CB;\r\n            font-weight: 200;\r\n            font-size: 13px;\r\n          }\r\n          h5 {\r\n            color: #848492;\r\n            white-space: nowrap;\r\n            font-weight: 200;\r\n            font-size: 12px;\r\n            span {\r\n              color: #ADC8CB;\r\n              font-size: 12px;\r\n            }\r\n          }\r\n          h6 {\r\n            display: flex;\r\n            align-items: center;\r\n\r\n            img {\r\n              width: 20px;\r\n              height: 20px;\r\n              border-radius: 50%;\r\n            }\r\n\r\n            span {\r\n              overflow: hidden;\r\n              text-overflow: ellipsis;\r\n              white-space: nowrap;\r\n              margin-left: 5px;\r\n              color: #848492;\r\n              font-size: 12px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .li1 {\r\n      background-image: linear-gradient(\r\n        rgba(43, 44, 55, 0.5),\r\n        rgba(185, 105, 212, 0.5)\r\n      );\r\n    }\r\n    .li2 {\r\n      background-image: linear-gradient(\r\n        rgba(43, 44, 55, 0.5),\r\n        rgba(241, 169, 32, 0.5)\r\n      );\r\n    }\r\n  }\r\n  .slide-ul:hover {\r\n    cursor: pointer;\r\n  }\r\n}\r\n.ul-line{\r\n  height: 2px;\r\n  background-color: #ffffff;\r\n  position: absolute;\r\n  bottom: 0px;\r\n  width: 100%;\r\n  z-index: -1;\r\n}\r\n.ul-line-1{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 2px;\r\n    background-color: #ffffff;\r\n     bottom: 0px;\r\n     z-index: -2;\r\n}\r\n\r\n/deep/ .el-carousel__item.is-animating{\r\n  transition: transform 1.6s ease-in-out;\r\n}\r\n\r\n/deep/ .el-carousel__container{\r\n    overflow-y: hidden;\r\n}\r\n\r\n</style>"]}]}