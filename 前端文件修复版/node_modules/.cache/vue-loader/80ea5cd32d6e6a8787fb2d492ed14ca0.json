{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\src\\components\\LuckyHistory.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\src\\components\\LuckyHistory.vue","mtime":1619965058000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\验收文件0516\\manghefront\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3FzJzsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYWN0aXZlTmFtZToib25lIiwNCiAgICAgIHRvdGFsU2l6ZTogMCwNCiAgICAgIHBhZ2U6IDEsDQogICAgICBwYWdlU2l6ZTogMTAsDQogICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgdG90YWxTaXplMTogMCwNCiAgICAgIHBhZ2UxOiAxLA0KICAgICAgcGFnZVNpemUxOiAxMCwNCiAgICAgIHRhYmxlRGF0YTE6IFtdLA0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKXsNCiAgICB0aGlzLmdldEhpc3QodGhpcy5wYWdlKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFRhYih0YWIpew0KICAgICAgaWYodGFiLm5hbWUgPT0gIm9uZSIpew0KICAgICAgICB0aGlzLmdldEhpc3QodGhpcy5wYWdlKTsNCiAgICAgIH1lbHNlew0KICAgICAgICB0aGlzLmdldE15SGlzdCh0aGlzLnBhZ2UxKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldEhpc3QocGFnZSl7DQogICAgICBsZXQgcGFyYW0gPSB7DQogICAgICAgIHBhZ2U6IHBhZ2UsDQogICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLA0KICAgICAgfTsNCiAgICAgIHRoaXMuJGF4aW9zDQogICAgICAgIC5wb3N0KCIvaW5kZXgvQmF0dGxlL2JhdHRsZUxpc3QiLCB0aGlzLiRxcy5zdHJpbmdpZnkocGFyYW0pKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsNCiAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gIjEiICYmIGRhdGEuZGF0YSAhPSBudWxsKSB7DQogICAgICAgICAgICB0aGlzLnRvdGFsU2l6ZSA9IGRhdGEuZGF0YS50b3RhbDsNCiAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gZGF0YS5kYXRhLmJhdHRsZUxpc3Q7DQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGFibGVEYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgIGlmKHRoaXMudGFibGVEYXRhW2ldLnN0YXR1cyA9PSAxKXsNCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5zdGF0dXNOYW1lID0gIuetieW+heS4rSI7DQogICAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMudGFibGVEYXRhW2ldLnN0YXR1cyA9PSAyKXsNCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5zdGF0dXNOYW1lID0gIui/m+ihjOS4rSI7DQogICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldLnN0YXR1c05hbWUgPSAi5bey57uT5p2fIjsNCiAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgZ2V0TXlIaXN0KHBhZ2Upew0KICAgICAgIGxldCBwYXJhbSA9IHsNCiAgICAgICAgcGxheWVyX2lkOnRoaXMuJHN0b3JlLnN0YXRlLmlkLA0KICAgICAgICBwYWdlOiBwYWdlLA0KICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZTEsDQogICAgICB9Ow0KICAgICAgdGhpcy4kYXhpb3MNCiAgICAgICAgLnBvc3QoImluZGV4L0JhdHRsZS9iYXR0bGVIaXN0b3J5IiwgdGhpcy4kcXMuc3RyaW5naWZ5KHBhcmFtKSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAvLyAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7DQogICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09ICIxIiAmJiBkYXRhLmRhdGEgIT0gbnVsbCkgew0KICAgICAgICAgICAgdGhpcy50b3RhbFNpemUxID0gZGF0YS5kYXRhLnRvdGFsOw0KICAgICAgICAgICAgdGhpcy50YWJsZURhdGExID0gZGF0YS5kYXRhLmxpc3Q7DQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGFibGVEYXRhMS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YTFbaV0uYm94SW5mbyA9IEpTT04ucGFyc2UodGhpcy50YWJsZURhdGExW2ldLmJveEluZm8pOw0KICAgICAgICAgICAgICBpZih0aGlzLnRhYmxlRGF0YTFbaV0uc3RhdHVzID09IDEpew0KICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhMVtpXS5zdGF0dXNOYW1lID0gIuetieW+heS4rSI7DQogICAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMudGFibGVEYXRhMVtpXS5zdGF0dXMgPT0gMil7DQogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGExW2ldLnN0YXR1c05hbWUgPSAi6L+b6KGM5LitIjsNCiAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGExW2ldLnN0YXR1c05hbWUgPSAi5bey57uT5p2fIjsNCiAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgLy/liIbpobUg5omA5pyJ6K6w5b2VDQogICAgY3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgICB0aGlzLmdldEhpc3QodmFsKTsNCiAgICB9LA0KICAgIC8v5YiG6aG1IOaIkeeahOiusOW9lQ0KICAgIGN1cnJlbnRDaGFuZ2UxKHZhbCkgew0KICAgICAgdGhpcy5nZXRNeUhpc3QodmFsKTsNCiAgICB9LA0KICAgIGdvTHVja3koKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIHBhdGg6IGAvTHVja3lgLA0KICAgICAgfSk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["LuckyHistory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LuckyHistory.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"hist\">\r\n    <div class=\"hist-warp\">\r\n      <div class=\"roomleft-num\">\r\n        <h5 @click=\"goLucky\">盲盒对战</h5>\r\n        >\r\n        <h6>活动历史</h6>\r\n      </div>\r\n\r\n      <div class=\"hist-list\">\r\n        <el-tabs type=\"border-card\" v-model=\"activeName\" @tab-click=\"getTab\">\r\n          <el-tab-pane label=\"所有记录\" name=\"one\">\r\n            <div class=\"bot\">\r\n              <el-table :data=\"tableData\"  style=\"width: 100%\">\r\n                <el-table-column prop=\"create_time\" label=\"时间\" >\r\n                </el-table-column>\r\n                <el-table-column prop=\"room_num\" label=\"编号\" >\r\n                </el-table-column>\r\n               <el-table-column label=\"玩家\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-image\r\n                      v-for=\"(item, index) in scope.row.player_info\"\r\n                      :key=\"index\"\r\n                      style=\"width: 30px; height: 30px;border-radius: 50%;margin-right: 5px;margin-top: 15px;\"  \r\n                      :src=\"item.img\"\r\n                      :preview-src-list=\"[item.img]\"\r\n                    ></el-image>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"盲盒信息\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-image\r\n                      v-for=\"(item, index) in scope.row.boxInfo\"\r\n                      :key=\"index\"\r\n                      style=\"width: 40px; height: 40px;\"\r\n                      :src=\"item.img_main\"\r\n                      :preview-src-list=\"[item.img_main]\"\r\n                    ></el-image>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"statusName\" label=\"状态\"> </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <div class=\"roll-page\">\r\n              <el-pagination\r\n                background\r\n                layout=\"prev, pager, next\"\r\n                :total=\"totalSize\"\r\n                :page-size=\"pageSize\"\r\n                @current-change=\"currentChange\"\r\n              >\r\n              </el-pagination>\r\n            </div>\r\n          </el-tab-pane>\r\n\r\n\r\n\r\n          <el-tab-pane label=\"我的活动记录\" name=\"two\">\r\n            <div class=\"bot\">\r\n              <el-table :data=\"tableData1\"  style=\"width: 100%\">\r\n                <el-table-column prop=\"create_time\" label=\"时间\" >\r\n                </el-table-column>\r\n                <el-table-column prop=\"room_num\" label=\"编号\" >\r\n                </el-table-column>\r\n               <el-table-column label=\"玩家\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-image\r\n                      v-for=\"(item, index) in scope.row.player_info\"\r\n                      :key=\"index\"\r\n                      style=\"width: 30px; height: 30px;border-radius: 50%;margin-right: 5px;margin-top: 15px;\"  \r\n                      :src=\"item.img\"\r\n                      :preview-src-list=\"[item.img]\"\r\n                    ></el-image>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"盲盒信息\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-image\r\n                      v-for=\"(item, index) in scope.row.boxInfo\"\r\n                      :key=\"index\"\r\n                      style=\"width: 40px; height: 40px;\"\r\n                      :src=\"item.img_main\"\r\n                      :preview-src-list=\"[item.img_main]\"\r\n                    ></el-image>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"statusName\" label=\"状态\"> </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <div class=\"roll-page\">\r\n              <el-pagination\r\n                background\r\n                layout=\"prev, pager, next\"\r\n                :total=\"totalSize1\"\r\n                :page-size=\"pageSize1\"\r\n                @current-change=\"currentChange1\"\r\n              >\r\n              </el-pagination>\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { parse } from 'qs';\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeName:\"one\",\r\n      totalSize: 0,\r\n      page: 1,\r\n      pageSize: 10,\r\n      tableData: [],\r\n      totalSize1: 0,\r\n      page1: 1,\r\n      pageSize1: 10,\r\n      tableData1: [],\r\n    };\r\n  },\r\n  mounted(){\r\n    this.getHist(this.page);\r\n  },\r\n  methods: {\r\n    getTab(tab){\r\n      if(tab.name == \"one\"){\r\n        this.getHist(this.page);\r\n      }else{\r\n        this.getMyHist(this.page1);\r\n      }\r\n    },\r\n    getHist(page){\r\n      let param = {\r\n        page: page,\r\n        pageSize: this.pageSize,\r\n      };\r\n      this.$axios\r\n        .post(\"/index/Battle/battleList\", this.$qs.stringify(param))\r\n        .then((res) => {\r\n         // console.log(res.data);\r\n          var data = res.data;\r\n          if (data.status == \"1\" && data.data != null) {\r\n            this.totalSize = data.data.total;\r\n            this.tableData = data.data.battleList;\r\n            for (let i = 0; i < this.tableData.length; i++) {\r\n              if(this.tableData[i].status == 1){\r\n                this.tableData[i].statusName = \"等待中\";\r\n              }else if(this.tableData[i].status == 2){\r\n                this.tableData[i].statusName = \"进行中\";\r\n              }else{\r\n                this.tableData[i].statusName = \"已结束\";\r\n              } \r\n            }\r\n          }\r\n        });\r\n    },\r\n    getMyHist(page){\r\n       let param = {\r\n        player_id:this.$store.state.id,\r\n        page: page,\r\n        pageSize: this.pageSize1,\r\n      };\r\n      this.$axios\r\n        .post(\"index/Battle/battleHistory\", this.$qs.stringify(param))\r\n        .then((res) => {\r\n        //  console.log(res.data);\r\n          var data = res.data;\r\n          if (data.status == \"1\" && data.data != null) {\r\n            this.totalSize1 = data.data.total;\r\n            this.tableData1 = data.data.list;\r\n            for (let i = 0; i < this.tableData1.length; i++) {\r\n              this.tableData1[i].boxInfo = JSON.parse(this.tableData1[i].boxInfo);\r\n              if(this.tableData1[i].status == 1){\r\n                this.tableData1[i].statusName = \"等待中\";\r\n              }else if(this.tableData1[i].status == 2){\r\n                this.tableData1[i].statusName = \"进行中\";\r\n              }else{\r\n                this.tableData1[i].statusName = \"已结束\";\r\n              } \r\n            }\r\n          }\r\n        });\r\n    },\r\n    //分页 所有记录\r\n    currentChange(val) {\r\n       this.getHist(val);\r\n    },\r\n    //分页 我的记录\r\n    currentChange1(val) {\r\n      this.getMyHist(val);\r\n    },\r\n    goLucky() {\r\n      this.$router.push({\r\n        path: `/Lucky`,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.hist {\r\n  overflow: hidden;\r\n  overflow-y: scroll;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #1a1c24;\r\n\r\n  .hist-warp {\r\n    padding: 16px;\r\n  }\r\n\r\n  //tabs\r\n  .hist-list {\r\n    margin-top: 20px;\r\n  }\r\n  .hist-list /deep/ .el-tabs--border-card {\r\n    //overflow: hidden;\r\n    background-color: #2b2c37;\r\n    border: none;\r\n    // border-radius: 5px;\r\n  }\r\n  .hist-list /deep/ .el-tabs--border-card > .el-tabs__header {\r\n    border: none;\r\n    background-color: #1a1c24;\r\n  }\r\n  .hist-list\r\n    /deep/\r\n    .el-tabs--border-card\r\n    > .el-tabs__header\r\n    .el-tabs__item.is-active {\r\n    background-color: #2b2c37;\r\n    border: none;\r\n  }\r\n  .hist-list /deep/ .el-tabs--border-card > .el-tabs__header .el-tabs__item {\r\n    background-color: #24252f;\r\n    border: none;\r\n  }\r\n  .hist-list\r\n    /deep/\r\n    .el-tabs--border-card\r\n    > .el-tabs__header\r\n    .el-tabs__item.is-active {\r\n    color: #e9b10e;\r\n  }\r\n\r\n  //页数\r\n  .roll-page {\r\n    margin: 10px 0 0 -10px;\r\n  }\r\n  .roll-page\r\n    /deep/\r\n    .el-pagination.is-background\r\n    .el-pager\r\n    li:not(.disabled).active {\r\n    background-color: #e9b10e;\r\n    color: #1a1c24;\r\n  }\r\n  .roll-page /deep/ .el-pagination.is-background .btn-next,\r\n  /deep/ .el-pagination.is-background .btn-prev,\r\n  /deep/ .el-pagination.is-background .el-pager li {\r\n    background-color: #333542;\r\n    color: #848492;\r\n  }\r\n  //表格\r\n  .bot /deep/ .el-table th,\r\n  .bot /deep/ .el-table tr {\r\n    background-color: #2b2c37;\r\n  }\r\n  .bot /deep/ .el-table td,\r\n  .bot /deep/ .el-table th.is-leaf {\r\n    border-bottom: 1px solid #444659;\r\n  }\r\n  .bot /deep/ .el-table::before {\r\n    height: 0;\r\n  }\r\n  .bot /deep/ .el-table--enable-row-hover .el-table__body tr:hover > td {\r\n    background-color: #212e3e !important;\r\n  }\r\n  .bot /deep/ .cell {\r\n    padding: 0;\r\n    height: 60px;\r\n    line-height: 60px;\r\n  }\r\n  .bot /deep/ .el-table__empty-block {\r\n    background-color: #2b2c37;\r\n  }\r\n\r\n  .roomleft-num {\r\n    display: flex;\r\n    align-items: center;\r\n    color: #848492;\r\n    font-size: 16px;\r\n\r\n    h5 {\r\n      font-size: 16px;\r\n      font-weight: 200;\r\n    }\r\n    h5:hover {\r\n      cursor: pointer;\r\n      color: #e9b10e;\r\n      text-decoration: underline;\r\n    }\r\n    h6 {\r\n      font-weight: 200;\r\n      color: #c3c3e2;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}